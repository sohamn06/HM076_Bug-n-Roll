var bP=Object.defineProperty;var SP=(t,e,n)=>e in t?bP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var re=(t,e,n)=>SP(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function IP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qE={exports:{}},Od={},GE={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.element"),kP=Symbol.for("react.portal"),CP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),PP=Symbol.for("react.profiler"),RP=Symbol.for("react.provider"),DP=Symbol.for("react.context"),MP=Symbol.for("react.forward_ref"),NP=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),LP=Symbol.for("react.lazy"),yv=Symbol.iterator;function VP(t){return t===null||typeof t!="object"?null:(t=yv&&t[yv]||t["@@iterator"],typeof t=="function"?t:null)}var KE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QE=Object.assign,YE={};function ya(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||KE}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XE(){}XE.prototype=ya.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||KE}var Xm=Ym.prototype=new XE;Xm.constructor=Ym;QE(Xm,ya.prototype);Xm.isPureReactComponent=!0;var vv=Array.isArray,JE=Object.prototype.hasOwnProperty,Jm={current:null},ZE={key:!0,ref:!0,__self:!0,__source:!0};function eT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)JE.call(e,r)&&!ZE.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Mu,type:t,key:s,ref:o,props:i,_owner:Jm.current}}function FP(t,e){return{$$typeof:Mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mu}function zP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wv=/\/+/g;function Qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zP(""+t.key):e.toString(36)}function Xc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mu:case kP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Qf(o,0):r,vv(i)?(n="",t!=null&&(n=t.replace(wv,"$&/")+"/"),Xc(i,e,n,"",function(u){return u})):i!=null&&(Zm(i)&&(i=FP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",vv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Qf(s,a);o+=Xc(s,e,n,l,i)}else if(l=VP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Qf(s,a++),o+=Xc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dc(t,e,n){if(t==null)return t;var r=[],i=0;return Xc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $t={current:null},Jc={transition:null},jP={ReactCurrentDispatcher:$t,ReactCurrentBatchConfig:Jc,ReactCurrentOwner:Jm};function tT(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:dc,forEach:function(t,e,n){dc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dc(t,function(){e++}),e},toArray:function(t){return dc(t,function(e){return e})||[]},only:function(t){if(!Zm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ya;se.Fragment=CP;se.Profiler=PP;se.PureComponent=Ym;se.StrictMode=AP;se.Suspense=NP;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jP;se.act=tT;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=QE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)JE.call(e,l)&&!ZE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Mu,type:t.type,key:i,ref:s,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:DP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RP,_context:t},t.Consumer=t};se.createElement=eT;se.createFactory=function(t){var e=eT.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:MP,render:t}};se.isValidElement=Zm;se.lazy=function(t){return{$$typeof:LP,_payload:{_status:-1,_result:t},_init:UP}};se.memo=function(t,e){return{$$typeof:OP,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Jc.transition;Jc.transition={};try{t()}finally{Jc.transition=e}};se.unstable_act=tT;se.useCallback=function(t,e){return $t.current.useCallback(t,e)};se.useContext=function(t){return $t.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return $t.current.useDeferredValue(t)};se.useEffect=function(t,e){return $t.current.useEffect(t,e)};se.useId=function(){return $t.current.useId()};se.useImperativeHandle=function(t,e,n){return $t.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return $t.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return $t.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return $t.current.useMemo(t,e)};se.useReducer=function(t,e,n){return $t.current.useReducer(t,e,n)};se.useRef=function(t){return $t.current.useRef(t)};se.useState=function(t){return $t.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return $t.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return $t.current.useTransition()};se.version="18.3.1";GE.exports=se;var O=GE.exports;const BP=IP(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $P=O,HP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,GP=$P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function nT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qP.call(e,r)&&!KP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HP,type:t,key:s,ref:o,props:i,_owner:GP.current}}Od.Fragment=WP;Od.jsx=nT;Od.jsxs=nT;qE.exports=Od;var N=qE.exports,ng={},rT={exports:{}},vn={},iT={exports:{}},sT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,q){var K=j.length;j.push(q);e:for(;0<K;){var ce=K-1>>>1,oe=j[ce];if(0<i(oe,q))j[ce]=q,j[K]=oe,K=ce;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],K=j.pop();if(K!==q){j[0]=K;e:for(var ce=0,oe=j.length,xt=oe>>>1;ce<xt;){var me=2*(ce+1)-1,We=j[me],nt=me+1,Yr=j[nt];if(0>i(We,K))nt<oe&&0>i(Yr,We)?(j[ce]=Yr,j[nt]=K,ce=nt):(j[ce]=We,j[me]=K,ce=me);else if(nt<oe&&0>i(Yr,K))j[ce]=Yr,j[nt]=K,ce=nt;else break e}}return q}function i(j,q){var K=j.sortIndex-q.sortIndex;return K!==0?K:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,_=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=j)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function A(j){if(m=!1,T(j),!_)if(n(l)!==null)_=!0,ee(C);else{var q=n(u);q!==null&&ie(A,q.startTime-j)}}function C(j,q){_=!1,m&&(m=!1,v(E),E=-1),p=!0;var K=f;try{for(T(q),d=n(l);d!==null&&(!(d.expirationTime>q)||j&&!R());){var ce=d.callback;if(typeof ce=="function"){d.callback=null,f=d.priorityLevel;var oe=ce(d.expirationTime<=q);q=t.unstable_now(),typeof oe=="function"?d.callback=oe:d===n(l)&&r(l),T(q)}else r(l);d=n(l)}if(d!==null)var xt=!0;else{var me=n(u);me!==null&&ie(A,me.startTime-q),xt=!1}return xt}finally{d=null,f=K,p=!1}}var M=!1,b=null,E=-1,S=5,k=-1;function R(){return!(t.unstable_now()-k<S)}function D(){if(b!==null){var j=t.unstable_now();k=j;var q=!0;try{q=b(!0,j)}finally{q?P():(M=!1,b=null)}}else M=!1}var P;if(typeof w=="function")P=function(){w(D)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,Q=J.port2;J.port1.onmessage=D,P=function(){Q.postMessage(null)}}else P=function(){x(D,0)};function ee(j){b=j,M||(M=!0,P())}function ie(j,q){E=x(function(){j(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,ee(C))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var K=f;f=q;try{return j()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var K=f;f=j;try{return q()}finally{f=K}},t.unstable_scheduleCallback=function(j,q,K){var ce=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ce+K:ce):K=ce,j){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=K+oe,j={id:c++,callback:q,priorityLevel:j,startTime:K,expirationTime:oe,sortIndex:-1},K>ce?(j.sortIndex=K,e(u,j),n(l)===null&&j===n(u)&&(m?(v(E),E=-1):m=!0,ie(A,K-ce))):(j.sortIndex=oe,e(l,j),_||p||(_=!0,ee(C))),j},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(j){var q=f;return function(){var K=f;f=q;try{return j.apply(this,arguments)}finally{f=K}}}})(sT);iT.exports=sT;var QP=iT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP=O,mn=QP;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oT=new Set,Gl={};function Gs(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(Gl[t]=e,t=0;t<e.length;t++)oT.add(e[t])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rg=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},Ev={};function JP(t){return rg.call(Ev,t)?!0:rg.call(xv,t)?!1:XP.test(t)?Ev[t]=!0:(xv[t]=!0,!1)}function ZP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eR(t,e,n,r){if(e===null||typeof e>"u"||ZP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ht(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vt[t]=new Ht(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vt[e]=new Ht(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vt[t]=new Ht(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vt[t]=new Ht(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vt[t]=new Ht(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vt[t]=new Ht(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vt[t]=new Ht(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vt[t]=new Ht(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vt[t]=new Ht(t,5,!1,t.toLowerCase(),null,!1,!1)});var e_=/[\-:]([a-z])/g;function t_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(e_,t_);vt[e]=new Ht(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(e_,t_);vt[e]=new Ht(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(e_,t_);vt[e]=new Ht(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ht("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vt[t]=new Ht(t,1,!1,t.toLowerCase(),null,!0,!0)});function n_(t,e,n,r){var i=vt.hasOwnProperty(e)?vt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eR(e,n,i,r)&&(n=null),r||i===null?JP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kr=YP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),r_=Symbol.for("react.strict_mode"),ig=Symbol.for("react.profiler"),aT=Symbol.for("react.provider"),lT=Symbol.for("react.context"),i_=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),s_=Symbol.for("react.memo"),oi=Symbol.for("react.lazy"),uT=Symbol.for("react.offscreen"),Tv=Symbol.iterator;function Ka(t){return t===null||typeof t!="object"?null:(t=Tv&&t[Tv]||t["@@iterator"],typeof t=="function"?t:null)}var ze=Object.assign,Yf;function cl(t){if(Yf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Yf=e&&e[1]||""}return`
`+Yf+t}var Xf=!1;function Jf(t,e){if(!t||Xf)return"";Xf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Xf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function tR(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=Jf(t.type,!1),t;case 11:return t=Jf(t.type.render,!1),t;case 1:return t=Jf(t.type,!0),t;default:return""}}function ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case ig:return"Profiler";case r_:return"StrictMode";case sg:return"Suspense";case og:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lT:return(t.displayName||"Context")+".Consumer";case aT:return(t._context.displayName||"Context")+".Provider";case i_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s_:return e=t.displayName||null,e!==null?e:ag(t.type)||"Memo";case oi:e=t._payload,t=t._init;try{return ag(t(e))}catch{}}return null}function nR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(e);case 8:return e===r_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rR(t){var e=cT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function pc(t){t._valueTracker||(t._valueTracker=rR(t))}function hT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ah(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lg(t,e){var n=e.checked;return ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dT(t,e){e=e.checked,e!=null&&n_(t,"checked",e,!1)}function ug(t,e){dT(t,e);var n=Ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cg(t,e.type,n):e.hasOwnProperty("defaultValue")&&cg(t,e.type,Ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cg(t,e,n){(e!=="number"||Ah(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var hl=Array.isArray;function Ao(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ui(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(hl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ui(n)}}function fT(t,e){var n=Ui(e.value),r=Ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function pT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?pT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gc,gT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gc=gc||document.createElement("div"),gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iR=["Webkit","ms","Moz","O"];Object.keys(Tl).forEach(function(t){iR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Tl[e]=Tl[t]})});function mT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Tl.hasOwnProperty(t)&&Tl[t]?(""+e).trim():e+"px"}function _T(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sR=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fg(t,e){if(e){if(sR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gg=null;function o_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mg=null,Po=null,Ro=null;function Cv(t){if(t=Lu(t)){if(typeof mg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ud(e),mg(t.stateNode,t.type,e))}}function yT(t){Po?Ro?Ro.push(t):Ro=[t]:Po=t}function vT(){if(Po){var t=Po,e=Ro;if(Ro=Po=null,Cv(t),e)for(t=0;t<e.length;t++)Cv(e[t])}}function wT(t,e){return t(e)}function xT(){}var Zf=!1;function ET(t,e,n){if(Zf)return t(e,n);Zf=!0;try{return wT(t,e,n)}finally{Zf=!1,(Po!==null||Ro!==null)&&(xT(),vT())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var _g=!1;if(Or)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){_g=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{_g=!1}function oR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var bl=!1,Ph=null,Rh=!1,yg=null,aR={onError:function(t){bl=!0,Ph=t}};function lR(t,e,n,r,i,s,o,a,l){bl=!1,Ph=null,oR.apply(aR,arguments)}function uR(t,e,n,r,i,s,o,a,l){if(lR.apply(this,arguments),bl){if(bl){var u=Ph;bl=!1,Ph=null}else throw Error(U(198));Rh||(Rh=!0,yg=u)}}function Ks(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Av(t){if(Ks(t)!==t)throw Error(U(188))}function cR(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Av(i),t;if(s===r)return Av(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function bT(t){return t=cR(t),t!==null?ST(t):null}function ST(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ST(t);if(e!==null)return e;t=t.sibling}return null}var IT=mn.unstable_scheduleCallback,Pv=mn.unstable_cancelCallback,hR=mn.unstable_shouldYield,dR=mn.unstable_requestPaint,Ke=mn.unstable_now,fR=mn.unstable_getCurrentPriorityLevel,a_=mn.unstable_ImmediatePriority,kT=mn.unstable_UserBlockingPriority,Dh=mn.unstable_NormalPriority,pR=mn.unstable_LowPriority,CT=mn.unstable_IdlePriority,Ld=null,ur=null;function gR(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:yR,mR=Math.log,_R=Math.LN2;function yR(t){return t>>>=0,t===0?32:31-(mR(t)/_R|0)|0}var mc=64,_c=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=dl(a):(s&=o,s!==0&&(r=dl(s)))}else o=n&~i,o!==0?r=dl(o):s!==0&&(r=dl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bn(e),i=1<<n,r|=t[n],e&=~i;return r}function vR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Bn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=vR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function vg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AT(){var t=mc;return mc<<=1,!(mc&4194240)&&(mc=64),t}function ep(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Nu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bn(e),t[e]=n}function xR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Bn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function l_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ve=0;function PT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RT,u_,DT,MT,NT,wg=!1,yc=[],Ti=null,bi=null,Si=null,Yl=new Map,Xl=new Map,li=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(t,e){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":Yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function Ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&u_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TR(t,e,n,r,i){switch(e){case"focusin":return Ti=Ya(Ti,t,e,n,r,i),!0;case"dragenter":return bi=Ya(bi,t,e,n,r,i),!0;case"mouseover":return Si=Ya(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Yl.set(s,Ya(Yl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Xl.set(s,Ya(Xl.get(s)||null,t,e,n,r,i)),!0}return!1}function OT(t){var e=ws(t.target);if(e!==null){var n=Ks(e);if(n!==null){if(e=n.tag,e===13){if(e=TT(n),e!==null){t.blockedOn=e,NT(t.priority,function(){DT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gg=r,n.target.dispatchEvent(r),gg=null}else return e=Lu(n),e!==null&&u_(e),t.blockedOn=n,!1;e.shift()}return!0}function Dv(t,e,n){Zc(t)&&n.delete(e)}function bR(){wg=!1,Ti!==null&&Zc(Ti)&&(Ti=null),bi!==null&&Zc(bi)&&(bi=null),Si!==null&&Zc(Si)&&(Si=null),Yl.forEach(Dv),Xl.forEach(Dv)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,wg||(wg=!0,mn.unstable_scheduleCallback(mn.unstable_NormalPriority,bR)))}function Jl(t){function e(i){return Xa(i,t)}if(0<yc.length){Xa(yc[0],t);for(var n=1;n<yc.length;n++){var r=yc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ti!==null&&Xa(Ti,t),bi!==null&&Xa(bi,t),Si!==null&&Xa(Si,t),Yl.forEach(e),Xl.forEach(e),n=0;n<li.length;n++)r=li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<li.length&&(n=li[0],n.blockedOn===null);)OT(n),n.blockedOn===null&&li.shift()}var Do=Kr.ReactCurrentBatchConfig,Nh=!0;function SR(t,e,n,r){var i=ve,s=Do.transition;Do.transition=null;try{ve=1,c_(t,e,n,r)}finally{ve=i,Do.transition=s}}function IR(t,e,n,r){var i=ve,s=Do.transition;Do.transition=null;try{ve=4,c_(t,e,n,r)}finally{ve=i,Do.transition=s}}function c_(t,e,n,r){if(Nh){var i=xg(t,e,n,r);if(i===null)cp(t,e,r,Oh,n),Rv(t,r);else if(TR(i,t,e,n,r))r.stopPropagation();else if(Rv(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var s=Lu(i);if(s!==null&&RT(s),s=xg(t,e,n,r),s===null&&cp(t,e,r,Oh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else cp(t,e,r,null,n)}}var Oh=null;function xg(t,e,n,r){if(Oh=null,t=o_(r),t=ws(t),t!==null)if(e=Ks(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oh=t,null}function LT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fR()){case a_:return 1;case kT:return 4;case Dh:case pR:return 16;case CT:return 536870912;default:return 16}default:return 16}}var pi=null,h_=null,eh=null;function VT(){if(eh)return eh;var t,e=h_,n=e.length,r,i="value"in pi?pi.value:pi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return eh=i.slice(t,1<r?1-r:void 0)}function th(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vc(){return!0}function Mv(){return!1}function wn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vc:Mv,this.isPropagationStopped=Mv,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d_=wn(va),Ou=ze({},va,{view:0,detail:0}),kR=wn(Ou),tp,np,Ja,Vd=ze({},Ou,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(tp=t.screenX-Ja.screenX,np=t.screenY-Ja.screenY):np=tp=0,Ja=t),tp)},movementY:function(t){return"movementY"in t?t.movementY:np}}),Nv=wn(Vd),CR=ze({},Vd,{dataTransfer:0}),AR=wn(CR),PR=ze({},Ou,{relatedTarget:0}),rp=wn(PR),RR=ze({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),DR=wn(RR),MR=ze({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NR=wn(MR),OR=ze({},va,{data:0}),Ov=wn(OR),LR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FR[t])?!!e[t]:!1}function f_(){return zR}var UR=ze({},Ou,{key:function(t){if(t.key){var e=LR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=th(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f_,charCode:function(t){return t.type==="keypress"?th(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?th(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jR=wn(UR),BR=ze({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=wn(BR),$R=ze({},Ou,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f_}),HR=wn($R),WR=ze({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),qR=wn(WR),GR=ze({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KR=wn(GR),QR=[9,13,27,32],p_=Or&&"CompositionEvent"in window,Sl=null;Or&&"documentMode"in document&&(Sl=document.documentMode);var YR=Or&&"TextEvent"in window&&!Sl,FT=Or&&(!p_||Sl&&8<Sl&&11>=Sl),Vv=" ",Fv=!1;function zT(t,e){switch(t){case"keyup":return QR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function XR(t,e){switch(t){case"compositionend":return UT(e);case"keypress":return e.which!==32?null:(Fv=!0,Vv);case"textInput":return t=e.data,t===Vv&&Fv?null:t;default:return null}}function JR(t,e){if(go)return t==="compositionend"||!p_&&zT(t,e)?(t=VT(),eh=h_=pi=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FT&&e.locale!=="ko"?null:e.data;default:return null}}var ZR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZR[t.type]:e==="textarea"}function jT(t,e,n,r){yT(r),e=Lh(e,"onChange"),0<e.length&&(n=new d_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,Zl=null;function e2(t){JT(t,0)}function Fd(t){var e=yo(t);if(hT(e))return t}function t2(t,e){if(t==="change")return e}var BT=!1;if(Or){var ip;if(Or){var sp="oninput"in document;if(!sp){var Uv=document.createElement("div");Uv.setAttribute("oninput","return;"),sp=typeof Uv.oninput=="function"}ip=sp}else ip=!1;BT=ip&&(!document.documentMode||9<document.documentMode)}function jv(){Il&&(Il.detachEvent("onpropertychange",$T),Zl=Il=null)}function $T(t){if(t.propertyName==="value"&&Fd(Zl)){var e=[];jT(e,Zl,t,o_(t)),ET(e2,e)}}function n2(t,e,n){t==="focusin"?(jv(),Il=e,Zl=n,Il.attachEvent("onpropertychange",$T)):t==="focusout"&&jv()}function r2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fd(Zl)}function i2(t,e){if(t==="click")return Fd(e)}function s2(t,e){if(t==="input"||t==="change")return Fd(e)}function o2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qn=typeof Object.is=="function"?Object.is:o2;function eu(t,e){if(qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rg.call(e,i)||!qn(t[i],e[i]))return!1}return!0}function Bv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $v(t,e){var n=Bv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bv(n)}}function HT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WT(){for(var t=window,e=Ah();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ah(t.document)}return e}function g_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function a2(t){var e=WT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HT(n.ownerDocument.documentElement,n)){if(r!==null&&g_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$v(n,s);var o=$v(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var l2=Or&&"documentMode"in document&&11>=document.documentMode,mo=null,Eg=null,kl=null,Tg=!1;function Hv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tg||mo==null||mo!==Ah(r)||(r=mo,"selectionStart"in r&&g_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&eu(kl,r)||(kl=r,r=Lh(Eg,"onSelect"),0<r.length&&(e=new d_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function wc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _o={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},op={},qT={};Or&&(qT=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function zd(t){if(op[t])return op[t];if(!_o[t])return t;var e=_o[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qT)return op[t]=e[n];return t}var GT=zd("animationend"),KT=zd("animationiteration"),QT=zd("animationstart"),YT=zd("transitionend"),XT=new Map,Wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(t,e){XT.set(t,e),Gs(e,[t])}for(var ap=0;ap<Wv.length;ap++){var lp=Wv[ap],u2=lp.toLowerCase(),c2=lp[0].toUpperCase()+lp.slice(1);Ji(u2,"on"+c2)}Ji(GT,"onAnimationEnd");Ji(KT,"onAnimationIteration");Ji(QT,"onAnimationStart");Ji("dblclick","onDoubleClick");Ji("focusin","onFocus");Ji("focusout","onBlur");Ji(YT,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h2=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uR(r,e,void 0,t),t.currentTarget=null}function JT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;qv(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;qv(i,a,u),s=l}}}if(Rh)throw t=yg,Rh=!1,yg=null,t}function ke(t,e){var n=e[Cg];n===void 0&&(n=e[Cg]=new Set);var r=t+"__bubble";n.has(r)||(ZT(e,t,2,!1),n.add(r))}function up(t,e,n){var r=0;e&&(r|=4),ZT(n,t,r,e)}var xc="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[xc]){t[xc]=!0,oT.forEach(function(n){n!=="selectionchange"&&(h2.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xc]||(e[xc]=!0,up("selectionchange",!1,e))}}function ZT(t,e,n,r){switch(LT(e)){case 1:var i=SR;break;case 4:i=IR;break;default:i=c_}n=i.bind(null,e,n,t),i=void 0,!_g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ET(function(){var u=s,c=o_(n),d=[];e:{var f=XT.get(t);if(f!==void 0){var p=d_,_=t;switch(t){case"keypress":if(th(n)===0)break e;case"keydown":case"keyup":p=jR;break;case"focusin":_="focus",p=rp;break;case"focusout":_="blur",p=rp;break;case"beforeblur":case"afterblur":p=rp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=AR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HR;break;case GT:case KT:case QT:p=DR;break;case YT:p=qR;break;case"scroll":p=kR;break;case"wheel":p=KR;break;case"copy":case"cut":case"paste":p=NR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lv}var m=(e&4)!==0,x=!m&&t==="scroll",v=m?f!==null?f+"Capture":null:f;m=[];for(var w=u,T;w!==null;){T=w;var A=T.stateNode;if(T.tag===5&&A!==null&&(T=A,v!==null&&(A=Ql(w,v),A!=null&&m.push(nu(w,A,T)))),x)break;w=w.return}0<m.length&&(f=new p(f,_,null,n,c),d.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==gg&&(_=n.relatedTarget||n.fromElement)&&(ws(_)||_[Lr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?ws(_):null,_!==null&&(x=Ks(_),_!==x||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(m=Nv,A="onMouseLeave",v="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=Lv,A="onPointerLeave",v="onPointerEnter",w="pointer"),x=p==null?f:yo(p),T=_==null?f:yo(_),f=new m(A,w+"leave",p,n,c),f.target=x,f.relatedTarget=T,A=null,ws(c)===u&&(m=new m(v,w+"enter",_,n,c),m.target=T,m.relatedTarget=x,A=m),x=A,p&&_)t:{for(m=p,v=_,w=0,T=m;T;T=so(T))w++;for(T=0,A=v;A;A=so(A))T++;for(;0<w-T;)m=so(m),w--;for(;0<T-w;)v=so(v),T--;for(;w--;){if(m===v||v!==null&&m===v.alternate)break t;m=so(m),v=so(v)}m=null}else m=null;p!==null&&Gv(d,f,p,m,!1),_!==null&&x!==null&&Gv(d,x,_,m,!0)}}e:{if(f=u?yo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var C=t2;else if(zv(f))if(BT)C=s2;else{C=r2;var M=n2}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=i2);if(C&&(C=C(t,u))){jT(d,C,n,c);break e}M&&M(t,f,u),t==="focusout"&&(M=f._wrapperState)&&M.controlled&&f.type==="number"&&cg(f,"number",f.value)}switch(M=u?yo(u):window,t){case"focusin":(zv(M)||M.contentEditable==="true")&&(mo=M,Eg=u,kl=null);break;case"focusout":kl=Eg=mo=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,Hv(d,n,c);break;case"selectionchange":if(l2)break;case"keydown":case"keyup":Hv(d,n,c)}var b;if(p_)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else go?zT(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(FT&&n.locale!=="ko"&&(go||E!=="onCompositionStart"?E==="onCompositionEnd"&&go&&(b=VT()):(pi=c,h_="value"in pi?pi.value:pi.textContent,go=!0)),M=Lh(u,E),0<M.length&&(E=new Ov(E,t,null,n,c),d.push({event:E,listeners:M}),b?E.data=b:(b=UT(n),b!==null&&(E.data=b)))),(b=YR?XR(t,n):JR(t,n))&&(u=Lh(u,"onBeforeInput"),0<u.length&&(c=new Ov("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=b))}JT(d,e)})}function nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ql(t,n),s!=null&&r.unshift(nu(t,s,i)),s=Ql(t,e),s!=null&&r.push(nu(t,s,i))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ql(n,s),l!=null&&o.unshift(nu(n,l,a))):i||(l=Ql(n,s),l!=null&&o.push(nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var d2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(d2,`
`).replace(f2,"")}function Ec(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(U(425))}function Vh(){}var bg=null,Sg=null;function Ig(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,Qv=typeof Promise=="function"?Promise:void 0,g2=typeof queueMicrotask=="function"?queueMicrotask:typeof Qv<"u"?function(t){return Qv.resolve(null).then(t).catch(m2)}:kg;function m2(t){setTimeout(function(){throw t})}function hp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jl(e)}function Ii(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),sr="__reactFiber$"+wa,ru="__reactProps$"+wa,Lr="__reactContainer$"+wa,Cg="__reactEvents$"+wa,_2="__reactListeners$"+wa,y2="__reactHandles$"+wa;function ws(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yv(t);t!==null;){if(n=t[sr])return n;t=Yv(t)}return e}t=n,n=t.parentNode}return null}function Lu(t){return t=t[sr]||t[Lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ud(t){return t[ru]||null}var Ag=[],vo=-1;function Zi(t){return{current:t}}function Pe(t){0>vo||(t.current=Ag[vo],Ag[vo]=null,vo--)}function be(t,e){vo++,Ag[vo]=t.current,t.current=e}var ji={},Mt=Zi(ji),Xt=Zi(!1),Ls=ji;function Go(t,e){var n=t.type.contextTypes;if(!n)return ji;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(t){return t=t.childContextTypes,t!=null}function Fh(){Pe(Xt),Pe(Mt)}function Xv(t,e,n){if(Mt.current!==ji)throw Error(U(168));be(Mt,e),be(Xt,n)}function eb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,nR(t)||"Unknown",i));return ze({},n,r)}function zh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ji,Ls=Mt.current,be(Mt,t),be(Xt,Xt.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=eb(t,e,Ls),r.__reactInternalMemoizedMergedChildContext=t,Pe(Xt),Pe(Mt),be(Mt,t)):Pe(Xt),be(Xt,n)}var Sr=null,jd=!1,dp=!1;function tb(t){Sr===null?Sr=[t]:Sr.push(t)}function v2(t){jd=!0,tb(t)}function es(){if(!dp&&Sr!==null){dp=!0;var t=0,e=ve;try{var n=Sr;for(ve=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Sr=null,jd=!1}catch(i){throw Sr!==null&&(Sr=Sr.slice(t+1)),IT(a_,es),i}finally{ve=e,dp=!1}}return null}var wo=[],xo=0,Uh=null,jh=0,Tn=[],bn=0,Vs=null,Cr=1,Ar="";function ps(t,e){wo[xo++]=jh,wo[xo++]=Uh,Uh=t,jh=e}function nb(t,e,n){Tn[bn++]=Cr,Tn[bn++]=Ar,Tn[bn++]=Vs,Vs=t;var r=Cr;t=Ar;var i=32-Bn(r)-1;r&=~(1<<i),n+=1;var s=32-Bn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cr=1<<32-Bn(e)+i|n<<i|r,Ar=s+t}else Cr=1<<s|n<<i|r,Ar=t}function m_(t){t.return!==null&&(ps(t,1),nb(t,1,0))}function __(t){for(;t===Uh;)Uh=wo[--xo],wo[xo]=null,jh=wo[--xo],wo[xo]=null;for(;t===Vs;)Vs=Tn[--bn],Tn[bn]=null,Ar=Tn[--bn],Tn[bn]=null,Cr=Tn[--bn],Tn[bn]=null}var pn=null,cn=null,Re=!1,zn=null;function rb(t,e){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,cn=Ii(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Vs!==null?{id:Cr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,cn=null,!0):!1;default:return!1}}function Pg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rg(t){if(Re){var e=cn;if(e){var n=e;if(!Zv(t,e)){if(Pg(t))throw Error(U(418));e=Ii(n.nextSibling);var r=pn;e&&Zv(t,e)?rb(r,n):(t.flags=t.flags&-4097|2,Re=!1,pn=t)}}else{if(Pg(t))throw Error(U(418));t.flags=t.flags&-4097|2,Re=!1,pn=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Tc(t){if(t!==pn)return!1;if(!Re)return ew(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ig(t.type,t.memoizedProps)),e&&(e=cn)){if(Pg(t))throw ib(),Error(U(418));for(;e;)rb(t,e),e=Ii(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){cn=Ii(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=pn?Ii(t.stateNode.nextSibling):null;return!0}function ib(){for(var t=cn;t;)t=Ii(t.nextSibling)}function Ko(){cn=pn=null,Re=!1}function y_(t){zn===null?zn=[t]:zn.push(t)}var w2=Kr.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function bc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function sb(t){function e(v,w){if(t){var T=v.deletions;T===null?(v.deletions=[w],v.flags|=16):T.push(w)}}function n(v,w){if(!t)return null;for(;w!==null;)e(v,w),w=w.sibling;return null}function r(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=Pi(v,w),v.index=0,v.sibling=null,v}function s(v,w,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<w?(v.flags|=2,w):T):(v.flags|=2,w)):(v.flags|=1048576,w)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,w,T,A){return w===null||w.tag!==6?(w=vp(T,v.mode,A),w.return=v,w):(w=i(w,T),w.return=v,w)}function l(v,w,T,A){var C=T.type;return C===po?c(v,w,T.props.children,A,T.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===oi&&tw(C)===w.type)?(A=i(w,T.props),A.ref=Za(v,w,T),A.return=v,A):(A=lh(T.type,T.key,T.props,null,v.mode,A),A.ref=Za(v,w,T),A.return=v,A)}function u(v,w,T,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=wp(T,v.mode,A),w.return=v,w):(w=i(w,T.children||[]),w.return=v,w)}function c(v,w,T,A,C){return w===null||w.tag!==7?(w=Cs(T,v.mode,A,C),w.return=v,w):(w=i(w,T),w.return=v,w)}function d(v,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=vp(""+w,v.mode,T),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fc:return T=lh(w.type,w.key,w.props,null,v.mode,T),T.ref=Za(v,null,w),T.return=v,T;case fo:return w=wp(w,v.mode,T),w.return=v,w;case oi:var A=w._init;return d(v,A(w._payload),T)}if(hl(w)||Ka(w))return w=Cs(w,v.mode,T,null),w.return=v,w;bc(v,w)}return null}function f(v,w,T,A){var C=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return C!==null?null:a(v,w,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fc:return T.key===C?l(v,w,T,A):null;case fo:return T.key===C?u(v,w,T,A):null;case oi:return C=T._init,f(v,w,C(T._payload),A)}if(hl(T)||Ka(T))return C!==null?null:c(v,w,T,A,null);bc(v,T)}return null}function p(v,w,T,A,C){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(T)||null,a(w,v,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case fc:return v=v.get(A.key===null?T:A.key)||null,l(w,v,A,C);case fo:return v=v.get(A.key===null?T:A.key)||null,u(w,v,A,C);case oi:var M=A._init;return p(v,w,T,M(A._payload),C)}if(hl(A)||Ka(A))return v=v.get(T)||null,c(w,v,A,C,null);bc(w,A)}return null}function _(v,w,T,A){for(var C=null,M=null,b=w,E=w=0,S=null;b!==null&&E<T.length;E++){b.index>E?(S=b,b=null):S=b.sibling;var k=f(v,b,T[E],A);if(k===null){b===null&&(b=S);break}t&&b&&k.alternate===null&&e(v,b),w=s(k,w,E),M===null?C=k:M.sibling=k,M=k,b=S}if(E===T.length)return n(v,b),Re&&ps(v,E),C;if(b===null){for(;E<T.length;E++)b=d(v,T[E],A),b!==null&&(w=s(b,w,E),M===null?C=b:M.sibling=b,M=b);return Re&&ps(v,E),C}for(b=r(v,b);E<T.length;E++)S=p(b,v,E,T[E],A),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?E:S.key),w=s(S,w,E),M===null?C=S:M.sibling=S,M=S);return t&&b.forEach(function(R){return e(v,R)}),Re&&ps(v,E),C}function m(v,w,T,A){var C=Ka(T);if(typeof C!="function")throw Error(U(150));if(T=C.call(T),T==null)throw Error(U(151));for(var M=C=null,b=w,E=w=0,S=null,k=T.next();b!==null&&!k.done;E++,k=T.next()){b.index>E?(S=b,b=null):S=b.sibling;var R=f(v,b,k.value,A);if(R===null){b===null&&(b=S);break}t&&b&&R.alternate===null&&e(v,b),w=s(R,w,E),M===null?C=R:M.sibling=R,M=R,b=S}if(k.done)return n(v,b),Re&&ps(v,E),C;if(b===null){for(;!k.done;E++,k=T.next())k=d(v,k.value,A),k!==null&&(w=s(k,w,E),M===null?C=k:M.sibling=k,M=k);return Re&&ps(v,E),C}for(b=r(v,b);!k.done;E++,k=T.next())k=p(b,v,E,k.value,A),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?E:k.key),w=s(k,w,E),M===null?C=k:M.sibling=k,M=k);return t&&b.forEach(function(D){return e(v,D)}),Re&&ps(v,E),C}function x(v,w,T,A){if(typeof T=="object"&&T!==null&&T.type===po&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case fc:e:{for(var C=T.key,M=w;M!==null;){if(M.key===C){if(C=T.type,C===po){if(M.tag===7){n(v,M.sibling),w=i(M,T.props.children),w.return=v,v=w;break e}}else if(M.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===oi&&tw(C)===M.type){n(v,M.sibling),w=i(M,T.props),w.ref=Za(v,M,T),w.return=v,v=w;break e}n(v,M);break}else e(v,M);M=M.sibling}T.type===po?(w=Cs(T.props.children,v.mode,A,T.key),w.return=v,v=w):(A=lh(T.type,T.key,T.props,null,v.mode,A),A.ref=Za(v,w,T),A.return=v,v=A)}return o(v);case fo:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(v,w.sibling),w=i(w,T.children||[]),w.return=v,v=w;break e}else{n(v,w);break}else e(v,w);w=w.sibling}w=wp(T,v.mode,A),w.return=v,v=w}return o(v);case oi:return M=T._init,x(v,w,M(T._payload),A)}if(hl(T))return _(v,w,T,A);if(Ka(T))return m(v,w,T,A);bc(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(v,w.sibling),w=i(w,T),w.return=v,v=w):(n(v,w),w=vp(T,v.mode,A),w.return=v,v=w),o(v)):n(v,w)}return x}var Qo=sb(!0),ob=sb(!1),Bh=Zi(null),$h=null,Eo=null,v_=null;function w_(){v_=Eo=$h=null}function x_(t){var e=Bh.current;Pe(Bh),t._currentValue=e}function Dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Mo(t,e){$h=t,v_=Eo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yt=!0),t.firstContext=null)}function Dn(t){var e=t._currentValue;if(v_!==t)if(t={context:t,memoizedValue:e,next:null},Eo===null){if($h===null)throw Error(U(308));Eo=t,$h.dependencies={lanes:0,firstContext:t}}else Eo=Eo.next=t;return e}var xs=null;function E_(t){xs===null?xs=[t]:xs.push(t)}function ab(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,E_(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vr(t,r)}function Vr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ai=!1;function T_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vr(t,n)}return i=r.interleaved,i===null?(e.next=e,E_(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vr(t,n)}function nh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l_(t,n)}}function nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var i=t.updateQueue;ai=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,m=a;switch(f=e,p=n,m.tag){case 1:if(_=m.payload,typeof _=="function"){d=_.call(p,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=m.payload,f=typeof _=="function"?_.call(p,d,f):_,f==null)break e;d=ze({},d,f);break e;case 2:ai=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zs|=o,t.lanes=o,t.memoizedState=d}}function rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Vu={},cr=Zi(Vu),iu=Zi(Vu),su=Zi(Vu);function Es(t){if(t===Vu)throw Error(U(174));return t}function b_(t,e){switch(be(su,e),be(iu,t),be(cr,Vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dg(e,t)}Pe(cr),be(cr,e)}function Yo(){Pe(cr),Pe(iu),Pe(su)}function ub(t){Es(su.current);var e=Es(cr.current),n=dg(e,t.type);e!==n&&(be(iu,t),be(cr,n))}function S_(t){iu.current===t&&(Pe(cr),Pe(iu))}var Ne=Zi(0);function Wh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fp=[];function I_(){for(var t=0;t<fp.length;t++)fp[t]._workInProgressVersionPrimary=null;fp.length=0}var rh=Kr.ReactCurrentDispatcher,pp=Kr.ReactCurrentBatchConfig,Fs=0,Ve=null,it=null,ct=null,qh=!1,Cl=!1,ou=0,x2=0;function Tt(){throw Error(U(321))}function k_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qn(t[n],e[n]))return!1;return!0}function C_(t,e,n,r,i,s){if(Fs=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rh.current=t===null||t.memoizedState===null?S2:I2,t=n(r,i),Cl){s=0;do{if(Cl=!1,ou=0,25<=s)throw Error(U(301));s+=1,ct=it=null,e.updateQueue=null,rh.current=k2,t=n(r,i)}while(Cl)}if(rh.current=Gh,e=it!==null&&it.next!==null,Fs=0,ct=it=Ve=null,qh=!1,e)throw Error(U(300));return t}function A_(){var t=ou!==0;return ou=0,t}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Ve.memoizedState=ct=t:ct=ct.next=t,ct}function Mn(){if(it===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=ct===null?Ve.memoizedState:ct.next;if(e!==null)ct=e,it=t;else{if(t===null)throw Error(U(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Ve.memoizedState=ct=t:ct=ct.next=t}return ct}function au(t,e){return typeof e=="function"?e(t):e}function gp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Fs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ve.lanes|=c,zs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,qn(r,e.memoizedState)||(Yt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mp(t){var e=Mn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);qn(s,e.memoizedState)||(Yt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cb(){}function hb(t,e){var n=Ve,r=Mn(),i=e(),s=!qn(r.memoizedState,i);if(s&&(r.memoizedState=i,Yt=!0),r=r.queue,P_(pb.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ct!==null&&ct.memoizedState.tag&1){if(n.flags|=2048,lu(9,fb.bind(null,n,r,i,e),void 0,null),ht===null)throw Error(U(349));Fs&30||db(n,e,i)}return i}function db(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fb(t,e,n,r){e.value=n,e.getSnapshot=r,gb(e)&&mb(t)}function pb(t,e,n){return n(function(){gb(e)&&mb(t)})}function gb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!qn(t,n)}catch{return!0}}function mb(t){var e=Vr(t,1);e!==null&&$n(e,t,1,-1)}function iw(t){var e=er();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=b2.bind(null,Ve,t),[e.memoizedState,t]}function lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _b(){return Mn().memoizedState}function ih(t,e,n,r){var i=er();Ve.flags|=t,i.memoizedState=lu(1|e,n,void 0,r===void 0?null:r)}function Bd(t,e,n,r){var i=Mn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&k_(r,o.deps)){i.memoizedState=lu(e,n,s,r);return}}Ve.flags|=t,i.memoizedState=lu(1|e,n,s,r)}function sw(t,e){return ih(8390656,8,t,e)}function P_(t,e){return Bd(2048,8,t,e)}function yb(t,e){return Bd(4,2,t,e)}function vb(t,e){return Bd(4,4,t,e)}function wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xb(t,e,n){return n=n!=null?n.concat([t]):null,Bd(4,4,wb.bind(null,e,t),n)}function R_(){}function Eb(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Tb(t,e){var n=Mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&k_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bb(t,e,n){return Fs&21?(qn(n,e)||(n=AT(),Ve.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yt=!0),t.memoizedState=n)}function E2(t,e){var n=ve;ve=n!==0&&4>n?n:4,t(!0);var r=pp.transition;pp.transition={};try{t(!1),e()}finally{ve=n,pp.transition=r}}function Sb(){return Mn().memoizedState}function T2(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ib(t))kb(e,n);else if(n=ab(t,e,n,r),n!==null){var i=Bt();$n(n,t,r,i),Cb(n,e,r)}}function b2(t,e,n){var r=Ai(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ib(t))kb(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,qn(a,o)){var l=e.interleaved;l===null?(i.next=i,E_(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ab(t,e,i,r),n!==null&&(i=Bt(),$n(n,t,r,i),Cb(n,e,r))}}function Ib(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function kb(t,e){Cl=qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,l_(t,n)}}var Gh={readContext:Dn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},S2={readContext:Dn,useCallback:function(t,e){return er().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ih(4194308,4,wb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ih(4194308,4,t,e)},useInsertionEffect:function(t,e){return ih(4,2,t,e)},useMemo:function(t,e){var n=er();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=er();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=T2.bind(null,Ve,t),[r.memoizedState,t]},useRef:function(t){var e=er();return t={current:t},e.memoizedState=t},useState:iw,useDebugValue:R_,useDeferredValue:function(t){return er().memoizedState=t},useTransition:function(){var t=iw(!1),e=t[0];return t=E2.bind(null,t[1]),er().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ve,i=er();if(Re){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ht===null)throw Error(U(349));Fs&30||db(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sw(pb.bind(null,r,s,t),[t]),r.flags|=2048,lu(9,fb.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=er(),e=ht.identifierPrefix;if(Re){var n=Ar,r=Cr;n=(r&~(1<<32-Bn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=x2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},I2={readContext:Dn,useCallback:Eb,useContext:Dn,useEffect:P_,useImperativeHandle:xb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Tb,useReducer:gp,useRef:_b,useState:function(){return gp(au)},useDebugValue:R_,useDeferredValue:function(t){var e=Mn();return bb(e,it.memoizedState,t)},useTransition:function(){var t=gp(au)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:hb,useId:Sb,unstable_isNewReconciler:!1},k2={readContext:Dn,useCallback:Eb,useContext:Dn,useEffect:P_,useImperativeHandle:xb,useInsertionEffect:yb,useLayoutEffect:vb,useMemo:Tb,useReducer:mp,useRef:_b,useState:function(){return mp(au)},useDebugValue:R_,useDeferredValue:function(t){var e=Mn();return it===null?e.memoizedState=t:bb(e,it.memoizedState,t)},useTransition:function(){var t=mp(au)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:hb,useId:Sb,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $d={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Ai(t),s=Dr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&($n(e,t,i,r),nh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Bt(),i=Ai(t),s=Dr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ki(t,s,i),e!==null&&($n(e,t,i,r),nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),r=Ai(t),i=Dr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ki(t,i,r),e!==null&&($n(e,t,r,n),nh(e,t,r))}};function ow(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!eu(n,r)||!eu(i,s):!0}function Ab(t,e,n){var r=!1,i=ji,s=e.contextType;return typeof s=="object"&&s!==null?s=Dn(s):(i=Jt(e)?Ls:Mt.current,r=e.contextTypes,s=(r=r!=null)?Go(t,i):ji),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$d,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$d.enqueueReplaceState(e,e.state,null)}function Ng(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},T_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Dn(s):(s=Jt(e)?Ls:Mt.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$d.enqueueReplaceState(i,i.state,null),Hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Xo(t,e){try{var n="",r=e;do n+=tR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Og(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function Pb(t,e,n){n=Dr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qh||(Qh=!0,Wg=r),Og(t,e)},n}function Rb(t,e,n){n=Dr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Og(t,e),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new C2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=B2.bind(null,t,e,n),e.then(t,t))}function uw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dr(-1,1),e.tag=2,ki(n,e,1))),n.lanes|=1),t)}var A2=Kr.ReactCurrentOwner,Yt=!1;function zt(t,e,n,r){e.child=t===null?ob(e,null,n,r):Qo(e,t.child,n,r)}function hw(t,e,n,r,i){n=n.render;var s=e.ref;return Mo(e,i),r=C_(t,e,n,r,s,i),n=A_(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Re&&n&&m_(e),e.flags|=1,zt(t,e,r,i),e.child)}function dw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!z_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Db(t,e,s,r,i)):(t=lh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(o,r)&&t.ref===e.ref)return Fr(t,e,i)}return e.flags|=1,t=Pi(s,r),t.ref=e.ref,t.return=e,e.child=t}function Db(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(eu(s,r)&&t.ref===e.ref)if(Yt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yt=!0);else return e.lanes=t.lanes,Fr(t,e,i)}return Lg(t,e,n,r,i)}function Mb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(bo,an),an|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(bo,an),an|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,be(bo,an),an|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,be(bo,an),an|=r;return zt(t,e,i,n),e.child}function Nb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lg(t,e,n,r,i){var s=Jt(n)?Ls:Mt.current;return s=Go(e,s),Mo(e,i),n=C_(t,e,n,r,s,i),r=A_(),t!==null&&!Yt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Fr(t,e,i)):(Re&&r&&m_(e),e.flags|=1,zt(t,e,n,i),e.child)}function fw(t,e,n,r,i){if(Jt(n)){var s=!0;zh(e)}else s=!1;if(Mo(e,i),e.stateNode===null)sh(t,e),Ab(e,n,r),Ng(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=Jt(n)?Ls:Mt.current,u=Go(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&aw(e,o,r,u),ai=!1;var f=e.memoizedState;o.state=f,Hh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Xt.current||ai?(typeof c=="function"&&(Mg(e,n,c,r),l=e.memoizedState),(a=ai||ow(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Vn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=Jt(n)?Ls:Mt.current,l=Go(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&aw(e,o,r,l),ai=!1,f=e.memoizedState,o.state=f,Hh(e,r,o,i);var _=e.memoizedState;a!==d||f!==_||Xt.current||ai?(typeof p=="function"&&(Mg(e,n,p,r),_=e.memoizedState),(u=ai||ow(e,n,u,r,f,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Vg(t,e,n,r,s,i)}function Vg(t,e,n,r,i,s){Nb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Jv(e,n,!1),Fr(t,e,s);r=e.stateNode,A2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,a,s)):zt(t,e,a,s),e.memoizedState=r.state,i&&Jv(e,n,!0),e.child}function Ob(t){var e=t.stateNode;e.pendingContext?Xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xv(t,e.context,!1),b_(t,e.containerInfo)}function pw(t,e,n,r,i){return Ko(),y_(i),e.flags|=256,zt(t,e,n,r),e.child}var Fg={dehydrated:null,treeContext:null,retryLane:0};function zg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lb(t,e,n){var r=e.pendingProps,i=Ne.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),be(Ne,i&1),t===null)return Rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qd(o,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=zg(n),e.memoizedState=Fg,t):D_(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return P2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Pi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=Cs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?zg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fg,r}return s=t.child,t=s.sibling,r=Pi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function D_(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sc(t,e,n,r){return r!==null&&y_(r),Qo(e,t.child,null,n),t=D_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function P2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(U(422))),Sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qd({mode:"visible",children:r.children},i,0,null),s=Cs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,o),e.child.memoizedState=zg(o),e.memoizedState=Fg,s);if(!(e.mode&1))return Sc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=_p(s,r,void 0),Sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yt||a){if(r=ht,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vr(t,i),$n(r,t,i,-1))}return F_(),r=_p(Error(U(421))),Sc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$2.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=Ii(i.nextSibling),pn=e,Re=!0,zn=null,t!==null&&(Tn[bn++]=Cr,Tn[bn++]=Ar,Tn[bn++]=Vs,Cr=t.id,Ar=t.overflow,Vs=e),e=D_(e,r.children),e.flags|=4096,e)}function gw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Dg(t.return,e,n)}function yp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Vb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(zt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gw(t,n,e);else if(t.tag===19)gw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Pi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Pi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function R2(t,e,n){switch(e.tag){case 3:Ob(e),Ko();break;case 5:ub(e);break;case 1:Jt(e.type)&&zh(e);break;case 4:b_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;be(Bh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?Lb(t,e,n):(be(Ne,Ne.current&1),t=Fr(t,e,n),t!==null?t.sibling:null);be(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),be(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,Mb(t,e,n)}return Fr(t,e,n)}var Fb,Ug,zb,Ub;Fb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ug=function(){};zb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Es(cr.current);var s=null;switch(n){case"input":i=lg(t,i),r=lg(t,r),s=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),s=[];break;case"textarea":i=hg(t,i),r=hg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vh)}fg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ke("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Ub=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function D2(t,e,n){var r=e.pendingProps;switch(__(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return Jt(e.type)&&Fh(),bt(e),null;case 3:return r=e.stateNode,Yo(),Pe(Xt),Pe(Mt),I_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(Kg(zn),zn=null))),Ug(t,e),bt(e),null;case 5:S_(e);var i=Es(su.current);if(n=e.type,t!==null&&e.stateNode!=null)zb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return bt(e),null}if(t=Es(cr.current),Tc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[ru]=s,t=(e.mode&1)!==0,n){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(i=0;i<fl.length;i++)ke(fl[i],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":bv(r,s),ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ke("invalid",r);break;case"textarea":Iv(r,s),ke("invalid",r)}fg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ec(r.textContent,a,t),i=["children",""+a]):Gl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ke("scroll",r)}switch(n){case"input":pc(r),Sv(r,s,!0);break;case"textarea":pc(r),kv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=pT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[ru]=r,Fb(t,e,!1,!1),e.stateNode=t;e:{switch(o=pg(n,r),n){case"dialog":ke("cancel",t),ke("close",t),i=r;break;case"iframe":case"object":case"embed":ke("load",t),i=r;break;case"video":case"audio":for(i=0;i<fl.length;i++)ke(fl[i],t);i=r;break;case"source":ke("error",t),i=r;break;case"img":case"image":case"link":ke("error",t),ke("load",t),i=r;break;case"details":ke("toggle",t),i=r;break;case"input":bv(t,r),i=lg(t,r),ke("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),ke("invalid",t);break;case"textarea":Iv(t,r),i=hg(t,r),ke("invalid",t);break;default:i=r}fg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?_T(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kl(t,l):typeof l=="number"&&Kl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ke("scroll",t):l!=null&&n_(t,s,l,o))}switch(n){case"input":pc(t),Sv(t,r,!1);break;case"textarea":pc(t),kv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ui(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ao(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ao(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)Ub(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Es(su.current),Es(cr.current),Tc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Ec(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ec(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return bt(e),null;case 13:if(Pe(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&cn!==null&&e.mode&1&&!(e.flags&128))ib(),Ko(),e.flags|=98560,s=!1;else if(s=Tc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[sr]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else zn!==null&&(Kg(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?ot===0&&(ot=3):F_())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return Yo(),Ug(t,e),t===null&&tu(e.stateNode.containerInfo),bt(e),null;case 10:return x_(e.type._context),bt(e),null;case 17:return Jt(e.type)&&Fh(),bt(e),null;case 19:if(Pe(Ne),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wh(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Ne,Ne.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>Jo&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=Wh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Re)return bt(e),null}else 2*Ke()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,n=Ne.current,be(Ne,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return V_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?an&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function M2(t,e){switch(__(e),e.tag){case 1:return Jt(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yo(),Pe(Xt),Pe(Mt),I_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return S_(e),null;case 13:if(Pe(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Ne),null;case 4:return Yo(),null;case 10:return x_(e.type._context),null;case 22:case 23:return V_(),null;case 24:return null;default:return null}}var Ic=!1,Ct=!1,N2=typeof WeakSet=="function"?WeakSet:Set,W=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(t,e,r)}else n.current=null}function jg(t,e,n){try{n()}catch(r){$e(t,e,r)}}var mw=!1;function O2(t,e){if(bg=Nh,t=WT(),g_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:t,selectionRange:n},Nh=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var m=_.memoizedProps,x=_.memoizedState,v=e.stateNode,w=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:Vn(e.type,m),x);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){$e(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return _=mw,mw=!1,_}function Al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&jg(e,n,s)}i=i.next}while(i!==r)}}function Hd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Bg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jb(t){var e=t.alternate;e!==null&&(t.alternate=null,jb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[ru],delete e[Cg],delete e[_2],delete e[y2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bb(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vh));else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}function Hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Hg(t,e,n),t=t.sibling;t!==null;)Hg(t,e,n),t=t.sibling}var pt=null,Fn=!1;function ri(t,e,n){for(n=n.child;n!==null;)$b(t,e,n),n=n.sibling}function $b(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:Ct||To(n,e);case 6:var r=pt,i=Fn;pt=null,ri(t,e,n),pt=r,Fn=i,pt!==null&&(Fn?(t=pt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(Fn?(t=pt,n=n.stateNode,t.nodeType===8?hp(t.parentNode,n):t.nodeType===1&&hp(t,n),Jl(t)):hp(pt,n.stateNode));break;case 4:r=pt,i=Fn,pt=n.stateNode.containerInfo,Fn=!0,ri(t,e,n),pt=r,Fn=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&jg(n,e,o),i=i.next}while(i!==r)}ri(t,e,n);break;case 1:if(!Ct&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,e,a)}ri(t,e,n);break;case 21:ri(t,e,n);break;case 22:n.mode&1?(Ct=(r=Ct)||n.memoizedState!==null,ri(t,e,n),Ct=r):ri(t,e,n);break;default:ri(t,e,n)}}function yw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new N2),e.forEach(function(r){var i=H2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:pt=a.stateNode,Fn=!1;break e;case 3:pt=a.stateNode.containerInfo,Fn=!0;break e;case 4:pt=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(pt===null)throw Error(U(160));$b(s,o,i),pt=null,Fn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hb(e,t),e=e.sibling}function Hb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Xn(t),r&4){try{Al(3,t,t.return),Hd(3,t)}catch(m){$e(t,t.return,m)}try{Al(5,t,t.return)}catch(m){$e(t,t.return,m)}}break;case 1:Ln(e,t),Xn(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Ln(e,t),Xn(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var i=t.stateNode;try{Kl(i,"")}catch(m){$e(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dT(i,s),pg(a,o);var u=pg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?_T(i,d):c==="dangerouslySetInnerHTML"?gT(i,d):c==="children"?Kl(i,d):n_(i,c,d,u)}switch(a){case"input":ug(i,s);break;case"textarea":fT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ao(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ao(i,!!s.multiple,s.defaultValue,!0):Ao(i,!!s.multiple,s.multiple?[]:"",!1))}i[ru]=s}catch(m){$e(t,t.return,m)}}break;case 6:if(Ln(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){$e(t,t.return,m)}}break;case 3:if(Ln(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(m){$e(t,t.return,m)}break;case 4:Ln(e,t),Xn(t);break;case 13:Ln(e,t),Xn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(O_=Ke())),r&4&&yw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ct=(u=Ct)||c,Ln(e,t),Ct=u):Ln(e,t),Xn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(W=t,c=t.child;c!==null;){for(d=W=c;W!==null;){switch(f=W,p=f.child,f.tag){case 0:case 11:case 14:case 15:Al(4,f,f.return);break;case 1:To(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(m){$e(r,n,m)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){ww(d);continue}}p!==null?(p.return=f,W=p):ww(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mT("display",o))}catch(m){$e(t,t.return,m)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){$e(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ln(e,t),Xn(t),r&4&&yw(t);break;case 21:break;default:Ln(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bb(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kl(i,""),r.flags&=-33);var s=_w(t);Hg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_w(t);$g(t,a,o);break;default:throw Error(U(161))}}catch(l){$e(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function L2(t,e,n){W=t,Wb(t)}function Wb(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ic;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ct;a=Ic;var u=Ct;if(Ic=o,(Ct=l)&&!u)for(W=i;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?xw(i):l!==null?(l.return=o,W=l):xw(i);for(;s!==null;)W=s,Wb(s),s=s.sibling;W=i,Ic=a,Ct=u}vw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):vw(t)}}function vw(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ct||Hd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Jl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ct||e.flags&512&&Bg(e)}catch(f){$e(e,e.return,f)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function ww(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function xw(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hd(4,e)}catch(l){$e(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){$e(e,i,l)}}var s=e.return;try{Bg(e)}catch(l){$e(e,s,l)}break;case 5:var o=e.return;try{Bg(e)}catch(l){$e(e,o,l)}}}catch(l){$e(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var V2=Math.ceil,Kh=Kr.ReactCurrentDispatcher,M_=Kr.ReactCurrentOwner,Rn=Kr.ReactCurrentBatchConfig,ge=0,ht=null,Ze=null,_t=0,an=0,bo=Zi(0),ot=0,uu=null,zs=0,Wd=0,N_=0,Pl=null,Gt=null,O_=0,Jo=1/0,Tr=null,Qh=!1,Wg=null,Ci=null,kc=!1,gi=null,Yh=0,Rl=0,qg=null,oh=-1,ah=0;function Bt(){return ge&6?Ke():oh!==-1?oh:oh=Ke()}function Ai(t){return t.mode&1?ge&2&&_t!==0?_t&-_t:w2.transition!==null?(ah===0&&(ah=AT()),ah):(t=ve,t!==0||(t=window.event,t=t===void 0?16:LT(t.type)),t):1}function $n(t,e,n,r){if(50<Rl)throw Rl=0,qg=null,Error(U(185));Nu(t,n,r),(!(ge&2)||t!==ht)&&(t===ht&&(!(ge&2)&&(Wd|=n),ot===4&&ui(t,_t)),Zt(t,r),n===1&&ge===0&&!(e.mode&1)&&(Jo=Ke()+500,jd&&es()))}function Zt(t,e){var n=t.callbackNode;wR(t,e);var r=Mh(t,t===ht?_t:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?v2(Ew.bind(null,t)):tb(Ew.bind(null,t)),g2(function(){!(ge&6)&&es()}),n=null;else{switch(PT(r)){case 1:n=a_;break;case 4:n=kT;break;case 16:n=Dh;break;case 536870912:n=CT;break;default:n=Dh}n=Zb(n,qb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function qb(t,e){if(oh=-1,ah=0,ge&6)throw Error(U(327));var n=t.callbackNode;if(No()&&t.callbackNode!==n)return null;var r=Mh(t,t===ht?_t:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xh(t,r);else{e=r;var i=ge;ge|=2;var s=Kb();(ht!==t||_t!==e)&&(Tr=null,Jo=Ke()+500,ks(t,e));do try{U2();break}catch(a){Gb(t,a)}while(!0);w_(),Kh.current=s,ge=i,Ze!==null?e=0:(ht=null,_t=0,e=ot)}if(e!==0){if(e===2&&(i=vg(t),i!==0&&(r=i,e=Gg(t,i))),e===1)throw n=uu,ks(t,0),ui(t,r),Zt(t,Ke()),n;if(e===6)ui(t,r);else{if(i=t.current.alternate,!(r&30)&&!F2(i)&&(e=Xh(t,r),e===2&&(s=vg(t),s!==0&&(r=s,e=Gg(t,s))),e===1))throw n=uu,ks(t,0),ui(t,r),Zt(t,Ke()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:gs(t,Gt,Tr);break;case 3:if(ui(t,r),(r&130023424)===r&&(e=O_+500-Ke(),10<e)){if(Mh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kg(gs.bind(null,t,Gt,Tr),e);break}gs(t,Gt,Tr);break;case 4:if(ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Bn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V2(r/1960))-r,10<r){t.timeoutHandle=kg(gs.bind(null,t,Gt,Tr),r);break}gs(t,Gt,Tr);break;case 5:gs(t,Gt,Tr);break;default:throw Error(U(329))}}}return Zt(t,Ke()),t.callbackNode===n?qb.bind(null,t):null}function Gg(t,e){var n=Pl;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=Xh(t,e),t!==2&&(e=Gt,Gt=n,e!==null&&Kg(e)),t}function Kg(t){Gt===null?Gt=t:Gt.push.apply(Gt,t)}function F2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!qn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~N_,e&=~Wd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bn(e),r=1<<n;t[n]=-1,e&=~r}}function Ew(t){if(ge&6)throw Error(U(327));No();var e=Mh(t,0);if(!(e&1))return Zt(t,Ke()),null;var n=Xh(t,e);if(t.tag!==0&&n===2){var r=vg(t);r!==0&&(e=r,n=Gg(t,r))}if(n===1)throw n=uu,ks(t,0),ui(t,e),Zt(t,Ke()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,Gt,Tr),Zt(t,Ke()),null}function L_(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Jo=Ke()+500,jd&&es())}}function Us(t){gi!==null&&gi.tag===0&&!(ge&6)&&No();var e=ge;ge|=1;var n=Rn.transition,r=ve;try{if(Rn.transition=null,ve=1,t)return t()}finally{ve=r,Rn.transition=n,ge=e,!(ge&6)&&es()}}function V_(){an=bo.current,Pe(bo)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,p2(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(__(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:Yo(),Pe(Xt),Pe(Mt),I_();break;case 5:S_(r);break;case 4:Yo();break;case 13:Pe(Ne);break;case 19:Pe(Ne);break;case 10:x_(r.type._context);break;case 22:case 23:V_()}n=n.return}if(ht=t,Ze=t=Pi(t.current,null),_t=an=e,ot=0,uu=null,N_=Wd=zs=0,Gt=Pl=null,xs!==null){for(e=0;e<xs.length;e++)if(n=xs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}xs=null}return t}function Gb(t,e){do{var n=Ze;try{if(w_(),rh.current=Gh,qh){for(var r=Ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qh=!1}if(Fs=0,ct=it=Ve=null,Cl=!1,ou=0,M_.current=null,n===null||n.return===null){ot=1,uu=e,Ze=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_t,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=uw(o);if(p!==null){p.flags&=-257,cw(p,o,a,s,e),p.mode&1&&lw(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var m=new Set;m.add(l),e.updateQueue=m}else _.add(l);break e}else{if(!(e&1)){lw(s,u,e),F_();break e}l=Error(U(426))}}else if(Re&&a.mode&1){var x=uw(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),cw(x,o,a,s,e),y_(Xo(l,a));break e}}s=l=Xo(l,a),ot!==4&&(ot=2),Pl===null?Pl=[s]:Pl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Pb(s,l,e);nw(s,v);break e;case 1:a=l;var w=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Ci===null||!Ci.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Rb(s,a,e);nw(s,A);break e}}s=s.return}while(s!==null)}Yb(n)}catch(C){e=C,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function Kb(){var t=Kh.current;return Kh.current=Gh,t===null?Gh:t}function F_(){(ot===0||ot===3||ot===2)&&(ot=4),ht===null||!(zs&268435455)&&!(Wd&268435455)||ui(ht,_t)}function Xh(t,e){var n=ge;ge|=2;var r=Kb();(ht!==t||_t!==e)&&(Tr=null,ks(t,e));do try{z2();break}catch(i){Gb(t,i)}while(!0);if(w_(),ge=n,Kh.current=r,Ze!==null)throw Error(U(261));return ht=null,_t=0,ot}function z2(){for(;Ze!==null;)Qb(Ze)}function U2(){for(;Ze!==null&&!hR();)Qb(Ze)}function Qb(t){var e=Jb(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?Yb(t):Ze=e,M_.current=null}function Yb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=M2(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,Ze=null;return}}else if(n=D2(n,e,an),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);ot===0&&(ot=5)}function gs(t,e,n){var r=ve,i=Rn.transition;try{Rn.transition=null,ve=1,j2(t,e,n,r)}finally{Rn.transition=i,ve=r}return null}function j2(t,e,n,r){do No();while(gi!==null);if(ge&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xR(t,s),t===ht&&(Ze=ht=null,_t=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,Zb(Dh,function(){return No(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var o=ve;ve=1;var a=ge;ge|=4,M_.current=null,O2(t,n),Hb(n,t),a2(Sg),Nh=!!bg,Sg=bg=null,t.current=n,L2(n),dR(),ge=a,ve=o,Rn.transition=s}else t.current=n;if(kc&&(kc=!1,gi=t,Yh=i),s=t.pendingLanes,s===0&&(Ci=null),gR(n.stateNode),Zt(t,Ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Qh)throw Qh=!1,t=Wg,Wg=null,t;return Yh&1&&t.tag!==0&&No(),s=t.pendingLanes,s&1?t===qg?Rl++:(Rl=0,qg=t):Rl=0,es(),null}function No(){if(gi!==null){var t=PT(Yh),e=Rn.transition,n=ve;try{if(Rn.transition=null,ve=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,Yh=0,ge&6)throw Error(U(331));var i=ge;for(ge|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(W=u;W!==null;){var c=W;switch(c.tag){case 0:case 11:case 15:Al(8,c,s)}var d=c.child;if(d!==null)d.return=c,W=d;else for(;W!==null;){c=W;var f=c.sibling,p=c.return;if(jb(c),c===u){W=null;break}if(f!==null){f.return=p,W=f;break}W=p}}}var _=s.alternate;if(_!==null){var m=_.child;if(m!==null){_.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,W=v;break e}W=s.return}}var w=t.current;for(W=w;W!==null;){o=W;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,W=T;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hd(9,a)}}catch(C){$e(a,a.return,C)}if(a===o){W=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,W=A;break e}W=a.return}}if(ge=i,es(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{ve=n,Rn.transition=e}}return!1}function Tw(t,e,n){e=Xo(n,e),e=Pb(t,e,1),t=ki(t,e,1),e=Bt(),t!==null&&(Nu(t,1,e),Zt(t,e))}function $e(t,e,n){if(t.tag===3)Tw(t,t,n);else for(;e!==null;){if(e.tag===3){Tw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ci===null||!Ci.has(r))){t=Xo(n,t),t=Rb(e,t,1),e=ki(e,t,1),t=Bt(),e!==null&&(Nu(e,1,t),Zt(e,t));break}}e=e.return}}function B2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,ht===t&&(_t&n)===n&&(ot===4||ot===3&&(_t&130023424)===_t&&500>Ke()-O_?ks(t,0):N_|=n),Zt(t,e)}function Xb(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=Bt();t=Vr(t,e),t!==null&&(Nu(t,e,n),Zt(t,n))}function $2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Xb(t,n)}function H2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Xb(t,n)}var Jb;Jb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Xt.current)Yt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yt=!1,R2(t,e,n);Yt=!!(t.flags&131072)}else Yt=!1,Re&&e.flags&1048576&&nb(e,jh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sh(t,e),t=e.pendingProps;var i=Go(e,Mt.current);Mo(e,n),i=C_(null,e,r,t,i,n);var s=A_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(s=!0,zh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,T_(e),i.updater=$d,e.stateNode=i,i._reactInternals=e,Ng(e,r,t,n),e=Vg(null,e,r,!0,s,n)):(e.tag=0,Re&&s&&m_(e),zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q2(r),t=Vn(r,t),i){case 0:e=Lg(null,e,r,t,n);break e;case 1:e=fw(null,e,r,t,n);break e;case 11:e=hw(null,e,r,t,n);break e;case 14:e=dw(null,e,r,Vn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),Lg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),fw(t,e,r,i,n);case 3:e:{if(Ob(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,lb(t,e),Hh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Xo(Error(U(423)),e),e=pw(t,e,r,n,i);break e}else if(r!==i){i=Xo(Error(U(424)),e),e=pw(t,e,r,n,i);break e}else for(cn=Ii(e.stateNode.containerInfo.firstChild),pn=e,Re=!0,zn=null,n=ob(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=Fr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return ub(e),t===null&&Rg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ig(r,i)?o=null:s!==null&&Ig(r,s)&&(e.flags|=32),Nb(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Rg(e),null;case 13:return Lb(t,e,n);case 4:return b_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),hw(t,e,r,i,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,be(Bh,r._currentValue),r._currentValue=o,s!==null)if(qn(s.value,o)){if(s.children===i.children&&!Xt.current){e=Fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Dr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Mo(e,n),i=Dn(i),r=r(i),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,i=Vn(r,e.pendingProps),i=Vn(r.type,i),dw(t,e,r,i,n);case 15:return Db(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Vn(r,i),sh(t,e),e.tag=1,Jt(r)?(t=!0,zh(e)):t=!1,Mo(e,n),Ab(e,r,i),Ng(e,r,i,n),Vg(null,e,r,!0,t,n);case 19:return Vb(t,e,n);case 22:return Mb(t,e,n)}throw Error(U(156,e.tag))};function Zb(t,e){return IT(t,e)}function W2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,n,r){return new W2(t,e,n,r)}function z_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q2(t){if(typeof t=="function")return z_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===i_)return 11;if(t===s_)return 14}return 2}function Pi(t,e){var n=t.alternate;return n===null?(n=In(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")z_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Cs(n.children,i,s,e);case r_:o=8,i|=8;break;case ig:return t=In(12,n,e,i|2),t.elementType=ig,t.lanes=s,t;case sg:return t=In(13,n,e,i),t.elementType=sg,t.lanes=s,t;case og:return t=In(19,n,e,i),t.elementType=og,t.lanes=s,t;case uT:return qd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case aT:o=10;break e;case lT:o=9;break e;case i_:o=11;break e;case s_:o=14;break e;case oi:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=In(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=In(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=In(22,t,r,e),t.elementType=uT,t.lanes=n,t.stateNode={isHidden:!1},t}function vp(t,e,n){return t=In(6,t,null,e),t.lanes=n,t}function wp(t,e,n){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function G2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ep(0),this.expirationTimes=ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ep(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function U_(t,e,n,r,i,s,o,a,l){return t=new G2(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},T_(s),t}function K2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function eS(t){if(!t)return ji;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Jt(n))return eb(t,n,e)}return e}function tS(t,e,n,r,i,s,o,a,l){return t=U_(n,r,!0,t,i,s,o,a,l),t.context=eS(null),n=t.current,r=Bt(),i=Ai(n),s=Dr(r,i),s.callback=e??null,ki(n,s,i),t.current.lanes=i,Nu(t,i,r),Zt(t,r),t}function Gd(t,e,n,r){var i=e.current,s=Bt(),o=Ai(i);return n=eS(n),e.context===null?e.context=n:e.pendingContext=n,e=Dr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ki(i,e,o),t!==null&&($n(t,i,o,s),nh(t,i,o)),o}function Jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function j_(t,e){bw(t,e),(t=t.alternate)&&bw(t,e)}function Q2(){return null}var nS=typeof reportError=="function"?reportError:function(t){console.error(t)};function B_(t){this._internalRoot=t}Kd.prototype.render=B_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Gd(t,e,null,null)};Kd.prototype.unmount=B_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Us(function(){Gd(null,t,null,null)}),e[Lr]=null}};function Kd(t){this._internalRoot=t}Kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=MT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<li.length&&e!==0&&e<li[n].priority;n++);li.splice(n,0,t),n===0&&OT(t)}};function $_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function Y2(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Jh(o);s.call(u)}}var o=tS(e,r,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=o,t[Lr]=o.current,tu(t.nodeType===8?t.parentNode:t),Us(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Jh(l);a.call(u)}}var l=U_(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[Lr]=l.current,tu(t.nodeType===8?t.parentNode:t),Us(function(){Gd(e,l,n,r)}),l}function Yd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Jh(o);a.call(l)}}Gd(e,o,t,i)}else o=Y2(n,e,t,i,r);return Jh(o)}RT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dl(e.pendingLanes);n!==0&&(l_(e,n|1),Zt(e,Ke()),!(ge&6)&&(Jo=Ke()+500,es()))}break;case 13:Us(function(){var r=Vr(t,1);if(r!==null){var i=Bt();$n(r,t,1,i)}}),j_(t,1)}};u_=function(t){if(t.tag===13){var e=Vr(t,134217728);if(e!==null){var n=Bt();$n(e,t,134217728,n)}j_(t,134217728)}};DT=function(t){if(t.tag===13){var e=Ai(t),n=Vr(t,e);if(n!==null){var r=Bt();$n(n,t,e,r)}j_(t,e)}};MT=function(){return ve};NT=function(t,e){var n=ve;try{return ve=t,e()}finally{ve=n}};mg=function(t,e,n){switch(e){case"input":if(ug(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ud(r);if(!i)throw Error(U(90));hT(r),ug(r,i)}}}break;case"textarea":fT(t,n);break;case"select":e=n.value,e!=null&&Ao(t,!!n.multiple,e,!1)}};wT=L_;xT=Us;var X2={usingClientEntryPoint:!1,Events:[Lu,yo,Ud,yT,vT,L_]},tl={findFiberByHostInstance:ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J2={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bT(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||Q2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{Ld=Cc.inject(J2),ur=Cc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X2;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$_(e))throw Error(U(200));return K2(t,e,null,n)};vn.createRoot=function(t,e){if(!$_(t))throw Error(U(299));var n=!1,r="",i=nS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=U_(t,1,!1,null,null,n,!1,r,i),t[Lr]=e.current,tu(t.nodeType===8?t.parentNode:t),new B_(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=bT(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Us(t)};vn.hydrate=function(t,e,n){if(!Qd(e))throw Error(U(200));return Yd(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!$_(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=nS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tS(e,null,t,1,n??null,i,!1,s,o),t[Lr]=e.current,tu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Kd(e)};vn.render=function(t,e,n){if(!Qd(e))throw Error(U(200));return Yd(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Qd(t))throw Error(U(40));return t._reactRootContainer?(Us(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[Lr]=null})}),!0):!1};vn.unstable_batchedUpdates=L_;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Yd(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function rS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rS)}catch(t){console.error(t)}}rS(),rT.exports=vn;var Z2=rT.exports,Iw=Z2;ng.createRoot=Iw.createRoot,ng.hydrateRoot=Iw.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kw="popstate";function eD(t={}){function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Qg("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cu(i)}return nD(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tD(){return Math.random().toString(36).substring(2,10)}function Cw(t,e){return{usr:t.state,key:t.key,idx:e}}function Qg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xa(e):e,state:n,key:e&&e.key||r||tD()}}function cu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nD(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,u=c();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function c(){return(o.state||{idx:null}).idx}function d(){a="POP";let x=c(),v=x==null?null:x-u;u=x,l&&l({action:a,location:m.location,delta:v})}function f(x,v){a="PUSH";let w=Qg(m.location,x,v);u=c()+1;let T=Cw(w,u),A=m.createHref(w);try{o.pushState(T,"",A)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(A)}s&&l&&l({action:a,location:m.location,delta:1})}function p(x,v){a="REPLACE";let w=Qg(m.location,x,v);u=c();let T=Cw(w,u),A=m.createHref(w);o.replaceState(T,"",A),s&&l&&l({action:a,location:m.location,delta:0})}function _(x){return rD(x)}let m={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kw,d),l=x,()=>{i.removeEventListener(kw,d),l=null}},createHref(x){return e(i,x)},createURL:_,encodeLocation(x){let v=_(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(x){return o.go(x)}};return m}function rD(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Fe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:cu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function iS(t,e,n="/"){return iD(t,e,n,!1)}function iD(t,e,n,r){let i=typeof e=="string"?xa(e):e,s=zr(i.pathname||"/",n);if(s==null)return null;let o=sS(t);sD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=mD(s);a=pD(o[l],u,r)}return a}function sS(t,e=[],n=[],r="",i=!1){let s=(o,a,l=i,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(r)&&l)return;Fe(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let d=Mr([r,c.relativePath]),f=n.concat(c);o.children&&o.children.length>0&&(Fe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),sS(o.children,e,f,d,l)),!(o.path==null&&!o.index)&&e.push({path:d,score:dD(d,o.index),routesMeta:f})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let u of oS(o.path))s(o,a,!0,u)}),e}function oS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=oS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var oD=/^:[\w-]+$/,aD=3,lD=2,uD=1,cD=10,hD=-2,Aw=t=>t==="*";function dD(t,e){let n=t.split("/"),r=n.length;return n.some(Aw)&&(r+=hD),e&&(r+=lD),n.filter(i=>!Aw(i)).reduce((i,s)=>i+(oD.test(s)?aD:s===""?uD:cD),r)}function fD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pD(t,e,n=!1){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=Zh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Zh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Mr([s,d.pathname]),pathnameBase:wD(Mr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Mr([s,d.pathnameBase]))}return o}function Zh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?u[c]=void 0:u[c]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function gD(t,e=!1,n=!0){Gn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function zr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var aS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_D=t=>aS.test(t);function yD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xa(t):t,s;if(n)if(_D(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?s=Pw(n.substring(1),"/"):s=Pw(n,e)}else s=e;return{pathname:s,search:xD(r),hash:ED(i)}}function Pw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lS(t){let e=vD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function uS(t,e,n,r=!1){let i;typeof t=="string"?i=xa(t):(i={...t},Fe(!i.pathname||!i.pathname.includes("?"),xp("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),xp("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),xp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=yD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Mr=t=>t.join("/").replace(/\/\/+/g,"/"),wD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,TD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function SD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hS(t,e){let n=t;if(typeof n!="string"||!aS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(cS)try{let s=new URL(window.location.href),o=n.startsWith("//")?new URL(s.protocol+n):new URL(n),a=zr(o.pathname,e);o.origin===s.origin&&a!=null?n=a+o.search+o.hash:i=!0}catch{Gn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var dS=["POST","PUT","PATCH","DELETE"];new Set(dS);var ID=["GET",...dS];new Set(ID);var Ea=O.createContext(null);Ea.displayName="DataRouter";var Xd=O.createContext(null);Xd.displayName="DataRouterState";var kD=O.createContext(!1),fS=O.createContext({isTransitioning:!1});fS.displayName="ViewTransition";var CD=O.createContext(new Map);CD.displayName="Fetchers";var AD=O.createContext(null);AD.displayName="Await";var On=O.createContext(null);On.displayName="Navigation";var Fu=O.createContext(null);Fu.displayName="Location";var vr=O.createContext({outlet:null,matches:[],isDataRoute:!1});vr.displayName="Route";var H_=O.createContext(null);H_.displayName="RouteError";var pS="REACT_ROUTER_ERROR",PD="REDIRECT",RD="ROUTE_ERROR_RESPONSE";function DD(t){if(t.startsWith(`${pS}:${PD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function MD(t){if(t.startsWith(`${pS}:${RD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new TD(e.status,e.statusText,e.data)}catch{}}function ND(t,{relative:e}={}){Fe(zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(On),{hash:i,pathname:s,search:o}=Uu(t,{relative:e}),a=s;return n!=="/"&&(a=s==="/"?n:Mr([n,s])),r.createHref({pathname:a,search:o,hash:i})}function zu(){return O.useContext(Fu)!=null}function Qs(){return Fe(zu(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Fu).location}var gS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mS(t){O.useContext(On).static||O.useLayoutEffect(t)}function W_(){let{isDataRoute:t}=O.useContext(vr);return t?KD():OD()}function OD(){Fe(zu(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ea),{basename:e,navigator:n}=O.useContext(On),{matches:r}=O.useContext(vr),{pathname:i}=Qs(),s=JSON.stringify(lS(r)),o=O.useRef(!1);return mS(()=>{o.current=!0}),O.useCallback((l,u={})=>{if(Gn(o.current,gS),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=uS(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Mr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}O.createContext(null);function LD(){let{matches:t}=O.useContext(vr),e=t[t.length-1];return e?e.params:{}}function Uu(t,{relative:e}={}){let{matches:n}=O.useContext(vr),{pathname:r}=Qs(),i=JSON.stringify(lS(n));return O.useMemo(()=>uS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function VD(t,e){return _S(t,e)}function _S(t,e,n,r,i){var w;Fe(zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(On),{matches:o}=O.useContext(vr),a=o[o.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",d=a&&a.route;{let T=d&&d.path||"";vS(u,!d||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let f=Qs(),p;if(e){let T=typeof e=="string"?xa(e):e;Fe(c==="/"||((w=T.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${T.pathname}" was given in the \`location\` prop.`),p=T}else p=f;let _=p.pathname||"/",m=_;if(c!=="/"){let T=c.replace(/^\//,"").split("/");m="/"+_.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=iS(t,{pathname:m});Gn(d||x!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Gn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=BD(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},l,T.params),pathname:Mr([c,s.encodeLocation?s.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Mr([c,s.encodeLocation?s.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),o,n,r,i);return e&&v?O.createElement(Fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},v):v}function FD(){let t=GD(),e=bD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,o)}var zD=O.createElement(FD,null),yS=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=MD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(vr.Provider,{value:this.props.routeContext},O.createElement(H_.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(UD,{error:t},e):e}};yS.contextType=kD;var Ep=new WeakMap;function UD({children:t,error:e}){let{basename:n}=O.useContext(On);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=DD(e.digest);if(r){let i=Ep.get(e);if(i)throw i;let s=hS(r.location,n);if(cS&&!Ep.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw Ep.set(e,o),o}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function jD({routeContext:t,match:e,children:n}){let r=O.useContext(Ea);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(vr.Provider,{value:t},n)}function BD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);Fe(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,l=-1;if(n)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=c),d.route.id){let{loaderData:f,errors:p}=n,_=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){a=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}let u=n&&r?(c,d)=>{var f,p;r(c,{location:n.location,params:((p=(f=n.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:SD(n.matches),errorInfo:d})}:void 0;return s.reduceRight((c,d,f)=>{let p,_=!1,m=null,x=null;n&&(p=o&&d.route.id?o[d.route.id]:void 0,m=d.route.errorElement||zD,a&&(l<0&&f===0?(vS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,x=null):l===f&&(_=!0,x=d.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,f+1)),w=()=>{let T;return p?T=m:_?T=x:d.route.Component?T=O.createElement(d.route.Component,null):d.route.element?T=d.route.element:T=c,O.createElement(jD,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:n!=null},children:T})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?O.createElement(yS,{location:n.location,revalidation:n.revalidation,component:m,error:p,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:u}):w()},null)}function q_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $D(t){let e=O.useContext(Ea);return Fe(e,q_(t)),e}function HD(t){let e=O.useContext(Xd);return Fe(e,q_(t)),e}function WD(t){let e=O.useContext(vr);return Fe(e,q_(t)),e}function G_(t){let e=WD(t),n=e.matches[e.matches.length-1];return Fe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qD(){return G_("useRouteId")}function GD(){var r;let t=O.useContext(H_),e=HD("useRouteError"),n=G_("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function KD(){let{router:t}=$D("useNavigate"),e=G_("useNavigate"),n=O.useRef(!1);return mS(()=>{n.current=!0}),O.useCallback(async(i,s={})=>{Gn(n.current,gS),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...s}))},[t,e])}var Rw={};function vS(t,e,n){!e&&!Rw[t]&&(Rw[t]=!0,Gn(!1,n))}O.memo(QD);function QD({routes:t,future:e,state:n,onError:r}){return _S(t,void 0,n,r,e)}function uh(t){Fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function YD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:o}){Fe(!zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=O.useMemo(()=>({basename:a,navigator:i,static:s,unstable_useTransitions:o,future:{}}),[a,i,s,o]);typeof n=="string"&&(n=xa(n));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=n,_=O.useMemo(()=>{let m=zr(u,a);return m==null?null:{location:{pathname:m,search:c,hash:d,state:f,key:p},navigationType:r}},[a,u,c,d,f,p,r]);return Gn(_!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:O.createElement(On.Provider,{value:l},O.createElement(Fu.Provider,{children:e,value:_}))}function XD({children:t,location:e}){return VD(Yg(t),e)}function Yg(t,e=[]){let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let s=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Yg(r.props.children,s));return}Fe(r.type===uh,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Yg(r.props.children,s)),n.push(o)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Jd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function JD(t){return Jd(t)&&t.tagName.toLowerCase()==="button"}function ZD(t){return Jd(t)&&t.tagName.toLowerCase()==="form"}function eM(t){return Jd(t)&&t.tagName.toLowerCase()==="input"}function tM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nM(t,e){return t.button===0&&(!e||e==="_self")&&!tM(t)}var Ac=null;function rM(){if(Ac===null)try{new FormData(document.createElement("form"),0),Ac=!1}catch{Ac=!0}return Ac}var iM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tp(t){return t!=null&&!iM.has(t)?(Gn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):t}function sM(t,e){let n,r,i,s,o;if(ZD(t)){let a=t.getAttribute("action");r=a?zr(a,e):null,n=t.getAttribute("method")||ch,i=Tp(t.getAttribute("enctype"))||hh,s=new FormData(t)}else if(JD(t)||eM(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(r=l?zr(l,e):null,n=t.getAttribute("formmethod")||a.getAttribute("method")||ch,i=Tp(t.getAttribute("formenctype"))||Tp(a.getAttribute("enctype"))||hh,s=new FormData(a,t),!rM()){let{name:u,type:c,value:d}=t;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,d)}}else{if(Jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,r=null,i=hh,o=t}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oM(t,e,n,r){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&zr(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function aM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function uM(t,e,n){let r=await Promise.all(t.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await aM(s,n);return o.links?o.links():[]}return[]}));return fM(r.flat(1).filter(lM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Dw(t,e,n,r,i,s){let o=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,u)=>o(l,u)||a(l,u)):s==="data"?e.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(o(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function cM(t,e,{includeHydrateFallback:n}={}){return hM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function hM(t){return[...new Set(t)]}function dM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function fM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let s=JSON.stringify(dM(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function wS(){let t=O.useContext(Ea);return K_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function pM(){let t=O.useContext(Xd);return K_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Q_=O.createContext(void 0);Q_.displayName="FrameworkContext";function xS(){let t=O.useContext(Q_);return K_(t,"You must render this element inside a <HydratedRouter> element"),t}function gM(t,e){let n=O.useContext(Q_),[r,i]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=e,f=O.useRef(null);O.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let m=v=>{v.forEach(w=>{o(w.isIntersecting)})},x=new IntersectionObserver(m,{threshold:.5});return f.current&&x.observe(f.current),()=>{x.disconnect()}}},[t]),O.useEffect(()=>{if(r){let m=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(m)}}},[r]);let p=()=>{i(!0)},_=()=>{i(!1),o(!1)};return n?t!=="intent"?[s,f,{}]:[s,f,{onFocus:nl(a,p),onBlur:nl(l,_),onMouseEnter:nl(u,p),onMouseLeave:nl(c,_),onTouchStart:nl(d,p)}]:[!1,f,{}]}function nl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mM({page:t,...e}){let{router:n}=wS(),r=O.useMemo(()=>iS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(yM,{page:t,matches:r,...e}):null}function _M(t){let{manifest:e,routeModules:n}=xS(),[r,i]=O.useState([]);return O.useEffect(()=>{let s=!1;return uM(t,e,n).then(o=>{s||i(o)}),()=>{s=!0}},[t,e,n]),r}function yM({page:t,matches:e,...n}){let r=Qs(),{future:i,manifest:s,routeModules:o}=xS(),{basename:a}=wS(),{loaderData:l,matches:u}=pM(),c=O.useMemo(()=>Dw(t,e,u,s,r,"data"),[t,e,u,s,r]),d=O.useMemo(()=>Dw(t,e,u,s,r,"assets"),[t,e,u,s,r]),f=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let m=new Set,x=!1;if(e.forEach(w=>{var A;let T=s.routes[w.route.id];!T||!T.hasLoader||(!c.some(C=>C.route.id===w.route.id)&&w.route.id in l&&((A=o[w.route.id])!=null&&A.shouldRevalidate)||T.hasClientLoader?x=!0:m.add(w.route.id))}),m.size===0)return[];let v=oM(t,a,i.unstable_trailingSlashAwareDataRequests,"data");return x&&m.size>0&&v.searchParams.set("_routes",e.filter(w=>m.has(w.route.id)).map(w=>w.route.id).join(",")),[v.pathname+v.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,r,s,c,e,t,o]),p=O.useMemo(()=>cM(d,s),[d,s]),_=_M(d);return O.createElement(O.Fragment,null,f.map(m=>O.createElement("link",{key:m,rel:"prefetch",as:"fetch",href:m,...n})),p.map(m=>O.createElement("link",{key:m,rel:"modulepreload",href:m,...n})),_.map(({key:m,link:x})=>O.createElement("link",{key:m,nonce:n.nonce,...x})))}function vM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wM&&(window.__reactRouterVersion="7.12.0")}catch{}function xM({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=O.useRef();i.current==null&&(i.current=eD({window:r,v5Compat:!0}));let s=i.current,[o,a]=O.useState({action:s.action,location:s.location}),l=O.useCallback(u=>{n===!1?a(u):O.startTransition(()=>a(u))},[n]);return O.useLayoutEffect(()=>s.listen(l),[s,l]),O.createElement(YD,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:n})}var ES=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},_){let{basename:m,unstable_useTransitions:x}=O.useContext(On),v=typeof u=="string"&&ES.test(u),w=hS(u,m);u=w.to;let T=ND(u,{relative:i}),[A,C,M]=gM(r,p),b=bM(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:x});function E(k){e&&e(k),k.defaultPrevented||b(k)}let S=O.createElement("a",{...p,...M,href:w.absoluteURL||T,onClick:w.isExternal||s?e:E,ref:vM(_,C),target:l,"data-discover":!v&&n==="render"?"true":void 0});return A&&!v?O.createElement(O.Fragment,null,S,O.createElement(mM,{page:T})):S});Y_.displayName="Link";var TS=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:a,children:l,...u},c){let d=Uu(o,{relative:u.relative}),f=Qs(),p=O.useContext(Xd),{navigator:_,basename:m}=O.useContext(On),x=p!=null&&AM(d)&&a===!0,v=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,w=f.pathname,T=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(w=w.toLowerCase(),T=T?T.toLowerCase():null,v=v.toLowerCase()),T&&m&&(T=zr(T,m)||T);const A=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let C=w===v||!i&&w.startsWith(v)&&w.charAt(A)==="/",M=T!=null&&(T===v||!i&&T.startsWith(v)&&T.charAt(v.length)==="/"),b={isActive:C,isPending:M,isTransitioning:x},E=C?e:void 0,S;typeof r=="function"?S=r(b):S=[r,C?"active":null,M?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let k=typeof s=="function"?s(b):s;return O.createElement(Y_,{...u,"aria-current":E,className:S,ref:c,style:k,to:o,viewTransition:a},typeof l=="function"?l(b):l)});TS.displayName="NavLink";var EM=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:s,method:o=ch,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},_)=>{let{unstable_useTransitions:m}=O.useContext(On),x=kM(),v=CM(a,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&ES.test(a),A=C=>{if(l&&l(C),C.defaultPrevented)return;C.preventDefault();let M=C.nativeEvent.submitter,b=(M==null?void 0:M.getAttribute("formmethod"))||o,E=()=>x(M||C.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:f});m&&n!==!1?O.startTransition(()=>E()):E()};return O.createElement("form",{ref:_,method:w,action:v,onSubmit:r?l:A,...p,"data-discover":!T&&t==="render"?"true":void 0})});EM.displayName="Form";function TM(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bS(t){let e=O.useContext(Ea);return Fe(e,TM(t)),e}function bM(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let u=W_(),c=Qs(),d=Uu(t,{relative:s});return O.useCallback(f=>{if(nM(f,e)){f.preventDefault();let p=n!==void 0?n:cu(c)===cu(d),_=()=>u(t,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});l?O.startTransition(()=>_()):_()}},[c,u,d,n,r,e,t,i,s,o,a,l])}var SM=0,IM=()=>`__${String(++SM)}__`;function kM(){let{router:t}=bS("useSubmit"),{basename:e}=O.useContext(On),n=qD(),r=t.fetch,i=t.navigate;return O.useCallback(async(s,o={})=>{let{action:a,method:l,encType:u,formData:c,body:d}=sM(s,e);if(o.navigate===!1){let f=o.fetcherKey||IM();await r(f,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:c,body:d,formMethod:o.method||l,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,e,n])}function CM(t,{relative:e}={}){let{basename:n}=O.useContext(On),r=O.useContext(vr);Fe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Uu(t||".",{relative:e})},o=Qs();if(t==null){s.search=o.search;let a=new URLSearchParams(s.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();s.search=c?`?${c}`:""}}return(!t||t===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Mr([n,s.pathname])),cu(s)}function AM(t,{relative:e}={}){let n=O.useContext(fS);Fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bS("useViewTransitionState"),i=Uu(t,{relative:e});if(!n.isTransitioning)return!1;let s=zr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=zr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zh(i.pathname,o)!=null||Zh(i.pathname,s)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RM=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Mw=t=>{const e=RM(t);return e.charAt(0).toUpperCase()+e.slice(1)},SS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),DM=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>O.createElement("svg",{ref:l,...MM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:SS("lucide",i),...!s&&!DM(a)&&{"aria-hidden":"true"},...a},[...o.map(([u,c])=>O.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=O.forwardRef(({className:r,...i},s)=>O.createElement(NM,{ref:s,iconNode:e,className:SS(`lucide-${PM(Mw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Mw(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],LM=je("arrow-left",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],FM=je("arrow-up-right",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IS=je("calendar",zM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],jM=je("file-text",UM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$M=je("image",BM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],WM=je("instagram",HM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],GM=je("layout-dashboard",qM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],QM=je("linkedin",KM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Nw=je("megaphone",YM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],JM=je("moon",XM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],eN=je("panels-top-left",ZM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],nN=je("pen-tool",tN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],iN=je("plus",rN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],oN=je("save",sN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lN=je("settings",aN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],cN=je("sparkles",uN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],dN=je("sun",hN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ow=je("trending-up",fN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],gN=je("twitter",pN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],_N=je("type",mN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vN=je("users",yN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],xN=je("wand-sparkles",wN);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],TN=je("zap",EN);function br(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var gn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zo={duration:.5,overwrite:!1,delay:0},X_,yt,De,kn=1e8,Ee=1/kn,Xg=Math.PI*2,bN=Xg/4,SN=0,CS=Math.sqrt,IN=Math.cos,kN=Math.sin,ft=function(e){return typeof e=="string"},He=function(e){return typeof e=="function"},Ur=function(e){return typeof e=="number"},J_=function(e){return typeof e>"u"},_r=function(e){return typeof e=="object"},en=function(e){return e!==!1},Z_=function(){return typeof window<"u"},Pc=function(e){return He(e)||ft(e)},AS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dt=Array.isArray,CN=/random\([^)]+\)/g,AN=/,\s*/g,Lw=/(?:-?\.?\d|\.)+/gi,PS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,So=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,bp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,RS=/[+-]=-?[.\d]+/,PN=/[^,'"\[\]\s]+/gi,RN=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Oe,nr,Jg,ey,_n={},ed={},DS,MS=function(e){return(ed=ea(e,_n))&&sn},ty=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},hu=function(e,n){return!n&&console.warn(e)},NS=function(e,n){return e&&(_n[e]=n)&&ed&&(ed[e]=n)||_n},du=function(){return 0},DN={suppressEvents:!0,isStart:!0,kill:!1},dh={suppressEvents:!0,kill:!1},MN={suppressEvents:!0},ny={},Ri=[],Zg={},OS,ln={},Sp={},Vw=30,fh=[],ry="",iy=function(e){var n=e[0],r,i;if(_r(n)||He(n)||(e=[e]),!(r=(n._gsap||{}).harness)){for(i=fh.length;i--&&!fh[i].targetTest(n););r=fh[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new sI(e[i],r)))||e.splice(i,1);return e},As=function(e){return e._gsap||iy(Cn(e))[0]._gsap},LS=function(e,n,r){return(r=e[n])&&He(r)?e[n]():J_(r)&&e.getAttribute&&e.getAttribute(n)||r},tn=function(e,n){return(e=e.split(",")).forEach(n)||e},qe=function(e){return Math.round(e*1e5)/1e5||0},Me=function(e){return Math.round(e*1e7)/1e7||0},Oo=function(e,n){var r=n.charAt(0),i=parseFloat(n.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},NN=function(e,n){for(var r=n.length,i=0;e.indexOf(n[i])<0&&++i<r;);return i<r},td=function(){var e=Ri.length,n=Ri.slice(0),r,i;for(Zg={},Ri.length=0,r=0;r<e;r++)i=n[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},sy=function(e){return!!(e._initted||e._startAt||e.add)},VS=function(e,n,r,i){Ri.length&&!yt&&td(),e.render(n,r,!!(yt&&n<0&&sy(e))),Ri.length&&!yt&&td()},FS=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(PN).length<2?n:ft(e)?e.trim():e},zS=function(e){return e},yn=function(e,n){for(var r in n)r in e||(e[r]=n[r]);return e},ON=function(e){return function(n,r){for(var i in r)i in n||i==="duration"&&e||i==="ease"||(n[i]=r[i])}},ea=function(e,n){for(var r in n)e[r]=n[r];return e},Fw=function t(e,n){for(var r in n)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=_r(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},nd=function(e,n){var r={},i;for(i in e)i in n||(r[i]=e[i]);return r},Dl=function(e){var n=e.parent||Oe,r=e.keyframes?ON(Dt(e.keyframes)):yn;if(en(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},LN=function(e,n){for(var r=e.length,i=r===n.length;i&&r--&&e[r]===n[r];);return r<0},US=function(e,n,r,i,s){var o=e[i],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[r],e[r]=n),n._next?n._next._prev=n:e[i]=n,n._prev=o,n.parent=n._dp=e,n},Zd=function(e,n,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=n._prev,o=n._next;s?s._next=o:e[r]===n&&(e[r]=o),o?o._prev=s:e[i]===n&&(e[i]=s),n._next=n._prev=n.parent=null},Bi=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ps=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},VN=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},em=function(e,n,r,i){return e._startAt&&(yt?e._startAt.revert(dh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,i))},FN=function t(e){return!e||e._ts&&t(e.parent)},zw=function(e){return e._repeat?ta(e._tTime,e=e.duration()+e._rDelay)*e:0},ta=function(e,n){var r=Math.floor(e=Me(e/n));return e&&r===e?r-1:r},rd=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},ef=function(e){return e._end=Me(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ee)||0))},tf=function(e,n){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Me(r._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),ef(e),r._dirty||Ps(r,e)),e},jS=function(e,n){var r;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(r=rd(e.rawTime(),n),(!n._dur||ju(0,n.totalDuration(),r)-n._tTime>Ee)&&n.render(r,!0)),Ps(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-Ee}},or=function(e,n,r,i){return n.parent&&Bi(n),n._start=Me((Ur(r)?r:r||e!==Oe?En(e,r,n):e._time)+n._delay),n._end=Me(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),US(e,n,"_first","_last",e._sort?"_start":0),tm(n)||(e._recent=n),i||jS(e,n),e._ts<0&&tf(e,e._tTime),e},BS=function(e,n){return(_n.ScrollTrigger||ty("scrollTrigger",n))&&_n.ScrollTrigger.create(n,e)},$S=function(e,n,r,i,s){if(ay(e,n,s),!e._initted)return 1;if(!r&&e._pt&&!yt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&OS!==un.frame)return Ri.push(e),e._lazy=[s,i],1},zN=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},tm=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},UN=function(e,n,r,i){var s=e.ratio,o=n<0||!n&&(!e._start&&zN(e)&&!(!e._initted&&tm(e))||(e._ts<0||e._dp._ts<0)&&!tm(e))?0:1,a=e._rDelay,l=0,u,c,d;if(a&&e._repeat&&(l=ju(0,e._tDur,n),c=ta(l,a),e._yoyo&&c&1&&(o=1-o),c!==ta(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||yt||i||e._zTime===Ee||!n&&e._zTime){if(!e._initted&&$S(e,n,i,r,l))return;for(d=e._zTime,e._zTime=n||(r?Ee:0),r||(r=n&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,u=e._pt;u;)u.r(o,u.d),u=u._next;n<0&&em(e,n,r,!0),e._onUpdate&&!r&&hn(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&hn(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&Bi(e,1),!r&&!yt&&(hn(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},jN=function(e,n,r){var i;if(r>n)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>n)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<n)return i;i=i._prev}},na=function(e,n,r,i){var s=e._repeat,o=Me(n)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Me(o*(s+1)+e._rDelay*s):o,a>0&&!i&&tf(e,e._tTime=e._tDur*a),e.parent&&ef(e),r||Ps(e.parent,e),e},Uw=function(e){return e instanceof jt?Ps(e):na(e,e._dur)},BN={_start:0,endTime:du,totalDuration:du},En=function t(e,n,r){var i=e.labels,s=e._recent||BN,o=e.duration()>=kn?s.endTime(!1):e._dur,a,l,u;return ft(n)&&(isNaN(n)||n in i)?(l=n.charAt(0),u=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(u?(a<0?s:r).totalDuration()/100:1)):a<0?(n in i||(i[n]=o),i[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),u&&r&&(l=l/100*(Dt(r)?r[0]:r).totalDuration()),a>1?t(e,n.substr(0,a-1),r)+l:o+l)):n==null?o:+n},Ml=function(e,n,r){var i=Ur(n[1]),s=(i?2:1)+(e<2?0:1),o=n[s],a,l;if(i&&(o.duration=n[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=en(l.vars.inherit)&&l.parent;o.immediateRender=en(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new Je(n[0],o,n[s+1])},ts=function(e,n){return e||e===0?n(e):n},ju=function(e,n,r){return r<e?e:r>n?n:r},Pt=function(e,n){return!ft(e)||!(n=RN.exec(e))?"":n[1]},$N=function(e,n,r){return ts(r,function(i){return ju(e,n,i)})},nm=[].slice,HS=function(e,n){return e&&_r(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&_r(e[0]))&&!e.nodeType&&e!==nr},HN=function(e,n,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return ft(i)&&!n||HS(i,1)?(s=r).push.apply(s,Cn(i)):r.push(i)})||r},Cn=function(e,n,r){return De&&!n&&De.selector?De.selector(e):ft(e)&&!r&&(Jg||!ra())?nm.call((n||ey).querySelectorAll(e),0):Dt(e)?HN(e,r):HS(e)?nm.call(e,0):e?[e]:[]},rm=function(e){return e=Cn(e)[0]||hu("Invalid scope")||{},function(n){var r=e.current||e.nativeElement||e;return Cn(n,r.querySelectorAll?r:r===e?hu("Invalid scope")||ey.createElement("div"):e)}},WS=function(e){return e.sort(function(){return .5-Math.random()})},qS=function(e){if(He(e))return e;var n=_r(e)?e:{each:e},r=Rs(n.ease),i=n.from||0,s=parseFloat(n.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,u=n.axis,c=i,d=i;return ft(i)?c=d={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(c=i[0],d=i[1]),function(f,p,_){var m=(_||n).length,x=o[m],v,w,T,A,C,M,b,E,S;if(!x){if(S=n.grid==="auto"?0:(n.grid||[1,kn])[1],!S){for(b=-kn;b<(b=_[S++].getBoundingClientRect().left)&&S<m;);S<m&&S--}for(x=o[m]=[],v=l?Math.min(S,m)*c-.5:i%S,w=S===kn?0:l?m*d/S-.5:i/S|0,b=0,E=kn,M=0;M<m;M++)T=M%S-v,A=w-(M/S|0),x[M]=C=u?Math.abs(u==="y"?A:T):CS(T*T+A*A),C>b&&(b=C),C<E&&(E=C);i==="random"&&WS(x),x.max=b-E,x.min=E,x.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(S>m?m-1:u?u==="y"?m/S:S:Math.max(S,m/S))||0)*(i==="edges"?-1:1),x.b=m<0?s-m:s,x.u=Pt(n.amount||n.each)||0,r=r&&m<0?nI(r):r}return m=(x[f]-x.min)/x.max||0,Me(x.b+(r?r(m):m)*x.v)+x.u}},im=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Me(Math.round(parseFloat(r)/e)*e*n);return(i-i%1)/n+(Ur(r)?0:Pt(r))}},GS=function(e,n){var r=Dt(e),i,s;return!r&&_r(e)&&(i=r=e.radius||kn,e.values?(e=Cn(e.values),(s=!Ur(e[0]))&&(i*=i)):e=im(e.increment)),ts(n,r?He(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),u=kn,c=0,d=e.length,f,p;d--;)s?(f=e[d].x-a,p=e[d].y-l,f=f*f+p*p):f=Math.abs(e[d]-a),f<u&&(u=f,c=d);return c=!i||u<=i?e[c]:o,s||c===o||Ur(o)?c:c+Pt(o)}:im(e))},KS=function(e,n,r,i){return ts(Dt(e)?!n:r===!0?!!(r=0):!i,function(){return Dt(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(n-e+r*.99))/r)*r*i)/i})},WN=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduce(function(s,o){return o(s)},i)}},qN=function(e,n){return function(r){return e(parseFloat(r))+(n||Pt(r))}},GN=function(e,n,r){return YS(e,n,0,1,r)},QS=function(e,n,r){return ts(r,function(i){return e[~~n(i)]})},KN=function t(e,n,r){var i=n-e;return Dt(e)?QS(e,t(0,e.length),n):ts(r,function(s){return(i+(s-e)%i)%i+e})},QN=function t(e,n,r){var i=n-e,s=i*2;return Dt(e)?QS(e,t(0,e.length-1),n):ts(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},fu=function(e){return e.replace(CN,function(n){var r=n.indexOf("[")+1,i=n.substring(r||7,r?n.indexOf("]"):n.length-1).split(AN);return KS(r?i:+i[0],r?0:+i[1],+i[2]||1e-5)})},YS=function(e,n,r,i,s){var o=n-e,a=i-r;return ts(s,function(l){return r+((l-e)/o*a||0)})},YN=function t(e,n,r,i){var s=isNaN(e+n)?0:function(p){return(1-p)*e+p*n};if(!s){var o=ft(e),a={},l,u,c,d,f;if(r===!0&&(i=1)&&(r=null),o)e={p:e},n={p:n};else if(Dt(e)&&!Dt(n)){for(c=[],d=e.length,f=d-2,u=1;u<d;u++)c.push(t(e[u-1],e[u]));d--,s=function(_){_*=d;var m=Math.min(f,~~_);return c[m](_-m)},r=n}else i||(e=ea(Dt(e)?[]:{},e));if(!c){for(l in n)oy.call(a,e,l,"get",n[l]);s=function(_){return cy(_,a)||(o?e.p:e)}}}return ts(r,s)},jw=function(e,n,r){var i=e.labels,s=kn,o,a,l;for(o in i)a=i[o]-n,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},hn=function(e,n,r){var i=e.vars,s=i[n],o=De,a=e._ctx,l,u,c;if(s)return l=i[n+"Params"],u=i.callbackScope||e,r&&Ri.length&&td(),a&&(De=a),c=l?s.apply(u,l):s.call(u),De=o,c},pl=function(e){return Bi(e),e.scrollTrigger&&e.scrollTrigger.kill(!!yt),e.progress()<1&&hn(e,"onInterrupt"),e},Io,XS=[],JS=function(e){if(e)if(e=!e.name&&e.default||e,Z_()||e.headless){var n=e.name,r=He(e),i=n&&!r&&e.init?function(){this._props=[]}:e,s={init:du,render:cy,add:oy,kill:dO,modifier:hO,rawVars:0},o={targetTest:0,get:0,getSetter:uy,aliases:{},register:0};if(ra(),e!==i){if(ln[n])return;yn(i,yn(nd(e,s),o)),ea(i.prototype,ea(s,nd(e,o))),ln[i.prop=n]=i,e.targetTest&&(fh.push(i),ny[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}NS(n,i),e.register&&e.register(sn,i,nn)}else XS.push(e)},xe=255,gl={aqua:[0,xe,xe],lime:[0,xe,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,xe],navy:[0,0,128],white:[xe,xe,xe],olive:[128,128,0],yellow:[xe,xe,0],orange:[xe,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[xe,0,0],pink:[xe,192,203],cyan:[0,xe,xe],transparent:[xe,xe,xe,0]},Ip=function(e,n,r){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(r-n)*e*6:e<.5?r:e*3<2?n+(r-n)*(2/3-e)*6:n)*xe+.5|0},ZS=function(e,n,r){var i=e?Ur(e)?[e>>16,e>>8&xe,e&xe]:0:gl.black,s,o,a,l,u,c,d,f,p,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),gl[e])i=gl[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&xe,i&xe,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&xe,e&xe]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(Lw),!n)l=+i[0]%360/360,u=+i[1]/100,c=+i[2]/100,o=c<=.5?c*(u+1):c+u-c*u,s=c*2-o,i.length>3&&(i[3]*=1),i[0]=Ip(l+1/3,s,o),i[1]=Ip(l,s,o),i[2]=Ip(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(PS),r&&i.length<4&&(i[3]=1),i}else i=e.match(Lw)||gl.transparent;i=i.map(Number)}return n&&!_&&(s=i[0]/xe,o=i[1]/xe,a=i[2]/xe,d=Math.max(s,o,a),f=Math.min(s,o,a),c=(d+f)/2,d===f?l=u=0:(p=d-f,u=c>.5?p/(2-d-f):p/(d+f),l=d===s?(o-a)/p+(o<a?6:0):d===o?(a-s)/p+2:(s-o)/p+4,l*=60),i[0]=~~(l+.5),i[1]=~~(u*100+.5),i[2]=~~(c*100+.5)),r&&i.length<4&&(i[3]=1),i},eI=function(e){var n=[],r=[],i=-1;return e.split(Di).forEach(function(s){var o=s.match(So)||[];n.push.apply(n,o),r.push(i+=o.length+1)}),n.c=r,n},Bw=function(e,n,r){var i="",s=(e+i).match(Di),o=n?"hsla(":"rgba(",a=0,l,u,c,d;if(!s)return e;if(s=s.map(function(f){return(f=ZS(f,n,1))&&o+(n?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),r&&(c=eI(e),l=r.c,l.join(i)!==c.c.join(i)))for(u=e.replace(Di,"1").split(So),d=u.length-1;a<d;a++)i+=u[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(c.length?c:s.length?s:r).shift());if(!u)for(u=e.split(Di),d=u.length-1;a<d;a++)i+=u[a]+s[a];return i+u[d]},Di=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in gl)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),XN=/hsl[a]?\(/,tI=function(e){var n=e.join(" "),r;if(Di.lastIndex=0,Di.test(n))return r=XN.test(n),e[1]=Bw(e[1],r),e[0]=Bw(e[0],r,eI(e[1])),!0},pu,un=function(){var t=Date.now,e=500,n=33,r=t(),i=r,s=1e3/240,o=s,a=[],l,u,c,d,f,p,_=function m(x){var v=t()-i,w=x===!0,T,A,C,M;if((v>e||v<0)&&(r+=v-n),i+=v,C=i-r,T=C-o,(T>0||w)&&(M=++d.frame,f=C-d.time*1e3,d.time=C=C/1e3,o+=T+(T>=s?4:s-T),A=1),w||(l=u(m)),A)for(p=0;p<a.length;p++)a[p](C,f,M,x)};return d={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(x){return f/(1e3/(x||60))},wake:function(){DS&&(!Jg&&Z_()&&(nr=Jg=window,ey=nr.document||{},_n.gsap=sn,(nr.gsapVersions||(nr.gsapVersions=[])).push(sn.version),MS(ed||nr.GreenSockGlobals||!nr.gsap&&nr||{}),XS.forEach(JS)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),u=c||function(x){return setTimeout(x,o-d.time*1e3+1|0)},pu=1,_(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),pu=0,u=du},lagSmoothing:function(x,v){e=x||1/0,n=Math.min(v||33,e)},fps:function(x){s=1e3/(x||240),o=d.time*1e3+s},add:function(x,v,w){var T=v?function(A,C,M,b){x(A,C,M,b),d.remove(T)}:x;return d.remove(x),a[w?"unshift":"push"](T),ra(),T},remove:function(x,v){~(v=a.indexOf(x))&&a.splice(v,1)&&p>=v&&p--},_listeners:a},d}(),ra=function(){return!pu&&un.wake()},de={},JN=/^[\d.\-M][\d.\-,\s]/,ZN=/["']/g,eO=function(e){for(var n={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,u;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),n[i]=isNaN(u)?u.replace(ZN,"").trim():+u,i=l.substr(a+1).trim();return n},tO=function(e){var n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n);return e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)},nO=function(e){var n=(e+"").split("("),r=de[n[0]];return r&&n.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[eO(n[1])]:tO(e).split(",").map(FS)):de._CE&&JN.test(e)?de._CE("",e):r},nI=function(e){return function(n){return 1-e(1-n)}},rI=function t(e,n){for(var r=e._first,i;r;)r instanceof jt?t(r,n):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==n&&(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Rs=function(e,n){return e&&(He(e)?e:de[e]||nO(e))||n},Ys=function(e,n,r,i){r===void 0&&(r=function(l){return 1-n(1-l)}),i===void 0&&(i=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:r,easeInOut:i},o;return tn(e,function(a){de[a]=_n[a]=s,de[o=a.toLowerCase()]=r;for(var l in s)de[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=de[a+"."+l]=s[l]}),s},iI=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},kp=function t(e,n,r){var i=n>=1?n:1,s=(r||(e?.3:.45))/(n<1?n:1),o=s/Xg*(Math.asin(1/i)||0),a=function(c){return c===1?1:i*Math.pow(2,-10*c)*kN((c-o)*s)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:iI(a);return s=Xg/s,l.config=function(u,c){return t(e,u,c)},l},Cp=function t(e,n){n===void 0&&(n=1.70158);var r=function(o){return o?--o*o*((n+1)*o+n)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:iI(r);return i.config=function(s){return t(e,s)},i};tn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Ys(t+",Power"+(n-1),e?function(r){return Math.pow(r,n)}:function(r){return r},function(r){return 1-Math.pow(1-r,n)},function(r){return r<.5?Math.pow(r*2,n)/2:1-Math.pow((1-r)*2,n)/2})});de.Linear.easeNone=de.none=de.Linear.easeIn;Ys("Elastic",kp("in"),kp("out"),kp());(function(t,e){var n=1/e,r=2*n,i=2.5*n,s=function(a){return a<n?t*a*a:a<r?t*Math.pow(a-1.5/e,2)+.75:a<i?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Ys("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ys("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Ys("Circ",function(t){return-(CS(1-t*t)-1)});Ys("Sine",function(t){return t===1?1:-IN(t*bN)+1});Ys("Back",Cp("in"),Cp("out"),Cp());de.SteppedEase=de.steps=_n.SteppedEase={config:function(e,n){e===void 0&&(e=1);var r=1/e,i=e+(n?0:1),s=n?1:0,o=1-Ee;return function(a){return((i*ju(0,o,a)|0)+s)*r}}};Zo.ease=de["quad.out"];tn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return ry+=t+","+t+"Params,"});var sI=function(e,n){this.id=SN++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:LS,this.set=n?n.getSetter:uy},gu=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,na(this,+n.duration,1,1),this.data=n.data,De&&(this._ctx=De,De.data.push(this)),pu||un.wake()}var e=t.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,na(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(ra(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(tf(this,r),!s._dp||s.parent||jS(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&or(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===Ee||!this._initted&&this._dur&&r||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),VS(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+zw(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+zw(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?ta(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-Ee?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?rd(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-Ee?0:this._rts,this.totalTime(ju(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),ef(this),VN(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ra(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ee&&(this._tTime-=Ee)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=Me(r);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&or(i,this,this._start-this._delay),this}return this._start},e.endTime=function(r){return this._start+(en(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?rd(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=MN);var i=yt;return yt=r,sy(this)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),yt=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,Uw(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,Uw(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(En(this,r),en(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,en(i)),this._dur||(this._zTime=-Ee),this},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-Ee:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-Ee,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-Ee)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this,s=i._prom;return new Promise(function(o){var a=He(r)?r:zS,l=function(){var c=i.then;i.then=null,s&&s(),He(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=c),o(a),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){pl(this)},t}();yn(gu.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ee,_prom:0,_ps:!1,_rts:1});var jt=function(t){kS(e,t);function e(r,i){var s;return r===void 0&&(r={}),s=t.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=en(r.sortChildren),Oe&&or(r.parent||Oe,br(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&BS(br(s),r.scrollTrigger),s}var n=e.prototype;return n.to=function(i,s,o){return Ml(0,arguments,this),this},n.from=function(i,s,o){return Ml(1,arguments,this),this},n.fromTo=function(i,s,o,a){return Ml(2,arguments,this),this},n.set=function(i,s,o){return s.duration=0,s.parent=this,Dl(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Je(i,s,En(this,o),1),this},n.call=function(i,s,o){return or(this,Je.delayedCall(0,i,s),o)},n.staggerTo=function(i,s,o,a,l,u,c){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=u,o.onCompleteParams=c,o.parent=this,new Je(i,o,En(this,l)),this},n.staggerFrom=function(i,s,o,a,l,u,c){return o.runBackwards=1,Dl(o).immediateRender=en(o.immediateRender),this.staggerTo(i,s,o,a,l,u,c)},n.staggerFromTo=function(i,s,o,a,l,u,c,d){return a.startAt=o,Dl(a).immediateRender=en(a.immediateRender),this.staggerTo(i,s,a,l,u,c,d)},n.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=i<=0?0:Me(i),d=this._zTime<0!=i<0&&(this._initted||!u),f,p,_,m,x,v,w,T,A,C,M,b;if(this!==Oe&&c>l&&i>=0&&(c=l),c!==this._tTime||o||d){if(a!==this._time&&u&&(c+=this._time-a,i+=this._time-a),f=c,A=this._start,T=this._ts,v=!T,d&&(u||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(M=this._yoyo,x=u+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(x*100+i,s,o);if(f=Me(c%x),c===l?(m=this._repeat,f=u):(C=Me(c/x),m=~~C,m&&m===C&&(f=u,m--),f>u&&(f=u)),C=ta(this._tTime,x),!a&&this._tTime&&C!==m&&this._tTime-C*x-this._dur<=0&&(C=m),M&&m&1&&(f=u-f,b=1),m!==C&&!this._lock){var E=M&&C&1,S=E===(M&&m&1);if(m<C&&(E=!E),a=E?0:c%u?u:c,this._lock=1,this.render(a||(b?0:Me(m*x)),s,!u)._lock=0,this._tTime=c,!s&&this.parent&&hn(this,"onRepeat"),this.vars.repeatRefresh&&!b&&(this.invalidate()._lock=1,C=m),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,S&&(this._lock=2,a=E?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!b&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;rI(this,b)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(w=jN(this,Me(a),Me(f)),w&&(c-=f-(f=w._start))),this._tTime=c,this._time=f,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&c&&u&&!s&&!C&&(hn(this,"onStart"),this._tTime!==c))return this;if(f>=a&&i>=0)for(p=this._first;p;){if(_=p._next,(p._act||f>=p._start)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(f-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(f-p._start)*p._ts,s,o),f!==this._time||!this._ts&&!v){w=0,_&&(c+=this._zTime=-Ee);break}}p=_}else{p=this._last;for(var k=i<0?i:f;p;){if(_=p._prev,(p._act||k<=p._end)&&p._ts&&w!==p){if(p.parent!==this)return this.render(i,s,o);if(p.render(p._ts>0?(k-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(k-p._start)*p._ts,s,o||yt&&sy(p)),f!==this._time||!this._ts&&!v){w=0,_&&(c+=this._zTime=k?-Ee:Ee);break}}p=_}}if(w&&!s&&(this.pause(),w.render(f>=a?0:-Ee)._zTime=f>=a?1:-1,this._ts))return this._start=A,ef(this),this.render(i,s,o);this._onUpdate&&!s&&hn(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(A===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&Bi(this,1),!s&&!(i<0&&!a)&&(c||a||!l)&&(hn(this,c===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(i,s){var o=this;if(Ur(s)||(s=En(this,s,i)),!(i instanceof gu)){if(Dt(i))return i.forEach(function(a){return o.add(a,s)}),this;if(ft(i))return this.addLabel(i,s);if(He(i))i=Je.delayedCall(0,i);else return this}return this!==i?or(this,i,s):this},n.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-kn);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof Je?s&&l.push(u):(o&&l.push(u),i&&l.push.apply(l,u.getChildren(!0,s,o)))),u=u._next;return l},n.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},n.remove=function(i){return ft(i)?this.removeLabel(i):He(i)?this.killTweensOf(i):(i.parent===this&&Zd(this,i),i===this._recent&&(this._recent=this._last),Ps(this))},n.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Me(un.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),t.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},n.addLabel=function(i,s){return this.labels[i]=En(this,s),this},n.removeLabel=function(i){return delete this.labels[i],this},n.addPause=function(i,s,o){var a=Je.delayedCall(0,s||du,o);return a.data="isPause",this._hasPause=1,or(this,a,En(this,i))},n.removePause=function(i){var s=this._first;for(i=En(this,i);s;)s._start===i&&s.data==="isPause"&&Bi(s),s=s._next},n.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)mi!==a[l]&&a[l].kill(i,s);return this},n.getTweensOf=function(i,s){for(var o=[],a=Cn(i),l=this._first,u=Ur(s),c;l;)l instanceof Je?NN(l._targets,a)&&(u?(!mi||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(c=l.getTweensOf(a,s)).length&&o.push.apply(o,c),l=l._next;return o},n.tweenTo=function(i,s){s=s||{};var o=this,a=En(o,i),l=s,u=l.startAt,c=l.onStart,d=l.onStartParams,f=l.immediateRender,p,_=Je.to(o,yn({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale())||Ee,onStart:function(){if(o.pause(),!p){var x=s.duration||Math.abs((a-(u&&"time"in u?u.time:o._time))/o.timeScale());_._dur!==x&&na(_,x,0,1).render(_._time,!0,!0),p=1}c&&c.apply(_,d||[])}},s));return f?_.render(0):_},n.tweenFromTo=function(i,s,o){return this.tweenTo(s,yn({startAt:{time:En(this,i)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(i){return i===void 0&&(i=this._time),jw(this,En(this,i))},n.previousLabel=function(i){return i===void 0&&(i=this._time),jw(this,En(this,i),1)},n.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+Ee)},n.shiftChildren=function(i,s,o){o===void 0&&(o=0);var a=this._first,l=this.labels,u;for(i=Me(i);a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(u in l)l[u]>=o&&(l[u]+=i);return Ps(this)},n.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return t.prototype.invalidate.call(this,i)},n.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ps(this)},n.totalDuration=function(i){var s=0,o=this,a=o._last,l=kn,u,c,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(d=o.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,or(o,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(s-=c,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=Me(c/o._ts),o._time-=c,o._tTime-=c),o.shiftChildren(-c,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=u;na(o,o===Oe&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(Oe._ts&&(VS(Oe,rd(i,Oe)),OS=un.frame),un.frame>=Vw){Vw+=gn.autoSleep||120;var s=Oe._first;if((!s||!s._ts)&&gn.autoSleep&&un._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||un.sleep()}}},e}(gu);yn(jt.prototype,{_lock:0,_hasPause:0,_forcing:0});var rO=function(e,n,r,i,s,o,a){var l=new nn(this._pt,e,n,0,1,hI,null,s),u=0,c=0,d,f,p,_,m,x,v,w;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=fu(i)),o&&(w=[r,i],o(w,e,n),r=w[0],i=w[1]),f=r.match(bp)||[];d=bp.exec(i);)_=d[0],m=i.substring(u,d.index),p?p=(p+1)%5:m.substr(-5)==="rgba("&&(p=1),_!==f[c++]&&(x=parseFloat(f[c-1])||0,l._pt={_next:l._pt,p:m||c===1?m:",",s:x,c:_.charAt(1)==="="?Oo(x,_)-x:parseFloat(_)-x,m:p&&p<4?Math.round:0},u=bp.lastIndex);return l.c=u<i.length?i.substring(u,i.length):"",l.fp=a,(RS.test(i)||v)&&(l.e=0),this._pt=l,l},oy=function(e,n,r,i,s,o,a,l,u,c){He(i)&&(i=i(s||0,e,o));var d=e[n],f=r!=="get"?r:He(d)?u?e[n.indexOf("set")||!He(e["get"+n.substr(3)])?n:"get"+n.substr(3)](u):e[n]():d,p=He(d)?u?lO:uI:ly,_;if(ft(i)&&(~i.indexOf("random(")&&(i=fu(i)),i.charAt(1)==="="&&(_=Oo(f,i)+(Pt(f)||0),(_||_===0)&&(i=_))),!c||f!==i||sm)return!isNaN(f*i)&&i!==""?(_=new nn(this._pt,e,n,+f||0,i-(f||0),typeof d=="boolean"?cO:cI,0,p),u&&(_.fp=u),a&&_.modifier(a,this,e),this._pt=_):(!d&&!(n in e)&&ty(n,i),rO.call(this,e,n,f,i,p,l||gn.stringFilter,u))},iO=function(e,n,r,i,s){if(He(e)&&(e=Nl(e,s,n,r,i)),!_r(e)||e.style&&e.nodeType||Dt(e)||AS(e))return ft(e)?Nl(e,s,n,r,i):e;var o={},a;for(a in e)o[a]=Nl(e[a],s,n,r,i);return o},oI=function(e,n,r,i,s,o){var a,l,u,c;if(ln[e]&&(a=new ln[e]).init(s,a.rawVars?n[e]:iO(n[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new nn(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==Io))for(u=r._ptLookup[r._targets.indexOf(s)],c=a._props.length;c--;)u[a._props[c]]=l;return a},mi,sm,ay=function t(e,n,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,u=i.onUpdate,c=i.runBackwards,d=i.yoyoEase,f=i.keyframes,p=i.autoRevert,_=e._dur,m=e._startAt,x=e._targets,v=e.parent,w=v&&v.data==="nested"?v.vars.targets:x,T=e._overwrite==="auto"&&!X_,A=e.timeline,C,M,b,E,S,k,R,D,P,J,Q,ee,ie;if(A&&(!f||!s)&&(s="none"),e._ease=Rs(s,Zo.ease),e._yEase=d?nI(Rs(d===!0?s:d,Zo.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!A&&!!i.runBackwards,!A||f&&!i.stagger){if(D=x[0]?As(x[0]).harness:0,ee=D&&i[D.prop],C=nd(i,ny),m&&(m._zTime<0&&m.progress(1),n<0&&c&&a&&!p?m.render(-1,!0):m.revert(c&&_?dh:DN),m._lazy=0),o){if(Bi(e._startAt=Je.set(x,yn({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!m&&en(l),startAt:null,delay:0,onUpdate:u&&function(){return hn(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(yt||!a&&!p)&&e._startAt.revert(dh),a&&_&&n<=0&&r<=0){n&&(e._zTime=n);return}}else if(c&&_&&!m){if(n&&(a=!1),b=yn({overwrite:!1,data:"isFromStart",lazy:a&&!m&&en(l),immediateRender:a,stagger:0,parent:v},C),ee&&(b[D.prop]=ee),Bi(e._startAt=Je.set(x,b)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(yt?e._startAt.revert(dh):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,Ee,Ee);else if(!n)return}for(e._pt=e._ptCache=0,l=_&&en(l)||l&&!_,M=0;M<x.length;M++){if(S=x[M],R=S._gsap||iy(x)[M]._gsap,e._ptLookup[M]=J={},Zg[R.id]&&Ri.length&&td(),Q=w===x?M:w.indexOf(S),D&&(P=new D).init(S,ee||C,e,Q,w)!==!1&&(e._pt=E=new nn(e._pt,S,P.name,0,1,P.render,P,0,P.priority),P._props.forEach(function(j){J[j]=E}),P.priority&&(k=1)),!D||ee)for(b in C)ln[b]&&(P=oI(b,C,e,Q,S,w))?P.priority&&(k=1):J[b]=E=oy.call(e,S,b,"get",C[b],Q,w,0,i.stringFilter);e._op&&e._op[M]&&e.kill(S,e._op[M]),T&&e._pt&&(mi=e,Oe.killTweensOf(S,J,e.globalTime(n)),ie=!e.parent,mi=0),e._pt&&l&&(Zg[R.id]=1)}k&&dI(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!ie,f&&n<=0&&A.render(kn,!0,!0)},sO=function(e,n,r,i,s,o,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[n],c,d,f,p;if(!u)for(u=e._ptCache[n]=[],f=e._ptLookup,p=e._targets.length;p--;){if(c=f[p][n],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==n&&c.fp!==n;)c=c._next;if(!c)return sm=1,e.vars[n]="+=0",ay(e,a),sm=0,l?hu(n+" not eligible for reset"):1;u.push(c)}for(p=u.length;p--;)d=u[p],c=d._pt||d,c.s=(i||i===0)&&!s?i:c.s+(i||0)+o*c.c,c.c=r-c.s,d.e&&(d.e=qe(r)+Pt(d.e)),d.b&&(d.b=c.s+Pt(d.b))},oO=function(e,n){var r=e[0]?As(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return n;s=ea({},n);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},aO=function(e,n,r,i){var s=n.ease||i||"power1.inOut",o,a;if(Dt(n))a=r[e]||(r[e]=[]),n.forEach(function(l,u){return a.push({t:u/(n.length-1)*100,v:l,e:s})});else for(o in n)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},Nl=function(e,n,r,i,s){return He(e)?e.call(n,r,i,s):ft(e)&&~e.indexOf("random(")?fu(e):e},aI=ry+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",lI={};tn(aI+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return lI[t]=1});var Je=function(t){kS(e,t);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=t.call(this,o?i:Dl(i))||this;var l=a.vars,u=l.duration,c=l.delay,d=l.immediateRender,f=l.stagger,p=l.overwrite,_=l.keyframes,m=l.defaults,x=l.scrollTrigger,v=l.yoyoEase,w=i.parent||Oe,T=(Dt(r)||AS(r)?Ur(r[0]):"length"in i)?[r]:Cn(r),A,C,M,b,E,S,k,R;if(a._targets=T.length?iy(T):hu("GSAP target "+r+" not found. https://gsap.com",!gn.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,_||f||Pc(u)||Pc(c)){if(i=a.vars,A=a.timeline=new jt({data:"nested",defaults:m||{},targets:w&&w.data==="nested"?w.vars.targets:T}),A.kill(),A.parent=A._dp=br(a),A._start=0,f||Pc(u)||Pc(c)){if(b=T.length,k=f&&qS(f),_r(f))for(E in f)~aI.indexOf(E)&&(R||(R={}),R[E]=f[E]);for(C=0;C<b;C++)M=nd(i,lI),M.stagger=0,v&&(M.yoyoEase=v),R&&ea(M,R),S=T[C],M.duration=+Nl(u,br(a),C,S,T),M.delay=(+Nl(c,br(a),C,S,T)||0)-a._delay,!f&&b===1&&M.delay&&(a._delay=c=M.delay,a._start+=c,M.delay=0),A.to(S,M,k?k(C,S,T):0),A._ease=de.none;A.duration()?u=c=0:a.timeline=0}else if(_){Dl(yn(A.vars.defaults,{ease:"none"})),A._ease=Rs(_.ease||i.ease||"none");var D=0,P,J,Q;if(Dt(_))_.forEach(function(ee){return A.to(T,ee,">")}),A.duration();else{M={};for(E in _)E==="ease"||E==="easeEach"||aO(E,_[E],M,_.easeEach);for(E in M)for(P=M[E].sort(function(ee,ie){return ee.t-ie.t}),D=0,C=0;C<P.length;C++)J=P[C],Q={ease:J.e,duration:(J.t-(C?P[C-1].t:0))/100*u},Q[E]=J.v,A.to(T,Q,D),D+=Q.duration;A.duration()<u&&A.to({},{duration:u-A.duration()})}}u||a.duration(u=A.duration())}else a.timeline=0;return p===!0&&!X_&&(mi=br(a),Oe.killTweensOf(T),mi=0),or(w,br(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(d||!u&&!_&&a._start===Me(w._time)&&en(d)&&FN(br(a))&&w.data!=="nested")&&(a._tTime=-Ee,a.render(Math.max(0,-c)||0)),x&&BS(br(a),x),a}var n=e.prototype;return n.render=function(i,s,o){var a=this._time,l=this._tDur,u=this._dur,c=i<0,d=i>l-Ee&&!c?l:i<Ee?0:i,f,p,_,m,x,v,w,T,A;if(!u)UN(this,i,s,o);else if(d!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(f=d,T=this.timeline,this._repeat){if(m=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(m*100+i,s,o);if(f=Me(d%m),d===l?(_=this._repeat,f=u):(x=Me(d/m),_=~~x,_&&_===x?(f=u,_--):f>u&&(f=u)),v=this._yoyo&&_&1,v&&(A=this._yEase,f=u-f),x=ta(this._tTime,m),f===a&&!o&&this._initted&&_===x)return this._tTime=d,this;_!==x&&(T&&this._yEase&&rI(T,v),this.vars.repeatRefresh&&!v&&!this._lock&&f!==m&&this._initted&&(this._lock=o=1,this.render(Me(m*_),!0).invalidate()._lock=0))}if(!this._initted){if($S(this,c?i:f,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&_!==x))return this;if(u!==this._dur)return this.render(i,s,o)}if(this._tTime=d,this._time=f,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=w=(A||this._ease)(f/u),this._from&&(this.ratio=w=1-w),!a&&d&&!s&&!x&&(hn(this,"onStart"),this._tTime!==d))return this;for(p=this._pt;p;)p.r(w,p.d),p=p._next;T&&T.render(i<0?i:T._dur*T._ease(f/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(c&&em(this,i,s,o),hn(this,"onUpdate")),this._repeat&&_!==x&&this.vars.onRepeat&&!s&&this.parent&&hn(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(c&&!this._onUpdate&&em(this,i,!0,!0),(i||!u)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&Bi(this,1),!s&&!(c&&!a)&&(d||a||v)&&(hn(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),t.prototype.invalidate.call(this,i)},n.resetTo=function(i,s,o,a,l){pu||un.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||ay(this,u),c=this._ease(u/this._dur),sO(this,i,s,o,a,c,u,l)?this.resetTo(i,s,o,a,1):(tf(this,0),this.parent||US(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?pl(this):this.scrollTrigger&&this.scrollTrigger.kill(!!yt),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,mi&&mi.vars.overwrite!==!0)._first||pl(this),this.parent&&o!==this.timeline.totalDuration()&&na(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Cn(i):a,u=this._ptLookup,c=this._pt,d,f,p,_,m,x,v;if((!s||s==="all")&&LN(a,l))return s==="all"&&(this._pt=0),pl(this);for(d=this._op=this._op||[],s!=="all"&&(ft(s)&&(m={},tn(s,function(w){return m[w]=1}),s=m),s=oO(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){f=u[v],s==="all"?(d[v]=s,_=f,p={}):(p=d[v]=d[v]||{},_=s);for(m in _)x=f&&f[m],x&&((!("kill"in x.d)||x.d.kill(m)===!0)&&Zd(this,x,"_pt"),delete f[m]),p!=="all"&&(p[m]=1)}return this._initted&&!this._pt&&c&&pl(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Ml(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Ml(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return Oe.killTweensOf(i,s,o)},e}(gu);yn(Je.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});tn("staggerTo,staggerFrom,staggerFromTo",function(t){Je[t]=function(){var e=new jt,n=nm.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var ly=function(e,n,r){return e[n]=r},uI=function(e,n,r){return e[n](r)},lO=function(e,n,r,i){return e[n](i.fp,r)},uO=function(e,n,r){return e.setAttribute(n,r)},uy=function(e,n){return He(e[n])?uI:J_(e[n])&&e.setAttribute?uO:ly},cI=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},cO=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},hI=function(e,n){var r=n._pt,i="";if(!e&&n.b)i=n.b;else if(e===1&&n.e)i=n.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=n.c}n.set(n.t,n.p,i,n)},cy=function(e,n){for(var r=n._pt;r;)r.r(e,r.d),r=r._next},hO=function(e,n,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,n,r),s=o},dO=function(e){for(var n=this._pt,r,i;n;)i=n._next,n.p===e&&!n.op||n.op===e?Zd(this,n,"_pt"):n.dep||(r=1),n=i;return!r},fO=function(e,n,r,i){i.mSet(e,n,i.m.call(i.tween,r,i.mt),i)},dI=function(e){for(var n=e._pt,r,i,s,o;n;){for(r=n._next,i=s;i&&i.pr>n.pr;)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=r}e._pt=s},nn=function(){function t(n,r,i,s,o,a,l,u,c){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||cI,this.d=l||this,this.set=u||ly,this.pr=c||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=fO,this.m=r,this.mt=s,this.tween=i},t}();tn(ry+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return ny[t]=1});_n.TweenMax=_n.TweenLite=Je;_n.TimelineLite=_n.TimelineMax=jt;Oe=new jt({sortChildren:!1,defaults:Zo,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});gn.stringFilter=tI;var Ds=[],ph={},pO=[],$w=0,gO=0,Ap=function(e){return(ph[e]||pO).map(function(n){return n()})},om=function(){var e=Date.now(),n=[];e-$w>2&&(Ap("matchMediaInit"),Ds.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,u;for(a in i)o=nr.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,u=1);u&&(r.revert(),l&&n.push(r))}),Ap("matchMediaRevert"),n.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),$w=e,Ap("matchMedia"))},fI=function(){function t(n,r){this.selector=r&&rm(r),this.data=[],this._r=[],this.isReverted=!1,this.id=gO++,n&&this.add(n)}var e=t.prototype;return e.add=function(r,i,s){He(r)&&(s=i,i=r,r=He);var o=this,a=function(){var u=De,c=o.selector,d;return u&&u!==o&&u.data.push(o),s&&(o.selector=rm(s)),De=o,d=i.apply(o,arguments),He(d)&&o._r.push(d),De=u,o.selector=c,o.isReverted=!1,d};return o.last=a,r===He?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=De;De=null,r(this),De=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof t?r.push.apply(r,i.getTweens()):i instanceof Je&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,u;l--;)u=s.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,d){return d.g-c.g||-1/0}).forEach(function(c){return c.t.revert(r)}),l=s.data.length;l--;)u=s.data[l],u instanceof jt?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof Je)&&u.revert&&u.revert(r);s._r.forEach(function(c){return c(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Ds.length;o--;)Ds[o].id===this.id&&Ds.splice(o,1)},e.revert=function(r){this.kill(r||{})},t}(),mO=function(){function t(n){this.contexts=[],this.scope=n,De&&De.data.push(this)}var e=t.prototype;return e.add=function(r,i,s){_r(r)||(r={matches:r});var o=new fI(0,s||this.scope),a=o.conditions={},l,u,c;De&&!o.selector&&(o.selector=De.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(u in r)u==="all"?c=1:(l=nr.matchMedia(r[u]),l&&(Ds.indexOf(o)<0&&Ds.push(o),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(om):l.addEventListener("change",om)));return c&&i(o,function(d){return o.add(null,d)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},t}(),id={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n.forEach(function(i){return JS(i)})},timeline:function(e){return new jt(e)},getTweensOf:function(e,n){return Oe.getTweensOf(e,n)},getProperty:function(e,n,r,i){ft(e)&&(e=Cn(e)[0]);var s=As(e||{}).get,o=r?zS:FS;return r==="native"&&(r=""),e&&(n?o((ln[n]&&ln[n].get||s)(e,n,r,i)):function(a,l,u){return o((ln[a]&&ln[a].get||s)(e,a,l,u))})},quickSetter:function(e,n,r){if(e=Cn(e),e.length>1){var i=e.map(function(c){return sn.quickSetter(c,n,r)}),s=i.length;return function(c){for(var d=s;d--;)i[d](c)}}e=e[0]||{};var o=ln[n],a=As(e),l=a.harness&&(a.harness.aliases||{})[n]||n,u=o?function(c){var d=new o;Io._pt=0,d.init(e,r?c+r:c,Io,0,[e]),d.render(1,d),Io._pt&&cy(1,Io)}:a.set(e,l);return o?u:function(c){return u(e,l,r?c+r:c,a,1)}},quickTo:function(e,n,r){var i,s=sn.to(e,yn((i={},i[n]="+=0.1",i.paused=!0,i.stagger=0,i),r||{})),o=function(l,u,c){return s.resetTo(n,l,u,c)};return o.tween=s,o},isTweening:function(e){return Oe.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Rs(e.ease,Zo.ease)),Fw(Zo,e||{})},config:function(e){return Fw(gn,e||{})},registerEffect:function(e){var n=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ln[a]&&!_n[a]&&hu(n+" effect requires "+a+" plugin.")}),Sp[n]=function(a,l,u){return r(Cn(a),yn(l||{},s),u)},o&&(jt.prototype[n]=function(a,l,u){return this.add(Sp[n](a,_r(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,n){de[e]=Rs(n)},parseEase:function(e,n){return arguments.length?Rs(e,n):de},getById:function(e){return Oe.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var r=new jt(e),i,s;for(r.smoothChildTiming=en(e.smoothChildTiming),Oe.remove(r),r._dp=0,r._time=r._tTime=Oe._time,i=Oe._first;i;)s=i._next,(n||!(!i._dur&&i instanceof Je&&i.vars.onComplete===i._targets[0]))&&or(r,i,i._start-i._delay),i=s;return or(Oe,r,0),r},context:function(e,n){return e?new fI(e,n):De},matchMedia:function(e){return new mO(e)},matchMediaRefresh:function(){return Ds.forEach(function(e){var n=e.conditions,r,i;for(i in n)n[i]&&(n[i]=!1,r=1);r&&e.revert()})||om()},addEventListener:function(e,n){var r=ph[e]||(ph[e]=[]);~r.indexOf(n)||r.push(n)},removeEventListener:function(e,n){var r=ph[e],i=r&&r.indexOf(n);i>=0&&r.splice(i,1)},utils:{wrap:KN,wrapYoyo:QN,distribute:qS,random:KS,snap:GS,normalize:GN,getUnit:Pt,clamp:$N,splitColor:ZS,toArray:Cn,selector:rm,mapRange:YS,pipe:WN,unitize:qN,interpolate:YN,shuffle:WS},install:MS,effects:Sp,ticker:un,updateRoot:jt.updateRoot,plugins:ln,globalTimeline:Oe,core:{PropTween:nn,globals:NS,Tween:Je,Timeline:jt,Animation:gu,getCache:As,_removeLinkedListItem:Zd,reverting:function(){return yt},context:function(e){return e&&De&&(De.data.push(e),e._ctx=De),De},suppressOverwrites:function(e){return X_=e}}};tn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return id[t]=Je[t]});un.add(jt.updateRoot);Io=id.to({},{duration:0});var _O=function(e,n){for(var r=e._pt;r&&r.p!==n&&r.op!==n&&r.fp!==n;)r=r._next;return r},yO=function(e,n){var r=e._targets,i,s,o;for(i in n)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=_O(o,i)),o&&o.modifier&&o.modifier(n[i],e,r[s],i))},Pp=function(e,n){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,u;if(ft(s)&&(l={},tn(s,function(c){return l[c]=1}),s=l),n){l={};for(u in s)l[u]=n(s[u]);s=l}yO(a,s)}}}},sn=id.registerPlugin({name:"attr",init:function(e,n,r,i,s){var o,a,l;this.tween=r;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var r=n._pt;r;)yt?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",headless:1,init:function(e,n){for(var r=n.length;r--;)this.add(e,r,e[r]||0,n[r],0,0,0,0,0,1)}},Pp("roundProps",im),Pp("modifiers"),Pp("snap",GS))||id;Je.version=jt.version=sn.version="3.14.2";DS=1;Z_()&&ra();de.Power0;de.Power1;de.Power2;de.Power3;de.Power4;de.Linear;de.Quad;de.Cubic;de.Quart;de.Quint;de.Strong;de.Elastic;de.Back;de.SteppedEase;de.Bounce;de.Sine;de.Expo;de.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Hw,_i,Lo,hy,Ts,Ww,dy,vO=function(){return typeof window<"u"},jr={},ms=180/Math.PI,Vo=Math.PI/180,oo=Math.atan2,qw=1e8,fy=/([A-Z])/g,wO=/(left|right|width|margin|padding|x)/i,xO=/[\s,\(]\S/,lr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},am=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},EO=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},TO=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},bO=function(e,n){return n.set(n.t,n.p,e===1?n.e:e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},SO=function(e,n){var r=n.s+n.c*e;n.set(n.t,n.p,~~(r+(r<0?-.5:.5))+n.u,n)},pI=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},gI=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},IO=function(e,n,r){return e.style[n]=r},kO=function(e,n,r){return e.style.setProperty(n,r)},CO=function(e,n,r){return e._gsap[n]=r},AO=function(e,n,r){return e._gsap.scaleX=e._gsap.scaleY=r},PO=function(e,n,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},RO=function(e,n,r,i,s){var o=e._gsap;o[n]=r,o.renderTransform(s,o)},Le="transform",rn=Le+"Origin",DO=function t(e,n){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in jr&&s){if(this.tfm=this.tfm||{},e!=="transform")e=lr[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Ir(i,a)}):this.tfm[e]=o.x?o[e]:Ir(i,e),e===rn&&(this.tfm.zOrigin=o.zOrigin);else return lr.transform.split(",").forEach(function(a){return t.call(r,a,n)});if(this.props.indexOf(Le)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(rn,n,"")),e=Le}(s||n)&&this.props.push(e,n,s[e])},mI=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},MO=function(){var e=this.props,n=this.target,r=n.style,i=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(fy,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=dy(),(!s||!s.isStart)&&!r[Le]&&(mI(r),i.zOrigin&&r[rn]&&(r[rn]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},_I=function(e,n){var r={target:e,props:[],revert:MO,save:DO};return e._gsap||sn.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(i){return r.save(i)}),r},yI,lm=function(e,n){var r=_i.createElementNS?_i.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_i.createElement(e);return r&&r.style?r:_i.createElement(e)},dn=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(fy,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,ia(n)||n,1)||""},Gw="O,Moz,ms,Ms,Webkit".split(","),ia=function(e,n,r){var i=n||Ts,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Gw[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Gw[o]:"")+e},um=function(){vO()&&window.document&&(Hw=window,_i=Hw.document,Lo=_i.documentElement,Ts=lm("div")||{style:{}},lm("div"),Le=ia(Le),rn=Le+"Origin",Ts.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",yI=!!ia("perspective"),dy=sn.core.reverting,hy=1)},Kw=function(e){var n=e.ownerSVGElement,r=lm("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",r.appendChild(i),Lo.appendChild(r);try{s=i.getBBox()}catch{}return r.removeChild(i),Lo.removeChild(r),s},Qw=function(e,n){for(var r=n.length;r--;)if(e.hasAttribute(n[r]))return e.getAttribute(n[r])},vI=function(e){var n,r;try{n=e.getBBox()}catch{n=Kw(e),r=1}return n&&(n.width||n.height)||r||(n=Kw(e)),n&&!n.width&&!n.x&&!n.y?{x:+Qw(e,["x","cx","x1"])||0,y:+Qw(e,["y","cy","y1"])||0,width:0,height:0}:n},wI=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&vI(e))},$i=function(e,n){if(n){var r=e.style,i;n in jr&&n!==rn&&(n=Le),r.removeProperty?(i=n.substr(0,2),(i==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),r.removeProperty(i==="--"?n:n.replace(fy,"-$1").toLowerCase())):r.removeAttribute(n)}},yi=function(e,n,r,i,s,o){var a=new nn(e._pt,n,r,0,1,o?gI:pI);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},Yw={deg:1,rad:1,turn:1},NO={grid:1,flex:1},Hi=function t(e,n,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=Ts.style,l=wO.test(n),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),d=100,f=i==="px",p=i==="%",_,m,x,v;if(i===o||!s||Yw[i]||Yw[o])return s;if(o!=="px"&&!f&&(s=t(e,n,r,"px")),v=e.getCTM&&wI(e),(p||o==="%")&&(jr[n]||~n.indexOf("adius")))return _=v?e.getBBox()[l?"width":"height"]:e[c],qe(p?s/_*d:s/100*_);if(a[l?"width":"height"]=d+(f?o:i),m=i!=="rem"&&~n.indexOf("adius")||i==="em"&&e.appendChild&&!u?e:e.parentNode,v&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===_i||!m.appendChild)&&(m=_i.body),x=m._gsap,x&&p&&x.width&&l&&x.time===un.time&&!x.uncache)return qe(s/x.width*d);if(p&&(n==="height"||n==="width")){var w=e.style[n];e.style[n]=d+i,_=e[c],w?e.style[n]=w:$i(e,n)}else(p||o==="%")&&!NO[dn(m,"display")]&&(a.position=dn(e,"position")),m===e&&(a.position="static"),m.appendChild(Ts),_=Ts[c],m.removeChild(Ts),a.position="absolute";return l&&p&&(x=As(m),x.time=un.time,x.width=m[c]),qe(f?_*s/d:_&&s?d/_*s:0)},Ir=function(e,n,r,i){var s;return hy||um(),n in lr&&n!=="transform"&&(n=lr[n],~n.indexOf(",")&&(n=n.split(",")[0])),jr[n]&&n!=="transform"?(s=_u(e,i),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:od(dn(e,rn))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=sd[n]&&sd[n](e,n,r)||dn(e,n)||LS(e,n)||(n==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Hi(e,n,s,r)+r:s},OO=function(e,n,r,i){if(!r||r==="none"){var s=ia(n,e,1),o=s&&dn(e,s,1);o&&o!==r?(n=s,r=o):n==="borderColor"&&(r=dn(e,"borderTopColor"))}var a=new nn(this._pt,e.style,n,0,1,hI),l=0,u=0,c,d,f,p,_,m,x,v,w,T,A,C;if(a.b=r,a.e=i,r+="",i+="",i.substring(0,6)==="var(--"&&(i=dn(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(m=e.style[n],e.style[n]=i,i=dn(e,n)||i,m?e.style[n]=m:$i(e,n)),c=[r,i],tI(c),r=c[0],i=c[1],f=r.match(So)||[],C=i.match(So)||[],C.length){for(;d=So.exec(i);)x=d[0],w=i.substring(l,d.index),_?_=(_+1)%5:(w.substr(-5)==="rgba("||w.substr(-5)==="hsla(")&&(_=1),x!==(m=f[u++]||"")&&(p=parseFloat(m)||0,A=m.substr((p+"").length),x.charAt(1)==="="&&(x=Oo(p,x)+A),v=parseFloat(x),T=x.substr((v+"").length),l=So.lastIndex-T.length,T||(T=T||gn.units[n]||A,l===i.length&&(i+=T,a.e+=T)),A!==T&&(p=Hi(e,n,m,T)||0),a._pt={_next:a._pt,p:w||u===1?w:",",s:p,c:v-p,m:_&&_<4||n==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=n==="display"&&i==="none"?gI:pI;return RS.test(i)&&(a.e=0),this._pt=a,a},Xw={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},LO=function(e){var n=e.split(" "),r=n[0],i=n[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),n[0]=Xw[r]||r,n[1]=Xw[i]||i,n.join(" ")},VO=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var r=n.t,i=r.style,s=n.u,o=r._gsap,a,l,u;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),u=s.length;--u>-1;)a=s[u],jr[a]&&(l=1,a=a==="transformOrigin"?rn:Le),$i(r,a);l&&($i(r,Le),o&&(o.svg&&r.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",_u(r,1),o.uncache=1,mI(i)))}},sd={clearProps:function(e,n,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new nn(e._pt,n,r,0,0,VO);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},mu=[1,0,0,1,0,0],xI={},EI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Jw=function(e){var n=dn(e,Le);return EI(n)?mu:n.substr(7).match(PS).map(qe)},py=function(e,n){var r=e._gsap||As(e),i=e.style,s=Jw(e),o,a,l,u;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?mu:s):(s===mu&&!e.offsetParent&&e!==Lo&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Lo.appendChild(e)),s=Jw(e),l?i.display=l:$i(e,"display"),u&&(a?o.insertBefore(e,a):o?o.appendChild(e):Lo.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},cm=function(e,n,r,i,s,o){var a=e._gsap,l=s||py(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,d=a.xOffset||0,f=a.yOffset||0,p=l[0],_=l[1],m=l[2],x=l[3],v=l[4],w=l[5],T=n.split(" "),A=parseFloat(T[0])||0,C=parseFloat(T[1])||0,M,b,E,S;r?l!==mu&&(b=p*x-_*m)&&(E=A*(x/b)+C*(-m/b)+(m*w-x*v)/b,S=A*(-_/b)+C*(p/b)-(p*w-_*v)/b,A=E,C=S):(M=vI(e),A=M.x+(~T[0].indexOf("%")?A/100*M.width:A),C=M.y+(~(T[1]||T[0]).indexOf("%")?C/100*M.height:C)),i||i!==!1&&a.smooth?(v=A-u,w=C-c,a.xOffset=d+(v*p+w*m)-v,a.yOffset=f+(v*_+w*x)-w):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=C,a.smooth=!!i,a.origin=n,a.originIsAbsolute=!!r,e.style[rn]="0px 0px",o&&(yi(o,a,"xOrigin",u,A),yi(o,a,"yOrigin",c,C),yi(o,a,"xOffset",d,a.xOffset),yi(o,a,"yOffset",f,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+C)},_u=function(e,n){var r=e._gsap||new sI(e);if("x"in r&&!n&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),u=dn(e,rn)||"0",c,d,f,p,_,m,x,v,w,T,A,C,M,b,E,S,k,R,D,P,J,Q,ee,ie,j,q,K,ce,oe,xt,me,We;return c=d=f=m=x=v=w=T=A=0,p=_=1,r.svg=!!(e.getCTM&&wI(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Le]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Le]!=="none"?l[Le]:"")),i.scale=i.rotate=i.translate="none"),b=py(e,r.svg),r.svg&&(r.uncache?(j=e.getBBox(),u=r.xOrigin-j.x+"px "+(r.yOrigin-j.y)+"px",ie=""):ie=!n&&e.getAttribute("data-svg-origin"),cm(e,ie||u,!!ie||r.originIsAbsolute,r.smooth!==!1,b)),C=r.xOrigin||0,M=r.yOrigin||0,b!==mu&&(R=b[0],D=b[1],P=b[2],J=b[3],c=Q=b[4],d=ee=b[5],b.length===6?(p=Math.sqrt(R*R+D*D),_=Math.sqrt(J*J+P*P),m=R||D?oo(D,R)*ms:0,w=P||J?oo(P,J)*ms+m:0,w&&(_*=Math.abs(Math.cos(w*Vo))),r.svg&&(c-=C-(C*R+M*P),d-=M-(C*D+M*J))):(We=b[6],xt=b[7],K=b[8],ce=b[9],oe=b[10],me=b[11],c=b[12],d=b[13],f=b[14],E=oo(We,oe),x=E*ms,E&&(S=Math.cos(-E),k=Math.sin(-E),ie=Q*S+K*k,j=ee*S+ce*k,q=We*S+oe*k,K=Q*-k+K*S,ce=ee*-k+ce*S,oe=We*-k+oe*S,me=xt*-k+me*S,Q=ie,ee=j,We=q),E=oo(-P,oe),v=E*ms,E&&(S=Math.cos(-E),k=Math.sin(-E),ie=R*S-K*k,j=D*S-ce*k,q=P*S-oe*k,me=J*k+me*S,R=ie,D=j,P=q),E=oo(D,R),m=E*ms,E&&(S=Math.cos(E),k=Math.sin(E),ie=R*S+D*k,j=Q*S+ee*k,D=D*S-R*k,ee=ee*S-Q*k,R=ie,Q=j),x&&Math.abs(x)+Math.abs(m)>359.9&&(x=m=0,v=180-v),p=qe(Math.sqrt(R*R+D*D+P*P)),_=qe(Math.sqrt(ee*ee+We*We)),E=oo(Q,ee),w=Math.abs(E)>2e-4?E*ms:0,A=me?1/(me<0?-me:me):0),r.svg&&(ie=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!EI(dn(e,Le)),ie&&e.setAttribute("transform",ie))),Math.abs(w)>90&&Math.abs(w)<270&&(s?(p*=-1,w+=m<=0?180:-180,m+=m<=0?180:-180):(_*=-1,w+=w<=0?180:-180)),n=n||r.uncache,r.x=c-((r.xPercent=c&&(!n&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=d-((r.yPercent=d&&(!n&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=f+o,r.scaleX=qe(p),r.scaleY=qe(_),r.rotation=qe(m)+a,r.rotationX=qe(x)+a,r.rotationY=qe(v)+a,r.skewX=w+a,r.skewY=T+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(u.split(" ")[2])||!n&&r.zOrigin||0)&&(i[rn]=od(u)),r.xOffset=r.yOffset=0,r.force3D=gn.force3D,r.renderTransform=r.svg?zO:yI?TI:FO,r.uncache=0,r},od=function(e){return(e=e.split(" "))[0]+" "+e[1]},Rp=function(e,n,r){var i=Pt(n);return qe(parseFloat(n)+parseFloat(Hi(e,"x",r+"px",i)))+i},FO=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,TI(e,n)},us="0deg",rl="0px",cs=") ",TI=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,u=r.rotation,c=r.rotationY,d=r.rotationX,f=r.skewX,p=r.skewY,_=r.scaleX,m=r.scaleY,x=r.transformPerspective,v=r.force3D,w=r.target,T=r.zOrigin,A="",C=v==="auto"&&e&&e!==1||v===!0;if(T&&(d!==us||c!==us)){var M=parseFloat(c)*Vo,b=Math.sin(M),E=Math.cos(M),S;M=parseFloat(d)*Vo,S=Math.cos(M),o=Rp(w,o,b*S*-T),a=Rp(w,a,-Math.sin(M)*-T),l=Rp(w,l,E*S*-T+T)}x!==rl&&(A+="perspective("+x+cs),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(C||o!==rl||a!==rl||l!==rl)&&(A+=l!==rl||C?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+cs),u!==us&&(A+="rotate("+u+cs),c!==us&&(A+="rotateY("+c+cs),d!==us&&(A+="rotateX("+d+cs),(f!==us||p!==us)&&(A+="skew("+f+", "+p+cs),(_!==1||m!==1)&&(A+="scale("+_+", "+m+cs),w.style[Le]=A||"translate(0, 0)"},zO=function(e,n){var r=n||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,u=r.skewX,c=r.skewY,d=r.scaleX,f=r.scaleY,p=r.target,_=r.xOrigin,m=r.yOrigin,x=r.xOffset,v=r.yOffset,w=r.forceCSS,T=parseFloat(o),A=parseFloat(a),C,M,b,E,S;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=Vo,u*=Vo,C=Math.cos(l)*d,M=Math.sin(l)*d,b=Math.sin(l-u)*-f,E=Math.cos(l-u)*f,u&&(c*=Vo,S=Math.tan(u-c),S=Math.sqrt(1+S*S),b*=S,E*=S,c&&(S=Math.tan(c),S=Math.sqrt(1+S*S),C*=S,M*=S)),C=qe(C),M=qe(M),b=qe(b),E=qe(E)):(C=d,E=f,M=b=0),(T&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(T=Hi(p,"x",o,"px"),A=Hi(p,"y",a,"px")),(_||m||x||v)&&(T=qe(T+_-(_*C+m*b)+x),A=qe(A+m-(_*M+m*E)+v)),(i||s)&&(S=p.getBBox(),T=qe(T+i/100*S.width),A=qe(A+s/100*S.height)),S="matrix("+C+","+M+","+b+","+E+","+T+","+A+")",p.setAttribute("transform",S),w&&(p.style[Le]=S)},UO=function(e,n,r,i,s){var o=360,a=ft(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?ms:1),u=l-i,c=i+u+"deg",d,f;return a&&(d=s.split("_")[1],d==="short"&&(u%=o,u!==u%(o/2)&&(u+=u<0?o:-o)),d==="cw"&&u<0?u=(u+o*qw)%o-~~(u/o)*o:d==="ccw"&&u>0&&(u=(u-o*qw)%o-~~(u/o)*o)),e._pt=f=new nn(e._pt,n,r,i,u,EO),f.e=c,f.u="deg",e._props.push(r),f},Zw=function(e,n){for(var r in n)e[r]=n[r];return e},jO=function(e,n,r){var i=Zw({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,u,c,d,f,p,_;i.svg?(u=r.getAttribute("transform"),r.setAttribute("transform",""),o[Le]=n,a=_u(r,1),$i(r,Le),r.setAttribute("transform",u)):(u=getComputedStyle(r)[Le],o[Le]=n,a=_u(r,1),o[Le]=u);for(l in jr)u=i[l],c=a[l],u!==c&&s.indexOf(l)<0&&(p=Pt(u),_=Pt(c),d=p!==_?Hi(r,l,u,_):parseFloat(u),f=parseFloat(c),e._pt=new nn(e._pt,a,l,d,f-d,am),e._pt.u=_||0,e._props.push(l));Zw(a,i)};tn("padding,margin,Width,Radius",function(t,e){var n="Top",r="Right",i="Bottom",s="Left",o=(e<3?[n,r,i,s]:[n+s,n+r,i+r,i+s]).map(function(a){return e<2?t+a:"border"+a+t});sd[e>1?"border"+t:t]=function(a,l,u,c,d){var f,p;if(arguments.length<4)return f=o.map(function(_){return Ir(a,_,u)}),p=f.join(" "),p.split(f[0]).length===5?f[0]:p;f=(c+"").split(" "),p={},o.forEach(function(_,m){return p[_]=f[m]=f[m]||f[(m-1)/2|0]}),a.init(l,p,d)}});var bI={name:"css",register:um,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,u,c,d,f,p,_,m,x,v,w,T,A,C,M,b,E,S;hy||um(),this.styles=this.styles||_I(e),E=this.styles.props,this.tween=r;for(m in n)if(m!=="autoRound"&&(c=n[m],!(ln[m]&&oI(m,n,r,i,e,s)))){if(p=typeof c,_=sd[m],p==="function"&&(c=c.call(r,i,e,s),p=typeof c),p==="string"&&~c.indexOf("random(")&&(c=fu(c)),_)_(this,e,m,c,r)&&(b=1);else if(m.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(m)+"").trim(),c+="",Di.lastIndex=0,Di.test(u)||(x=Pt(u),v=Pt(c),v?x!==v&&(u=Hi(e,m,u,v)+v):x&&(c+=x)),this.add(a,"setProperty",u,c,i,s,0,0,m),o.push(m),E.push(m,0,a[m]);else if(p!=="undefined"){if(l&&m in l?(u=typeof l[m]=="function"?l[m].call(r,i,e,s):l[m],ft(u)&&~u.indexOf("random(")&&(u=fu(u)),Pt(u+"")||u==="auto"||(u+=gn.units[m]||Pt(Ir(e,m))||""),(u+"").charAt(1)==="="&&(u=Ir(e,m))):u=Ir(e,m),f=parseFloat(u),w=p==="string"&&c.charAt(1)==="="&&c.substr(0,2),w&&(c=c.substr(2)),d=parseFloat(c),m in lr&&(m==="autoAlpha"&&(f===1&&Ir(e,"visibility")==="hidden"&&d&&(f=0),E.push("visibility",0,a.visibility),yi(this,a,"visibility",f?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=lr[m],~m.indexOf(",")&&(m=m.split(",")[0]))),T=m in jr,T){if(this.styles.save(m),S=c,p==="string"&&c.substring(0,6)==="var(--"){if(c=dn(e,c.substring(4,c.indexOf(")"))),c.substring(0,5)==="calc("){var k=e.style.perspective;e.style.perspective=c,c=dn(e,"perspective"),k?e.style.perspective=k:$i(e,"perspective")}d=parseFloat(c)}if(A||(C=e._gsap,C.renderTransform&&!n.parseTransform||_u(e,n.parseTransform),M=n.smoothOrigin!==!1&&C.smooth,A=this._pt=new nn(this._pt,a,Le,0,1,C.renderTransform,C,0,-1),A.dep=1),m==="scale")this._pt=new nn(this._pt,C,"scaleY",C.scaleY,(w?Oo(C.scaleY,w+d):d)-C.scaleY||0,am),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){E.push(rn,0,a[rn]),c=LO(c),C.svg?cm(e,c,0,M,0,this):(v=parseFloat(c.split(" ")[2])||0,v!==C.zOrigin&&yi(this,C,"zOrigin",C.zOrigin,v),yi(this,a,m,od(u),od(c)));continue}else if(m==="svgOrigin"){cm(e,c,1,M,0,this);continue}else if(m in xI){UO(this,C,m,f,w?Oo(f,w+c):c);continue}else if(m==="smoothOrigin"){yi(this,C,"smooth",C.smooth,c);continue}else if(m==="force3D"){C[m]=c;continue}else if(m==="transform"){jO(this,c,e);continue}}else m in a||(m=ia(m)||m);if(T||(d||d===0)&&(f||f===0)&&!xO.test(c)&&m in a)x=(u+"").substr((f+"").length),d||(d=0),v=Pt(c)||(m in gn.units?gn.units[m]:x),x!==v&&(f=Hi(e,m,u,v)),this._pt=new nn(this._pt,T?C:a,m,f,(w?Oo(f,w+d):d)-f,!T&&(v==="px"||m==="zIndex")&&n.autoRound!==!1?SO:am),this._pt.u=v||0,T&&S!==c?(this._pt.b=u,this._pt.e=S,this._pt.r=bO):x!==v&&v!=="%"&&(this._pt.b=u,this._pt.r=TO);else if(m in a)OO.call(this,e,m,u,w?w+c:c);else if(m in e)this.add(e,m,u||e[m],w?w+c:c,i,s);else if(m!=="parseTransform"){ty(m,c);continue}T||(m in a?E.push(m,0,a[m]):typeof e[m]=="function"?E.push(m,2,e[m]()):E.push(m,1,u||e[m])),o.push(m)}}b&&dI(this)},render:function(e,n){if(n.tween._time||!dy())for(var r=n._pt;r;)r.r(e,r.d),r=r._next;else n.styles.revert()},get:Ir,aliases:lr,getSetter:function(e,n,r){var i=lr[n];return i&&i.indexOf(",")<0&&(n=i),n in jr&&n!==rn&&(e._gsap.x||Ir(e,"x"))?r&&Ww===r?n==="scale"?AO:CO:(Ww=r||{})&&(n==="scale"?PO:RO):e.style&&!J_(e.style[n])?IO:~n.indexOf("-")?kO:uy(e,n)},core:{_removeProperty:$i,_getMatrix:py}};sn.utils.checkPrefix=ia;sn.core.getStyleSaver=_I;(function(t,e,n,r){var i=tn(t+","+e+","+n,function(s){jr[s]=1});tn(e,function(s){gn.units[s]="deg",xI[s]=1}),lr[i[13]]=t+","+e,tn(r,function(s){var o=s.split(":");lr[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");tn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){gn.units[t]="px"});sn.registerPlugin(bI);var Ut=sn.registerPlugin(bI)||sn;Ut.core.Tween;/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let e1=typeof document<"u"?O.useLayoutEffect:O.useEffect,t1=t=>t&&!Array.isArray(t)&&typeof t=="object",Rc=[],BO={},SI=Ut;const Xs=(t,e=Rc)=>{let n=BO;t1(t)?(n=t,t=null,e="dependencies"in n?n.dependencies:Rc):t1(e)&&(n=e,e="dependencies"in n?n.dependencies:Rc),t&&typeof t!="function"&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:i}=n,s=O.useRef(!1),o=O.useRef(SI.context(()=>{},r)),a=O.useRef(u=>o.current.add(null,u)),l=e&&e.length&&!i;return l&&e1(()=>(s.current=!0,()=>o.current.revert()),Rc),e1(()=>{if(t&&o.current.add(t,r),!l||!s.current)return()=>o.current.revert()},e),{context:o.current,contextSafe:a.current}};Xs.register=t=>{SI=t};Xs.headless=!0;const II=O.createContext(),$O=({children:t})=>{const[e,n]=O.useState(()=>{if(typeof window<"u"){const i=localStorage.getItem("theme");if(i)return i;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"dark"});O.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e)},[e]);const r=()=>{n(i=>i==="dark"?"light":"dark")};return N.jsx(II.Provider,{value:{theme:e,toggleTheme:r},children:t})},kI=()=>{const t=O.useContext(II);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},HO=({userRole:t,setUserRole:e})=>{const n=O.useRef(),{theme:r,toggleTheme:i}=kI();Xs(()=>{Ut.from(".sidebar-item",{x:-20,opacity:0,duration:.5,stagger:.1,ease:"power2.out",delay:.2})},{scope:n});const s=[{icon:GM,label:"Dashboard",path:"/"},{icon:nN,label:"Editor",path:"/editor"},{icon:Nw,label:"Campaigns",path:"/campaigns"}];return N.jsxs("div",{ref:n,className:"h-full w-20 lg:w-64 flex flex-col justify-between py-8 px-4 transition-all duration-300",children:[N.jsxs("div",{className:"flex items-center gap-3 px-2 mb-10 sidebar-item",children:[N.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-brand-accent to-brand-glow flex items-center justify-center shadow-lg shadow-brand-accent/20",children:N.jsx(Nw,{className:"text-white transform -rotate-12",size:20})}),N.jsxs("div",{className:"hidden lg:block",children:[N.jsxs("h1",{className:"text-xl font-bold font-display tracking-tight text-gray-900 dark:text-white leading-none",children:["Brand",N.jsx("span",{className:"text-brand-accent",children:"AI"})]}),N.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-widest",children:"Marketing Suite"})]})]}),N.jsx("nav",{className:"flex-1 space-y-2",children:s.map(o=>N.jsx(TS,{to:o.path,className:({isActive:a})=>`
              sidebar-item group flex items-center gap-3 px-3 py-3 rounded-xl transition-all duration-300 relative overflow-hidden
              ${a?"bg-brand-accent/10 text-brand-accent shadow-lg shadow-brand-accent/5":"text-gray-500 hover:text-gray-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5"}
            `,children:({isActive:a})=>N.jsxs(N.Fragment,{children:[N.jsx("div",{className:`absolute inset-0 bg-gradient-to-r from-brand-accent/10 to-transparent opacity-0 transition-opacity duration-300 ${a?"opacity-100":"group-hover:opacity-50"}`}),N.jsx(o.icon,{size:20,className:`relative z-10 transition-transform duration-300 ${a?"scale-110":"group-hover:scale-110"}`}),N.jsx("span",{className:"hidden lg:block font-medium relative z-10",children:o.label}),a&&N.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-brand-accent rounded-r-full"})]})},o.path))}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{className:"sidebar-item hidden lg:block p-4 rounded-2xl bg-gradient-to-br from-gray-100 to-white dark:from-white/5 dark:to-white/0 border border-gray-200 dark:border-white/10 relative overflow-hidden group",children:[N.jsx("div",{className:"absolute inset-0 bg-brand-accent/5 group-hover:bg-brand-accent/10 transition-colors"}),N.jsxs("div",{className:"relative z-10",children:[N.jsx("div",{className:"w-8 h-8 rounded-lg bg-brand-accent/20 text-brand-accent flex items-center justify-center mb-3",children:N.jsx(TN,{size:16,fill:"currentColor"})}),N.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Go Pro"}),N.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-3",children:"Unlock AI features"}),N.jsx("button",{className:"w-full py-2 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-black text-xs font-bold hover:scale-105 transition-transform",children:"Upgrade"})]})]}),N.jsxs("button",{onClick:i,className:"sidebar-item w-full flex items-center justify-center gap-2 p-3 rounded-xl bg-gray-100 dark:bg-white/5 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:[r==="dark"?N.jsx(dN,{size:20}):N.jsx(JM,{size:20}),N.jsx("span",{className:"hidden lg:block text-sm font-medium",children:r==="dark"?"Light Mode":"Dark Mode"})]}),N.jsxs("button",{className:"sidebar-item flex items-center gap-3 px-3 py-3 rounded-xl text-gray-500 hover:text-gray-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 transition-colors w-full",children:[N.jsx(lN,{size:20}),N.jsx("span",{className:"hidden lg:block font-medium",children:"Settings"})]})]})]})},WO=({children:t,userRole:e,setUserRole:n})=>{const{theme:r}=kI(),i=O.useRef(null),s=O.useRef(null),o=O.useRef(null);return Xs(()=>{Ut.to(s.current,{x:"20%",y:"20%",duration:8,repeat:-1,yoyo:!0,ease:"sine.inOut"}),Ut.to(o.current,{x:"-20%",y:"-20%",duration:10,repeat:-1,yoyo:!0,ease:"sine.inOut",delay:1})},{scope:i}),N.jsxs("div",{ref:i,className:"min-h-screen bg-brand-light dark:bg-brand-dark text-gray-900 dark:text-white relative selection:bg-brand-accent/30 selection:text-brand-accent dark:selection:text-white transition-colors duration-300",children:[N.jsx("div",{className:"fixed inset-0 opacity-[0.03] z-50 pointer-events-none",style:{backgroundImage:'url("https://grainy-gradients.vercel.app/noise.svg")'}}),N.jsx("div",{className:`fixed inset-0 z-0 transition-opacity duration-500 ${r==="dark"?"opacity-100":"opacity-0"}`,children:N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#0B0C15] via-[#111322] to-[#0B0C15]"})}),N.jsx("div",{className:`fixed inset-0 z-0 transition-opacity duration-500 ${r==="light"?"opacity-100":"opacity-0"}`,children:N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#F8F9FA] via-[#E9ECEF] to-[#F8F9FA]"})}),N.jsx("div",{ref:s,className:"fixed top-0 left-0 w-[600px] h-[600px] bg-gradient-to-r from-brand-accent/20 to-purple-500/20 rounded-full blur-[120px] mix-blend-screen opacity-60 pointer-events-none"}),N.jsx("div",{ref:o,className:"fixed bottom-0 right-0 w-[600px] h-[600px] bg-gradient-to-r from-blue-500/10 to-brand-glow/10 rounded-full blur-[120px] mix-blend-screen opacity-50 pointer-events-none"}),N.jsxs("div",{className:"relative z-10 flex min-h-screen",children:[N.jsx("div",{className:"sticky top-0 h-screen shrink-0",children:N.jsx(HO,{userRole:e,setUserRole:n})}),N.jsx("main",{className:"flex-1 p-8 lg:p-12 overflow-x-hidden",children:N.jsx("div",{className:"max-w-7xl mx-auto",children:t})})]})]})},qO=()=>{};var n1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new KO;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QO=function(t){const e=CI(t);return AI.encodeByteArray(e,!0)},ad=function(t){return QO(t).replace(/\./g,"")},PI=function(t){try{return AI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=()=>YO().__FIREBASE_DEFAULTS__,JO=()=>{if(typeof process>"u"||typeof n1>"u")return;const t=n1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PI(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return qO()||XO()||JO()||ZO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RI=t=>{var e,n;return(n=(e=nf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},eL=t=>{const e=RI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DI=()=>{var t;return(t=nf())==null?void 0:t.config},MI=t=>{var e;return(e=nf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ad(JSON.stringify(n)),ad(JSON.stringify(o)),""].join(".")}const Ol={};function rL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?t.emulator.push(e):t.prod.push(e);return t}function iL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let r1=!1;function OI(t,e){if(typeof window>"u"||typeof document>"u"||!Ta(window.location.host)||Ol[t]===e||Ol[t]||r1)return;Ol[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=rL().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{r1=!0,o()},f}function c(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=iL(r),p=n("text"),_=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),x=document.getElementById(m)||document.createElement("a"),v=n("preprendIcon"),w=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const T=f.element;a(T),c(x,m);const A=u();l(w,v),T.append(w,_,x,A),document.body.appendChild(T)}s?(_.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function oL(){var e;const t=(e=nf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cL(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function hL(){return!oL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dL(){try{return typeof indexedDB=="object"}catch{return!1}}function fL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="FirebaseError";class Qr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pL,Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?gL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Qr(i,a,r)}}function gL(t,e){return t.replace(mL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const mL=/\{\$([^}]+)}/g;function _L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i1(s)&&i1(o)){if(!js(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yL(t,e){const n=new vL(t,e);return n.subscribe.bind(n)}class vL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dp),i.error===void 0&&(i.error=Dp),i.complete===void 0&&(i.complete=Dp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TL(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:EL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function EL(t){return t===_s?void 0:t}function TL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const SL={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},IL=ae.INFO,kL={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},CL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=kL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gy{constructor(e){this.name=e,this._logLevel=IL,this._logHandler=CL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const AL=(t,e)=>e.some(n=>t instanceof n);let s1,o1;function PL(){return s1||(s1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RL(){return o1||(o1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LI=new WeakMap,hm=new WeakMap,VI=new WeakMap,Mp=new WeakMap,my=new WeakMap;function DL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LI.set(n,t)}).catch(()=>{}),my.set(e,t),e}function ML(t){if(hm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hm.set(t,e)}let dm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NL(t){dm=t(dm)}function OL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Np(this),e,...n);return VI.set(r,e.sort?e.sort():[e]),Mi(r)}:RL().includes(t)?function(...e){return t.apply(Np(this),e),Mi(LI.get(this))}:function(...e){return Mi(t.apply(Np(this),e))}}function LL(t){return typeof t=="function"?OL(t):(t instanceof IDBTransaction&&ML(t),AL(t,PL())?new Proxy(t,dm):t)}function Mi(t){if(t instanceof IDBRequest)return DL(t);if(Mp.has(t))return Mp.get(t);const e=LL(t);return e!==t&&(Mp.set(t,e),my.set(e,t)),e}const Np=t=>my.get(t);function VL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Mi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Mi(o.result),l.oldVersion,l.newVersion,Mi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const FL=["get","getKey","getAll","getAllKeys","count"],zL=["put","add","delete","clear"],Op=new Map;function a1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Op.set(e,s),s}NL(t=>({...t,get:(e,n,r)=>a1(e,n)||t.get(e,n,r),has:(e,n)=>!!a1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",l1="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new gy("@firebase/app"),BL="@firebase/app-compat",$L="@firebase/analytics-compat",HL="@firebase/analytics",WL="@firebase/app-check-compat",qL="@firebase/app-check",GL="@firebase/auth",KL="@firebase/auth-compat",QL="@firebase/database",YL="@firebase/data-connect",XL="@firebase/database-compat",JL="@firebase/functions",ZL="@firebase/functions-compat",eV="@firebase/installations",tV="@firebase/installations-compat",nV="@firebase/messaging",rV="@firebase/messaging-compat",iV="@firebase/performance",sV="@firebase/performance-compat",oV="@firebase/remote-config",aV="@firebase/remote-config-compat",lV="@firebase/storage",uV="@firebase/storage-compat",cV="@firebase/firestore",hV="@firebase/ai",dV="@firebase/firestore-compat",fV="firebase",pV="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="[DEFAULT]",gV={[fm]:"fire-core",[BL]:"fire-core-compat",[HL]:"fire-analytics",[$L]:"fire-analytics-compat",[qL]:"fire-app-check",[WL]:"fire-app-check-compat",[GL]:"fire-auth",[KL]:"fire-auth-compat",[QL]:"fire-rtdb",[YL]:"fire-data-connect",[XL]:"fire-rtdb-compat",[JL]:"fire-fn",[ZL]:"fire-fn-compat",[eV]:"fire-iid",[tV]:"fire-iid-compat",[nV]:"fire-fcm",[rV]:"fire-fcm-compat",[iV]:"fire-perf",[sV]:"fire-perf-compat",[oV]:"fire-rc",[aV]:"fire-rc-compat",[lV]:"fire-gcs",[uV]:"fire-gcs-compat",[cV]:"fire-fst",[dV]:"fire-fst-compat",[hV]:"fire-vertex","fire-js":"fire-js",[fV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,mV=new Map,gm=new Map;function u1(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function sa(t){const e=t.name;if(gm.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;gm.set(e,t);for(const n of ld.values())u1(n,t);for(const n of mV.values())u1(n,t);return!0}function _y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ar(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Bu("app","Firebase",_V);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=pV;function FI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:pm,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(n||(n=DI()),!n)throw Ni.create("no-options");const s=ld.get(i);if(s){if(js(n,s.options)&&js(r,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new bL(i);for(const l of gm.values())o.addComponent(l);const a=new yV(n,r,o);return ld.set(i,a),a}function zI(t=pm){const e=ld.get(t);if(!e&&t===pm&&DI())return FI();if(!e)throw Ni.create("no-app",{appName:t});return e}function Oi(t,e,n){let r=gV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(o.join(" "));return}sa(new Bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV="firebase-heartbeat-database",wV=1,yu="firebase-heartbeat-store";let Lp=null;function UI(){return Lp||(Lp=VL(vV,wV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function xV(t){try{const n=(await UI()).transaction(yu),r=await n.objectStore(yu).get(jI(t));return await n.done,r}catch(e){if(e instanceof Qr)Br.warn(e.message);else{const n=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Br.warn(n.message)}}}async function c1(t,e){try{const r=(await UI()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,jI(t)),await r.done}catch(n){if(n instanceof Qr)Br.warn(n.message);else{const r=Ni.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Br.warn(r.message)}}}function jI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=1024,TV=30;class bV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=h1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>TV){const o=kV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=h1(),{heartbeatsToSend:r,unsentEntries:i}=SV(this._heartbeatsCache.heartbeats),s=ad(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Br.warn(n),""}}}function h1(){return new Date().toISOString().substring(0,10)}function SV(t,e=EV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),d1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),d1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dL()?fL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return c1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function d1(t){return ad(JSON.stringify({version:2,heartbeats:t})).length}function kV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){sa(new Bs("platform-logger",e=>new UL(e),"PRIVATE")),sa(new Bs("heartbeat",e=>new bV(e),"PRIVATE")),Oi(fm,l1,t),Oi(fm,l1,"esm2020"),Oi("fire-js","")}CV("");var AV="firebase",PV="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(AV,PV,"app");function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RV=BI,$I=new Bu("auth","Firebase",BI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new gy("@firebase/auth");function DV(t,...e){ud.logLevel<=ae.WARN&&ud.warn(`Auth (${ba}): ${t}`,...e)}function gh(t,...e){ud.logLevel<=ae.ERROR&&ud.error(`Auth (${ba}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t,...e){throw yy(t,...e)}function hr(t,...e){return yy(t,...e)}function HI(t,e,n){const r={...RV(),[e]:n};return new Bu("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return HI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return $I.create(t,...e)}function X(t,e,...n){if(!t)throw yy(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gh(e),new Error(e)}function Hr(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function MV(){return f1()==="http:"||f1()==="https:"}function f1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||lL()||"connection"in navigator)?navigator.onLine:!0}function OV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hr(n>e,"Short delay should be less than long delay!"),this.isMobile=sL()||uL()}get(){return NV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t,e){Hr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FV=new Hu(3e4,6e4);function wy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Sa(t,e,n,r,i={}){return qI(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=$u({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return aL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(u.credentials="include"),WI.fetch()(await GI(t,t.config.apiHost,n,a),u)})}async function qI(t,e,n){t._canInitEmulator=!1;const r={...LV,...e};try{const i=new UV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Dc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw HI(t,c,u);$r(t,c)}}catch(i){if(i instanceof Qr)throw i;$r(t,"network-request-failed",{message:String(i)})}}async function zV(t,e,n,r,i={}){const s=await Sa(t,e,n,r,i);return"mfaPendingCredential"in s&&$r(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function GI(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?vy(t.config,i):`${t.config.apiScheme}://${i}`;return VV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class UV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),FV.get())})}}function Dc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=hr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return Sa(t,"POST","/v1/accounts:delete",e)}async function cd(t,e){return Sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BV(t,e=!1){const n=Ot(t),r=await n.getIdToken(e),i=xy(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ll(Vp(i.auth_time)),issuedAtTime:Ll(Vp(i.iat)),expirationTime:Ll(Vp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Vp(t){return Number(t)*1e3}function xy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=PI(n);return i?JSON.parse(i):(gh("Failed to decode base64 JWT payload"),null)}catch(i){return gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function p1(t){const e=xy(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qr&&$V(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $V({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ll(this.lastLoginAt),this.creationTime=Ll(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hd(t){var d;const e=t.auth,n=await t.getIdToken(),r=await vu(t,cd(e,{idToken:n}));X(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?KI(i.providerUserInfo):[],o=qV(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function WV(t){const e=Ot(t);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KI(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GV(t,e){const n=await qI(t,{},async()=>{const r=$u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await GI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Ta(t.emulatorConfig.host)&&(l.credentials="include"),WI.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KV(t,e){return Sa(t,"POST","/v2/accounts:revokeToken",wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=p1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await GV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Fo;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new HV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _m(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BV(this,e)}reload(){return WV(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await vu(this,jV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:_,stsTokenManager:m}=n;X(d&&m,e,"internal-error");const x=Fo.fromJSON(this.name,m);X(typeof d=="string",e,"internal-error"),ii(r,e.name),ii(i,e.name),X(typeof f=="boolean",e,"internal-error"),X(typeof p=="boolean",e,"internal-error"),ii(s,e.name),ii(o,e.name),ii(a,e.name),ii(l,e.name),ii(u,e.name),ii(c,e.name);const v=new Un({uid:d,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:c});return _&&Array.isArray(_)&&(v.providerData=_.map(w=>({...w}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new Fo;i.updateFromServerResponse(n);const s=new Un({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];X(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?KI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Fo;a.updateFromIdToken(r);const l=new Un({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _m(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map;function Rr(t){Hr(t instanceof Function,"Expected a class definition");let e=g1.get(t);return e?(Hr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,g1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QI.type="NONE";const m1=QI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=mh(this.userKey,i.apiKey,s),this.fullPersistenceKey=mh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await cd(this.auth,{idToken:e}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(Rr(m1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rr(m1);const o=mh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const f=await cd(e,{idToken:c}).catch(()=>{});if(!f)break;d=await Un._fromGetAccountInfoResponse(e,f,c)}else d=Un._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new zo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new zo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ZI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tk(e))return"Blackberry";if(nk(e))return"Webos";if(XI(e))return"Safari";if((e.includes("chrome/")||JI(e))&&!e.includes("edge/"))return"Chrome";if(ek(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YI(t=Nt()){return/firefox\//i.test(t)}function XI(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JI(t=Nt()){return/crios\//i.test(t)}function ZI(t=Nt()){return/iemobile/i.test(t)}function ek(t=Nt()){return/android/i.test(t)}function tk(t=Nt()){return/blackberry/i.test(t)}function nk(t=Nt()){return/webos/i.test(t)}function Ey(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QV(t=Nt()){var e;return Ey(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YV(){return cL()&&document.documentMode===10}function rk(t=Nt()){return Ey(t)||ek(t)||nk(t)||tk(t)||/windows phone/i.test(t)||ZI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e=[]){let n;switch(t){case"Browser":n=_1(Nt());break;case"Worker":n=`${_1(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ba}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e={}){return Sa(t,"GET","/v2/passwordPolicy",wy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=6;class e4{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ZV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y1(this),this.idTokenSubscription=new y1(this),this.beforeStateQueue=new XV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$I,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await cd(this,{idToken:e}),r=await Un._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ar(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=OV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Ms(this));const n=e?Ot(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ar(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JV(this),n=new e4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ik(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ar(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ty(t){return Ot(t)}class y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=yL(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let by={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n4(t){by=t}function r4(t){return by.loadJS(t)}function i4(){return by.gapiScript}function s4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e){const n=_y(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(js(s,e??{}))return i;$r(i,"already-initialized")}return n.initialize({options:e})}function a4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l4(t,e,n){const r=Ty(t);X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sk(e),{host:o,port:a}=u4(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){X(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),X(js(u,r.config.emulator)&&js(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,Ta(o)?(NI(`${s}//${o}${l}`),OI("Auth",!0)):c4()}function sk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u4(t){const e=sk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:v1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:v1(o)}}}function v1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(t,e){return zV(t,"POST","/v1/accounts:signInWithIdp",wy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="http://localhost";class $s extends ok{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new $s(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Uo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Uo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Uo(e,n)}buildRequest(){const e={requestUri:h4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends ak{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wu{constructor(){super("facebook.com")}static credential(e){return $s._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $s._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Wu{constructor(){super("github.com")}static credential(e){return $s._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return di.credential(e.oauthAccessToken)}catch{return null}}}di.GITHUB_SIGN_IN_METHOD="github.com";di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Wu{constructor(){super("twitter.com")}static credential(e,n){return $s._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Un._fromIdTokenResponse(e,r,i),o=w1(r);return new oa({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=w1(r);return new oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function w1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd extends Qr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new dd(e,n,r,i)}}function lk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(t,s,e,r):s})}async function d4(t,e,n=!1){const r=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e,n=!1){const{auth:r}=t;if(ar(r.app))return Promise.reject(Ms(r));const i="reauthenticate";try{const s=await vu(t,lk(r,i,e,t),n);X(s.idToken,r,"internal-error");const o=xy(s.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),oa._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e,n=!1){if(ar(t.app))return Promise.reject(Ms(t));const r="signIn",i=await lk(t,r,e),s=await oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function g4(t,e,n,r){return Ot(t).onIdTokenChanged(e,n,r)}function m4(t,e,n){return Ot(t).beforeAuthStateChanged(e,n)}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=1e3,y4=10;class ck extends uk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);YV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,y4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ck.type="LOCAL";const v4=ck;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends uk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hk.type="SESSION";const dk=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await w4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Sy("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(){return window}function E4(t){dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){return typeof dr().WorkerGlobalScope<"u"&&typeof dr().importScripts=="function"}async function T4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function b4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function S4(){return fk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebaseLocalStorageDb",I4=1,pd="firebaseLocalStorage",gk="fbase_key";class qu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function k4(){const t=indexedDB.deleteDatabase(pk);return new qu(t).toPromise()}function ym(){const t=indexedDB.open(pk,I4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pd,{keyPath:gk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await k4(),e(await ym()))})})}async function x1(t,e,n){const r=sf(t,!0).put({[gk]:e,value:n});return new qu(r).toPromise()}async function C4(t,e){const n=sf(t,!1).get(e),r=await new qu(n).toPromise();return r===void 0?null:r.value}function E1(t,e){const n=sf(t,!0).delete(e);return new qu(n).toPromise()}const A4=800,P4=3;class mk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>P4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(S4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await T4(),!this.activeServiceWorker)return;this.sender=new x4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||b4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ym();return await x1(e,fd,"1"),await E1(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>x1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>E1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sf(i,!1).getAll();return new qu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mk.type="LOCAL";const R4=mk;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e){return e?Rr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy extends ok{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Uo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Uo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function M4(t){return p4(t.auth,new Iy(t),t.bypassAuthState)}function N4(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),f4(n,new Iy(t),t.bypassAuthState)}async function O4(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),d4(n,new Iy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M4;case"linkViaPopup":case"linkViaRedirect":return O4;case"reauthViaPopup":case"reauthViaRedirect":return N4;default:$r(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Hu(2e3,1e4);class ko extends _k{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,L4.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4="pendingRedirect",_h=new Map;class F4 extends _k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await z4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function z4(t,e){const n=B4(e),r=j4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function U4(t,e){_h.set(t._key(),e)}function j4(t){return Rr(t._redirectPersistence)}function B4(t){return mh(V4,t.config.apiKey,t.name)}async function $4(t,e,n=!1){if(ar(t.app))return Promise.reject(Ms(t));const r=Ty(t),i=D4(r,e),o=await new F4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=10*60*1e3;class W4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!q4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yk(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H4&&this.cachedEventUids.clear(),this.cachedEventUids.has(T1(e))}saveEventToCache(e){this.cachedEventUids.add(T1(e)),this.lastProcessedEventTime=Date.now()}}function T1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function q4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G4(t,e={}){return Sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function Y4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G4(t);for(const n of e)try{if(X4(n))return}catch{}$r(t,"unauthorized-domain")}function X4(t){const e=mm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Q4.test(n))return!1;if(K4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Hu(3e4,6e4);function b1(){const t=dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z4(t){return new Promise((e,n)=>{var i,s,o;function r(){b1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b1(),n(hr(t,"network-request-failed"))},timeout:J4.get()})}if((s=(i=dr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=dr().gapi)!=null&&o.load)r();else{const a=s4("iframefcb");return dr()[a]=()=>{gapi.load?r():n(hr(t,"network-request-failed"))},r4(`${i4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yh=null,e})}let yh=null;function eF(t){return yh=yh||Z4(t),yh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=new Hu(5e3,15e3),nF="__/auth/iframe",rF="emulator/auth/iframe",iF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oF(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vy(e,rF):`https://${t.config.authDomain}/${nF}`,r={apiKey:e.apiKey,appName:t.name,v:ba},i=sF.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$u(r).slice(1)}`}async function aF(t){const e=await eF(t),n=dr().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:oF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iF,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=dr().setTimeout(()=>{s(o)},tF.get());function l(){dr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uF=500,cF=600,hF="_blank",dF="http://localhost";class S1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fF(t,e,n,r=uF,i=cF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...lF,width:r.toString(),height:i.toString(),top:s,left:o},u=Nt().toLowerCase();n&&(a=JI(u)?hF:n),YI(u)&&(e=e||dF,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(QV(u)&&a!=="_self")return pF(e||"",a),new S1(null);const d=window.open(e||"",a,c);X(d,t,"popup-blocked");try{d.focus()}catch{}return new S1(d)}function pF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="__/auth/handler",mF="emulator/auth/handler",_F=encodeURIComponent("fac");async function I1(t,e,n,r,i,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ba,eventId:i};if(e instanceof ak){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_L(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof Wu){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${_F}=${encodeURIComponent(l)}`:"";return`${yF(t)}?${$u(a).slice(1)}${u}`}function yF({config:t}){return t.emulator?vy(t,mF):`https://${t.authDomain}/${gF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="webStorageSupport";class vF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dk,this._completeRedirectFn=$4,this._overrideRedirectResult=U4}async _openPopup(e,n,r,i){var o;Hr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await I1(e,n,r,mm(),i);return fF(e,s,Sy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await I1(e,n,r,mm(),i);return E4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Hr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await aF(e),r=new W4(e);return n.register("authEvent",i=>(X(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fp,{type:Fp},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Fp];s!==void 0&&n(!!s),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return rk()||XI()||Ey()}}const wF=vF;var k1="@firebase/auth",C1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TF(t){sa(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ik(t)},u=new t4(r,i,s,l);return a4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),sa(new Bs("auth-internal",e=>{const n=Ty(e.getProvider("auth").getImmediate());return(r=>new xF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(k1,C1,EF(t)),Oi(k1,C1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=5*60,SF=MI("authIdTokenMaxAge")||bF;let A1=null;const IF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SF)return;const i=n==null?void 0:n.token;A1!==i&&(A1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function kF(t=zI()){const e=_y(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o4(t,{popupRedirectResolver:wF,persistence:[R4,v4,dk]}),r=MI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=IF(s.toString());m4(n,o,()=>o(n.currentUser)),g4(n,a=>o(a))}}const i=RI("auth");return i&&l4(n,`http://${i}`),n}function CF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}n4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=hr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",CF().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TF("Browser");var P1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Li,vk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,E){function S(){}S.prototype=E.prototype,b.F=E.prototype,b.prototype=new S,b.prototype.constructor=b,b.D=function(k,R,D){for(var P=Array(arguments.length-2),J=2;J<arguments.length;J++)P[J-2]=arguments[J];return E.prototype[R].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,E,S){S||(S=0);const k=Array(16);if(typeof E=="string")for(var R=0;R<16;++R)k[R]=E.charCodeAt(S++)|E.charCodeAt(S++)<<8|E.charCodeAt(S++)<<16|E.charCodeAt(S++)<<24;else for(R=0;R<16;++R)k[R]=E[S++]|E[S++]<<8|E[S++]<<16|E[S++]<<24;E=b.g[0],S=b.g[1],R=b.g[2];let D=b.g[3],P;P=E+(D^S&(R^D))+k[0]+3614090360&4294967295,E=S+(P<<7&4294967295|P>>>25),P=D+(R^E&(S^R))+k[1]+3905402710&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(S^D&(E^S))+k[2]+606105819&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(E^R&(D^E))+k[3]+3250441966&4294967295,S=R+(P<<22&4294967295|P>>>10),P=E+(D^S&(R^D))+k[4]+4118548399&4294967295,E=S+(P<<7&4294967295|P>>>25),P=D+(R^E&(S^R))+k[5]+1200080426&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(S^D&(E^S))+k[6]+2821735955&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(E^R&(D^E))+k[7]+4249261313&4294967295,S=R+(P<<22&4294967295|P>>>10),P=E+(D^S&(R^D))+k[8]+1770035416&4294967295,E=S+(P<<7&4294967295|P>>>25),P=D+(R^E&(S^R))+k[9]+2336552879&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(S^D&(E^S))+k[10]+4294925233&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(E^R&(D^E))+k[11]+2304563134&4294967295,S=R+(P<<22&4294967295|P>>>10),P=E+(D^S&(R^D))+k[12]+1804603682&4294967295,E=S+(P<<7&4294967295|P>>>25),P=D+(R^E&(S^R))+k[13]+4254626195&4294967295,D=E+(P<<12&4294967295|P>>>20),P=R+(S^D&(E^S))+k[14]+2792965006&4294967295,R=D+(P<<17&4294967295|P>>>15),P=S+(E^R&(D^E))+k[15]+1236535329&4294967295,S=R+(P<<22&4294967295|P>>>10),P=E+(R^D&(S^R))+k[1]+4129170786&4294967295,E=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(E^S))+k[6]+3225465664&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^S&(D^E))+k[11]+643717713&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^E&(R^D))+k[0]+3921069994&4294967295,S=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(S^R))+k[5]+3593408605&4294967295,E=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(E^S))+k[10]+38016083&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^S&(D^E))+k[15]+3634488961&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^E&(R^D))+k[4]+3889429448&4294967295,S=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(S^R))+k[9]+568446438&4294967295,E=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(E^S))+k[14]+3275163606&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^S&(D^E))+k[3]+4107603335&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^E&(R^D))+k[8]+1163531501&4294967295,S=R+(P<<20&4294967295|P>>>12),P=E+(R^D&(S^R))+k[13]+2850285829&4294967295,E=S+(P<<5&4294967295|P>>>27),P=D+(S^R&(E^S))+k[2]+4243563512&4294967295,D=E+(P<<9&4294967295|P>>>23),P=R+(E^S&(D^E))+k[7]+1735328473&4294967295,R=D+(P<<14&4294967295|P>>>18),P=S+(D^E&(R^D))+k[12]+2368359562&4294967295,S=R+(P<<20&4294967295|P>>>12),P=E+(S^R^D)+k[5]+4294588738&4294967295,E=S+(P<<4&4294967295|P>>>28),P=D+(E^S^R)+k[8]+2272392833&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^S)+k[11]+1839030562&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^E)+k[14]+4259657740&4294967295,S=R+(P<<23&4294967295|P>>>9),P=E+(S^R^D)+k[1]+2763975236&4294967295,E=S+(P<<4&4294967295|P>>>28),P=D+(E^S^R)+k[4]+1272893353&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^S)+k[7]+4139469664&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^E)+k[10]+3200236656&4294967295,S=R+(P<<23&4294967295|P>>>9),P=E+(S^R^D)+k[13]+681279174&4294967295,E=S+(P<<4&4294967295|P>>>28),P=D+(E^S^R)+k[0]+3936430074&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^S)+k[3]+3572445317&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^E)+k[6]+76029189&4294967295,S=R+(P<<23&4294967295|P>>>9),P=E+(S^R^D)+k[9]+3654602809&4294967295,E=S+(P<<4&4294967295|P>>>28),P=D+(E^S^R)+k[12]+3873151461&4294967295,D=E+(P<<11&4294967295|P>>>21),P=R+(D^E^S)+k[15]+530742520&4294967295,R=D+(P<<16&4294967295|P>>>16),P=S+(R^D^E)+k[2]+3299628645&4294967295,S=R+(P<<23&4294967295|P>>>9),P=E+(R^(S|~D))+k[0]+4096336452&4294967295,E=S+(P<<6&4294967295|P>>>26),P=D+(S^(E|~R))+k[7]+1126891415&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~S))+k[14]+2878612391&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~E))+k[5]+4237533241&4294967295,S=R+(P<<21&4294967295|P>>>11),P=E+(R^(S|~D))+k[12]+1700485571&4294967295,E=S+(P<<6&4294967295|P>>>26),P=D+(S^(E|~R))+k[3]+2399980690&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~S))+k[10]+4293915773&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~E))+k[1]+2240044497&4294967295,S=R+(P<<21&4294967295|P>>>11),P=E+(R^(S|~D))+k[8]+1873313359&4294967295,E=S+(P<<6&4294967295|P>>>26),P=D+(S^(E|~R))+k[15]+4264355552&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~S))+k[6]+2734768916&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~E))+k[13]+1309151649&4294967295,S=R+(P<<21&4294967295|P>>>11),P=E+(R^(S|~D))+k[4]+4149444226&4294967295,E=S+(P<<6&4294967295|P>>>26),P=D+(S^(E|~R))+k[11]+3174756917&4294967295,D=E+(P<<10&4294967295|P>>>22),P=R+(E^(D|~S))+k[2]+718787259&4294967295,R=D+(P<<15&4294967295|P>>>17),P=S+(D^(R|~E))+k[9]+3951481745&4294967295,b.g[0]=b.g[0]+E&4294967295,b.g[1]=b.g[1]+(R+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,E){E===void 0&&(E=b.length);const S=E-this.blockSize,k=this.C;let R=this.h,D=0;for(;D<E;){if(R==0)for(;D<=S;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<E;)if(k[R++]=b.charCodeAt(D++),R==this.blockSize){i(this,k),R=0;break}}else for(;D<E;)if(k[R++]=b[D++],R==this.blockSize){i(this,k),R=0;break}}this.h=R,this.o+=E},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var E=1;E<b.length-8;++E)b[E]=0;E=this.o*8;for(var S=b.length-8;S<b.length;++S)b[S]=E&255,E/=256;for(this.v(b),b=Array(16),E=0,S=0;S<4;++S)for(let k=0;k<32;k+=8)b[E++]=this.g[S]>>>k&255;return b};function s(b,E){var S=a;return Object.prototype.hasOwnProperty.call(S,b)?S[b]:S[b]=E(b)}function o(b,E){this.h=E;const S=[];let k=!0;for(let R=b.length-1;R>=0;R--){const D=b[R]|0;k&&D==E||(S[R]=D,k=!1)}this.g=S}var a={};function l(b){return-128<=b&&b<128?s(b,function(E){return new o([E|0],E<0?-1:0)}):new o([b|0],b<0?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(b<0)return x(u(-b));const E=[];let S=1;for(let k=0;b>=S;k++)E[k]=b/S|0,S*=4294967296;return new o(E,0)}function c(b,E){if(b.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(b.charAt(0)=="-")return x(c(b.substring(1),E));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=u(Math.pow(E,8));let k=d;for(let D=0;D<b.length;D+=8){var R=Math.min(8,b.length-D);const P=parseInt(b.substring(D,D+R),E);R<8?(R=u(Math.pow(E,R)),k=k.j(R).add(u(P))):(k=k.j(S),k=k.add(u(P)))}return k}var d=l(0),f=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(m(this))return-x(this).m();let b=0,E=1;for(let S=0;S<this.g.length;S++){const k=this.i(S);b+=(k>=0?k:4294967296+k)*E,E*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(_(this))return"0";if(m(this))return"-"+x(this).toString(b);const E=u(Math.pow(b,6));var S=this;let k="";for(;;){const R=A(S,E).g;S=v(S,R.j(E));let D=((S.g.length>0?S.g[0]:S.h)>>>0).toString(b);if(S=R,_(S))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function _(b){if(b.h!=0)return!1;for(let E=0;E<b.g.length;E++)if(b.g[E]!=0)return!1;return!0}function m(b){return b.h==-1}t.l=function(b){return b=v(this,b),m(b)?-1:_(b)?0:1};function x(b){const E=b.g.length,S=[];for(let k=0;k<E;k++)S[k]=~b.g[k];return new o(S,~b.h).add(f)}t.abs=function(){return m(this)?x(this):this},t.add=function(b){const E=Math.max(this.g.length,b.g.length),S=[];let k=0;for(let R=0;R<=E;R++){let D=k+(this.i(R)&65535)+(b.i(R)&65535),P=(D>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);k=P>>>16,D&=65535,P&=65535,S[R]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function v(b,E){return b.add(x(E))}t.j=function(b){if(_(this)||_(b))return d;if(m(this))return m(b)?x(this).j(x(b)):x(x(this).j(b));if(m(b))return x(this.j(x(b)));if(this.l(p)<0&&b.l(p)<0)return u(this.m()*b.m());const E=this.g.length+b.g.length,S=[];for(var k=0;k<2*E;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(let R=0;R<b.g.length;R++){const D=this.i(k)>>>16,P=this.i(k)&65535,J=b.i(R)>>>16,Q=b.i(R)&65535;S[2*k+2*R]+=P*Q,w(S,2*k+2*R),S[2*k+2*R+1]+=D*Q,w(S,2*k+2*R+1),S[2*k+2*R+1]+=P*J,w(S,2*k+2*R+1),S[2*k+2*R+2]+=D*J,w(S,2*k+2*R+2)}for(b=0;b<E;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=E;b<2*E;b++)S[b]=0;return new o(S,0)};function w(b,E){for(;(b[E]&65535)!=b[E];)b[E+1]+=b[E]>>>16,b[E]&=65535,E++}function T(b,E){this.g=b,this.h=E}function A(b,E){if(_(E))throw Error("division by zero");if(_(b))return new T(d,d);if(m(b))return E=A(x(b),E),new T(x(E.g),x(E.h));if(m(E))return E=A(b,x(E)),new T(x(E.g),E.h);if(b.g.length>30){if(m(b)||m(E))throw Error("slowDivide_ only works with positive integers.");for(var S=f,k=E;k.l(b)<=0;)S=C(S),k=C(k);var R=M(S,1),D=M(k,1);for(k=M(k,2),S=M(S,2);!_(k);){var P=D.add(k);P.l(b)<=0&&(R=R.add(S),D=P),k=M(k,1),S=M(S,1)}return E=v(b,R.j(E)),new T(R,E)}for(R=d;b.l(E)>=0;){for(S=Math.max(1,Math.floor(b.m()/E.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=u(S),P=D.j(E);m(P)||P.l(b)>0;)S-=k,D=u(S),P=D.j(E);_(D)&&(D=f),R=R.add(D),b=v(b,P)}return new T(R,b)}t.B=function(b){return A(this,b).h},t.and=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let k=0;k<E;k++)S[k]=this.i(k)&b.i(k);return new o(S,this.h&b.h)},t.or=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let k=0;k<E;k++)S[k]=this.i(k)|b.i(k);return new o(S,this.h|b.h)},t.xor=function(b){const E=Math.max(this.g.length,b.g.length),S=[];for(let k=0;k<E;k++)S[k]=this.i(k)^b.i(k);return new o(S,this.h^b.h)};function C(b){const E=b.g.length+1,S=[];for(let k=0;k<E;k++)S[k]=b.i(k)<<1|b.i(k-1)>>>31;return new o(S,b.h)}function M(b,E){const S=E>>5;E%=32;const k=b.g.length-S,R=[];for(let D=0;D<k;D++)R[D]=E>0?b.i(D+S)>>>E|b.i(D+S+1)<<32-E:b.i(D+S);return new o(R,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,vk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Li=o}).apply(typeof P1<"u"?P1:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wk,ml,xk,vh,vm,Ek,Tk,bk;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<h.length;++g){var y=h[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function i(h,g){if(g)e:{var y=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var L=h[I];if(!(L in y))break e;y=y[L]}h=h[h.length-1],I=y[h],g=g(I),g!=I&&g!=null&&e(y,h,{configurable:!0,writable:!0,value:g})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(g){var y=[],I;for(I in g)Object.prototype.hasOwnProperty.call(g,I)&&y.push([I,g[I]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function l(h,g,y){return h.call.apply(h.bind,arguments)}function u(h,g,y){return u=l,u.apply(null,arguments)}function c(h,g){var y=Array.prototype.slice.call(arguments,1);return function(){var I=y.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function d(h,g){function y(){}y.prototype=g.prototype,h.Z=g.prototype,h.prototype=new y,h.prototype.constructor=h,h.Ob=function(I,L,V){for(var B=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)B[ne-2]=arguments[ne];return g.prototype[L].apply(I,B)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const g=h.length;if(g>0){const y=Array(g);for(let I=0;I<g;I++)y[I]=h[I];return y}return[]}function _(h,g){for(let I=1;I<arguments.length;I++){const L=arguments[I];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=h.length||0;const V=L.length||0;h.length=y+V;for(let B=0;B<V;B++)h[y+B]=L[B]}else h.push(L)}}class m{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function x(h){o.setTimeout(()=>{throw h},0)}function v(){var h=b;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class w{constructor(){this.h=this.g=null}add(g,y){const I=T.get();I.set(g,y),this.h?this.h.next=I:this.g=I,this.h=I}}var T=new m(()=>new A,h=>h.reset());class A{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let C,M=!1,b=new w,E=()=>{const h=Promise.resolve(void 0);C=()=>{h.then(S)}};function S(){for(var h;h=v();){try{h.h.call(h.g)}catch(y){x(y)}var g=T;g.j(h),g.h<100&&(g.h++,h.next=g.g,g.g=h)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const y=()=>{};o.addEventListener("test",y,g),o.removeEventListener("test",y,g)}catch{}return h}();function P(h){return/^[\s\xa0]*$/.test(h)}function J(h,g){R.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,g)}d(J,R),J.prototype.init=function(h,g){const y=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget,g||(y=="mouseover"?g=h.fromElement:y=="mouseout"&&(g=h.toElement)),this.relatedTarget=g,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),ee=0;function ie(h,g,y,I,L){this.listener=h,this.proxy=null,this.src=g,this.type=y,this.capture=!!I,this.ha=L,this.key=++ee,this.da=this.fa=!1}function j(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function q(h,g,y){for(const I in h)g.call(y,h[I],I,h)}function K(h,g){for(const y in h)g.call(void 0,h[y],y,h)}function ce(h){const g={};for(const y in h)g[y]=h[y];return g}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(h,g){let y,I;for(let L=1;L<arguments.length;L++){I=arguments[L];for(y in I)h[y]=I[y];for(let V=0;V<oe.length;V++)y=oe[V],Object.prototype.hasOwnProperty.call(I,y)&&(h[y]=I[y])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,g,y,I,L){const V=h.toString();h=this.g[V],h||(h=this.g[V]=[],this.h++);const B=nt(h,g,I,L);return B>-1?(g=h[B],y||(g.fa=!1)):(g=new ie(g,this.src,V,!!I,L),g.fa=y,h.push(g)),g};function We(h,g){const y=g.type;if(y in h.g){var I=h.g[y],L=Array.prototype.indexOf.call(I,g,void 0),V;(V=L>=0)&&Array.prototype.splice.call(I,L,1),V&&(j(g),h.g[y].length==0&&(delete h.g[y],h.h--))}}function nt(h,g,y,I){for(let L=0;L<h.length;++L){const V=h[L];if(!V.da&&V.listener==g&&V.capture==!!y&&V.ha==I)return L}return-1}var Yr="closure_lm_"+(Math.random()*1e6|0),Cf={};function w0(h,g,y,I,L){if(Array.isArray(g)){for(let V=0;V<g.length;V++)w0(h,g[V],y,I,L);return null}return y=T0(y),h&&h[Q]?h.J(g,y,a(I)?!!I.capture:!1,L):QA(h,g,y,!1,I,L)}function QA(h,g,y,I,L,V){if(!g)throw Error("Invalid event type");const B=a(L)?!!L.capture:!!L;let ne=Pf(h);if(ne||(h[Yr]=ne=new me(h)),y=ne.add(g,y,I,B,V),y.proxy)return y;if(I=YA(),y.proxy=I,I.src=h,I.listener=y,h.addEventListener)D||(L=B),L===void 0&&(L=!1),h.addEventListener(g.toString(),I,L);else if(h.attachEvent)h.attachEvent(E0(g.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return y}function YA(){function h(y){return g.call(h.src,h.listener,y)}const g=XA;return h}function x0(h,g,y,I,L){if(Array.isArray(g))for(var V=0;V<g.length;V++)x0(h,g[V],y,I,L);else I=a(I)?!!I.capture:!!I,y=T0(y),h&&h[Q]?(h=h.i,V=String(g).toString(),V in h.g&&(g=h.g[V],y=nt(g,y,I,L),y>-1&&(j(g[y]),Array.prototype.splice.call(g,y,1),g.length==0&&(delete h.g[V],h.h--)))):h&&(h=Pf(h))&&(g=h.g[g.toString()],h=-1,g&&(h=nt(g,y,I,L)),(y=h>-1?g[h]:null)&&Af(y))}function Af(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[Q])We(g.i,h);else{var y=h.type,I=h.proxy;g.removeEventListener?g.removeEventListener(y,I,h.capture):g.detachEvent?g.detachEvent(E0(y),I):g.addListener&&g.removeListener&&g.removeListener(I),(y=Pf(g))?(We(y,h),y.h==0&&(y.src=null,g[Yr]=null)):j(h)}}}function E0(h){return h in Cf?Cf[h]:Cf[h]="on"+h}function XA(h,g){if(h.da)h=!0;else{g=new J(g,this);const y=h.listener,I=h.ha||h.src;h.fa&&Af(h),h=y.call(I,g)}return h}function Pf(h){return h=h[Yr],h instanceof me?h:null}var Rf="__closure_events_fn_"+(Math.random()*1e9>>>0);function T0(h){return typeof h=="function"?h:(h[Rf]||(h[Rf]=function(g){return h.handleEvent(g)}),h[Rf])}function Et(){k.call(this),this.i=new me(this),this.M=this,this.G=null}d(Et,k),Et.prototype[Q]=!0,Et.prototype.removeEventListener=function(h,g,y,I){x0(this,h,g,y,I)};function Vt(h,g){var y,I=h.G;if(I)for(y=[];I;I=I.G)y.push(I);if(h=h.M,I=g.type||g,typeof g=="string")g=new R(g,h);else if(g instanceof R)g.target=g.target||h;else{var L=g;g=new R(I,h),xt(g,L)}L=!0;let V,B;if(y)for(B=y.length-1;B>=0;B--)V=g.g=y[B],L=ec(V,I,!0,g)&&L;if(V=g.g=h,L=ec(V,I,!0,g)&&L,L=ec(V,I,!1,g)&&L,y)for(B=0;B<y.length;B++)V=g.g=y[B],L=ec(V,I,!1,g)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var h=this.i;for(const g in h.g){const y=h.g[g];for(let I=0;I<y.length;I++)j(y[I]);delete h.g[g],h.h--}}this.G=null},Et.prototype.J=function(h,g,y,I){return this.i.add(String(h),g,!1,y,I)},Et.prototype.K=function(h,g,y,I){return this.i.add(String(h),g,!0,y,I)};function ec(h,g,y,I){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();let L=!0;for(let V=0;V<g.length;++V){const B=g[V];if(B&&!B.da&&B.capture==y){const ne=B.listener,rt=B.ha||B.src;B.fa&&We(h.i,B),L=ne.call(rt,I)!==!1&&L}}return L&&!I.defaultPrevented}function JA(h,g){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=u(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(h,g||0)}function b0(h){h.g=JA(()=>{h.g=null,h.i&&(h.i=!1,b0(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class ZA extends k{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:b0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(h){k.call(this),this.h=h,this.g={}}d(Da,k);var S0=[];function I0(h){q(h.g,function(g,y){this.g.hasOwnProperty(y)&&Af(g)},h),h.g={}}Da.prototype.N=function(){Da.Z.N.call(this),I0(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=o.JSON.stringify,eP=o.JSON.parse,tP=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function k0(){}function C0(){}var Ma={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Mf(){R.call(this,"d")}d(Mf,R);function Nf(){R.call(this,"c")}d(Nf,R);var is={},A0=null;function tc(){return A0=A0||new Et}is.Ia="serverreachability";function P0(h){R.call(this,is.Ia,h)}d(P0,R);function Na(h){const g=tc();Vt(g,new P0(g))}is.STAT_EVENT="statevent";function R0(h,g){R.call(this,is.STAT_EVENT,h),this.stat=g}d(R0,R);function Ft(h){const g=tc();Vt(g,new R0(g,h))}is.Ja="timingevent";function D0(h,g){R.call(this,is.Ja,h),this.size=g}d(D0,R);function Oa(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},g)}function La(){this.g=!0}La.prototype.ua=function(){this.g=!1};function nP(h,g,y,I,L,V){h.info(function(){if(h.g)if(V){var B="",ne=V.split("&");for(let we=0;we<ne.length;we++){var rt=ne[we].split("=");if(rt.length>1){const lt=rt[0];rt=rt[1];const Yn=lt.split("_");B=Yn.length>=2&&Yn[1]=="type"?B+(lt+"="+rt+"&"):B+(lt+"=redacted&")}}}else B=null;else B=V;return"XMLHTTP REQ ("+I+") [attempt "+L+"]: "+g+`
`+y+`
`+B})}function rP(h,g,y,I,L,V,B){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+L+"]: "+g+`
`+y+`
`+V+" "+B})}function no(h,g,y,I){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+sP(h,y)+(I?" "+I:"")})}function iP(h,g){h.info(function(){return"TIMEOUT: "+g})}La.prototype.info=function(){};function sP(h,g){if(!h.g)return g;if(!g)return null;try{const V=JSON.parse(g);if(V){for(h=0;h<V.length;h++)if(Array.isArray(V[h])){var y=V[h];if(!(y.length<2)){var I=y[1];if(Array.isArray(I)&&!(I.length<1)){var L=I[0];if(L!="noop"&&L!="stop"&&L!="close")for(let B=1;B<I.length;B++)I[B]=""}}}}return Df(V)}catch{return g}}var nc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},N0;function Of(){}d(Of,k0),Of.prototype.g=function(){return new XMLHttpRequest},N0=new Of;function Va(h){return encodeURIComponent(String(h))}function oP(h){var g=1;h=h.split(":");const y=[];for(;g>0&&h.length;)y.push(h.shift()),g--;return h.length&&y.push(h.join(":")),y}function Xr(h,g,y,I){this.j=h,this.i=g,this.l=y,this.S=I||1,this.V=new Da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new O0}function O0(){this.i=null,this.g="",this.h=!1}var L0={},Lf={};function Vf(h,g,y){h.M=1,h.A=ic(Qn(g)),h.u=y,h.R=!0,V0(h,null)}function V0(h,g){h.F=Date.now(),rc(h),h.B=Qn(h.A);var y=h.B,I=h.S;Array.isArray(I)||(I=[String(I)]),Y0(y.i,"t",I),h.C=0,y=h.j.L,h.h=new O0,h.g=pv(h.j,y?g:null,!h.u),h.P>0&&(h.O=new ZA(u(h.Y,h,h.g),h.P)),g=h.V,y=h.g,I=h.ba;var L="readystatechange";Array.isArray(L)||(L&&(S0[0]=L.toString()),L=S0);for(let V=0;V<L.length;V++){const B=w0(y,L[V],I||g.handleEvent,!1,g.h||g);if(!B)break;g.g[B.key]=B}g=h.J?ce(h.J):{},h.u?(h.v||(h.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,g)):(h.v="GET",h.g.ea(h.B,h.v,null,g)),Na(),nP(h.i,h.v,h.B,h.l,h.S,h.u)}Xr.prototype.ba=function(h){h=h.target;const g=this.O;g&&ei(h)==3?g.j():this.Y(h)},Xr.prototype.Y=function(h){try{if(h==this.g)e:{const ne=ei(this.g),rt=this.g.ya(),we=this.g.ca();if(!(ne<3)&&(ne!=3||this.g&&(this.h.h||this.g.la()||rv(this.g)))){this.K||ne!=4||rt==7||(rt==8||we<=0?Na(3):Na(2)),Ff(this);var g=this.g.ca();this.X=g;var y=aP(this);if(this.o=g==200,rP(this.i,this.v,this.B,this.l,this.S,ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var I,L=this.g;if((I=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(I)){var V=I;break t}}V=null}if(h=V)no(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zf(this,h);else{this.o=!1,this.m=3,Ft(12),ss(this),Fa(this);break e}}if(this.R){h=!0;let lt;for(;!this.K&&this.C<y.length;)if(lt=lP(this,y),lt==Lf){ne==4&&(this.m=4,Ft(14),h=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==L0){this.m=4,Ft(15),no(this.i,this.l,y,"[Invalid Chunk]"),h=!1;break}else no(this.i,this.l,lt,null),zf(this,lt);if(F0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ne!=4||y.length!=0||this.h.h||(this.m=1,Ft(16),h=!1),this.o=this.o&&h,!h)no(this.i,this.l,y,"[Invalid Chunked Response]"),ss(this),Fa(this);else if(y.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Gf(B),B.P=!0,Ft(11))}}else no(this.i,this.l,y,null),zf(this,y);ne==4&&ss(this),this.o&&!this.K&&(ne==4?cv(this.j,this):(this.o=!1,rc(this)))}else EP(this.g),g==400&&y.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),ss(this),Fa(this)}}}catch{}finally{}};function aP(h){if(!F0(h))return h.g.la();const g=rv(h.g);if(g==="")return"";let y="";const I=g.length,L=ei(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return ss(h),Fa(h),"";h.h.i=new o.TextDecoder}for(let V=0;V<I;V++)h.h.h=!0,y+=h.h.i.decode(g[V],{stream:!(L&&V==I-1)});return g.length=0,h.h.g+=y,h.C=0,h.h.g}function F0(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function lP(h,g){var y=h.C,I=g.indexOf(`
`,y);return I==-1?Lf:(y=Number(g.substring(y,I)),isNaN(y)?L0:(I+=1,I+y>g.length?Lf:(g=g.slice(I,I+y),h.C=I+y,g)))}Xr.prototype.cancel=function(){this.K=!0,ss(this)};function rc(h){h.T=Date.now()+h.H,z0(h,h.H)}function z0(h,g){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Oa(u(h.aa,h),g)}function Ff(h){h.D&&(o.clearTimeout(h.D),h.D=null)}Xr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(iP(this.i,this.B),this.M!=2&&(Na(),Ft(17)),ss(this),this.m=2,Fa(this)):z0(this,this.T-h)};function Fa(h){h.j.I==0||h.K||cv(h.j,h)}function ss(h){Ff(h);var g=h.O;g&&typeof g.dispose=="function"&&g.dispose(),h.O=null,I0(h.V),h.g&&(g=h.g,h.g=null,g.abort(),g.dispose())}function zf(h,g){try{var y=h.j;if(y.I!=0&&(y.g==h||Uf(y.h,h))){if(!h.L&&Uf(y.h,h)&&y.I==3){try{var I=y.Ba.g.parse(g)}catch{I=null}if(Array.isArray(I)&&I.length==3){var L=I;if(L[0]==0){e:if(!y.v){if(y.g)if(y.g.F+3e3<h.F)uc(y),ac(y);else break e;qf(y),Ft(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Oa(u(y.Va,y),6e3));B0(y.h)<=1&&y.ta&&(y.ta=void 0)}else as(y,11)}else if((h.L||y.g==h)&&uc(y),!P(g))for(L=y.Ba.g.parse(g),g=0;g<L.length;g++){let we=L[g];const lt=we[0];if(!(lt<=y.K))if(y.K=lt,we=we[1],y.I==2)if(we[0]=="c"){y.M=we[1],y.ba=we[2];const Yn=we[3];Yn!=null&&(y.ka=Yn,y.j.info("VER="+y.ka));const ls=we[4];ls!=null&&(y.za=ls,y.j.info("SVER="+y.za));const ti=we[5];ti!=null&&typeof ti=="number"&&ti>0&&(I=1.5*ti,y.O=I,y.j.info("backChannelRequestTimeoutMs_="+I)),I=y;const ni=h.g;if(ni){const hc=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hc){var V=I.h;V.g||hc.indexOf("spdy")==-1&&hc.indexOf("quic")==-1&&hc.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(jf(V,V.h),V.h=null))}if(I.G){const Kf=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Kf&&(I.wa=Kf,Ie(I.J,I.G,Kf))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-h.F,y.j.info("Handshake RTT: "+y.T+"ms")),I=y;var B=h;if(I.na=fv(I,I.L?I.ba:null,I.W),B.L){$0(I.h,B);var ne=B,rt=I.O;rt&&(ne.H=rt),ne.D&&(Ff(ne),rc(ne)),I.g=B}else lv(I);y.i.length>0&&lc(y)}else we[0]!="stop"&&we[0]!="close"||as(y,7);else y.I==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?as(y,7):Wf(y):we[0]!="noop"&&y.l&&y.l.qa(we),y.A=0)}}Na(4)}catch{}}var uP=class{constructor(h,g){this.g=h,this.map=g}};function U0(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function j0(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function B0(h){return h.h?1:h.g?h.g.size:0}function Uf(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function jf(h,g){h.g?h.g.add(g):h.h=g}function $0(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}U0.prototype.cancel=function(){if(this.i=H0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function H0(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const y of h.g.values())g=g.concat(y.G);return g}return p(h.i)}var W0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cP(h,g){if(h){h=h.split("&");for(let y=0;y<h.length;y++){const I=h[y].indexOf("=");let L,V=null;I>=0?(L=h[y].substring(0,I),V=h[y].substring(I+1)):L=h[y],g(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Jr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;h instanceof Jr?(this.l=h.l,za(this,h.j),this.o=h.o,this.g=h.g,Ua(this,h.u),this.h=h.h,Bf(this,X0(h.i)),this.m=h.m):h&&(g=String(h).match(W0))?(this.l=!1,za(this,g[1]||"",!0),this.o=ja(g[2]||""),this.g=ja(g[3]||"",!0),Ua(this,g[4]),this.h=ja(g[5]||"",!0),Bf(this,g[6]||"",!0),this.m=ja(g[7]||"")):(this.l=!1,this.i=new $a(null,this.l))}Jr.prototype.toString=function(){const h=[];var g=this.j;g&&h.push(Ba(g,q0,!0),":");var y=this.g;return(y||g=="file")&&(h.push("//"),(g=this.o)&&h.push(Ba(g,q0,!0),"@"),h.push(Va(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&h.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&h.push("/"),h.push(Ba(y,y.charAt(0)=="/"?fP:dP,!0))),(y=this.i.toString())&&h.push("?",y),(y=this.m)&&h.push("#",Ba(y,gP)),h.join("")},Jr.prototype.resolve=function(h){const g=Qn(this);let y=!!h.j;y?za(g,h.j):y=!!h.o,y?g.o=h.o:y=!!h.g,y?g.g=h.g:y=h.u!=null;var I=h.h;if(y)Ua(g,h.u);else if(y=!!h.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var L=g.h.lastIndexOf("/");L!=-1&&(I=g.h.slice(0,L+1)+I)}if(L=I,L==".."||L==".")I="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){I=L.lastIndexOf("/",0)==0,L=L.split("/");const V=[];for(let B=0;B<L.length;){const ne=L[B++];ne=="."?I&&B==L.length&&V.push(""):ne==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),I&&B==L.length&&V.push("")):(V.push(ne),I=!0)}I=V.join("/")}else I=L}return y?g.h=I:y=h.i.toString()!=="",y?Bf(g,X0(h.i)):y=!!h.m,y&&(g.m=h.m),g};function Qn(h){return new Jr(h)}function za(h,g,y){h.j=y?ja(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function Ua(h,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);h.u=g}else h.u=null}function Bf(h,g,y){g instanceof $a?(h.i=g,mP(h.i,h.l)):(y||(g=Ba(g,pP)),h.i=new $a(g,h.l))}function Ie(h,g,y){h.i.set(g,y)}function ic(h){return Ie(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ja(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ba(h,g,y){return typeof h=="string"?(h=encodeURI(h).replace(g,hP),y&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hP(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var q0=/[#\/\?@]/g,dP=/[#\?:]/g,fP=/[#\?]/g,pP=/[#\?@]/g,gP=/#/g;function $a(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function os(h){h.g||(h.g=new Map,h.h=0,h.i&&cP(h.i,function(g,y){h.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=$a.prototype,t.add=function(h,g){os(this),this.i=null,h=ro(this,h);let y=this.g.get(h);return y||this.g.set(h,y=[]),y.push(g),this.h+=1,this};function G0(h,g){os(h),g=ro(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function K0(h,g){return os(h),g=ro(h,g),h.g.has(g)}t.forEach=function(h,g){os(this),this.g.forEach(function(y,I){y.forEach(function(L){h.call(g,L,I,this)},this)},this)};function Q0(h,g){os(h);let y=[];if(typeof g=="string")K0(h,g)&&(y=y.concat(h.g.get(ro(h,g))));else for(h=Array.from(h.g.values()),g=0;g<h.length;g++)y=y.concat(h[g]);return y}t.set=function(h,g){return os(this),this.i=null,h=ro(this,h),K0(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},t.get=function(h,g){return h?(h=Q0(this,h),h.length>0?String(h[0]):g):g};function Y0(h,g,y){G0(h,g),y.length>0&&(h.i=null,h.g.set(ro(h,g),p(y)),h.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(let I=0;I<g.length;I++){var y=g[I];const L=Va(y);y=Q0(this,y);for(let V=0;V<y.length;V++){let B=L;y[V]!==""&&(B+="="+Va(y[V])),h.push(B)}}return this.i=h.join("&")};function X0(h){const g=new $a;return g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),g}function ro(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function mP(h,g){g&&!h.j&&(os(h),h.i=null,h.g.forEach(function(y,I){const L=I.toLowerCase();I!=L&&(G0(this,I),Y0(this,L,y))},h)),h.j=g}function _P(h,g){const y=new La;if(o.Image){const I=new Image;I.onload=c(Zr,y,"TestLoadImage: loaded",!0,g,I),I.onerror=c(Zr,y,"TestLoadImage: error",!1,g,I),I.onabort=c(Zr,y,"TestLoadImage: abort",!1,g,I),I.ontimeout=c(Zr,y,"TestLoadImage: timeout",!1,g,I),o.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else g(!1)}function yP(h,g){const y=new La,I=new AbortController,L=setTimeout(()=>{I.abort(),Zr(y,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:I.signal}).then(V=>{clearTimeout(L),V.ok?Zr(y,"TestPingServer: ok",!0,g):Zr(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(L),Zr(y,"TestPingServer: error",!1,g)})}function Zr(h,g,y,I,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),I(y)}catch{}}function vP(){this.g=new tP}function $f(h){this.i=h.Sb||null,this.h=h.ab||!1}d($f,k0),$f.prototype.g=function(){return new sc(this.i,this.h)};function sc(h,g){Et.call(this),this.H=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(sc,Et),t=sc.prototype,t.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=g,this.readyState=1,Wa(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(g.body=h),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Wa(this)),this.g&&(this.readyState=3,Wa(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;J0(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function J0(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?Ha(this):Wa(this),this.readyState==3&&J0(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,Ha(this))},t.Na=function(h){this.g&&(this.response=h,Ha(this))},t.ga=function(){this.g&&Ha(this)};function Ha(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Wa(h)}t.setRequestHeader=function(h,g){this.A.append(h,g)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,h.push(y[0]+": "+y[1]),y=g.next();return h.join(`\r
`)};function Wa(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(sc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Z0(h){let g="";return q(h,function(y,I){g+=I,g+=":",g+=y,g+=`\r
`}),g}function Hf(h,g,y){e:{for(I in y){var I=!1;break e}I=!0}I||(y=Z0(y),typeof h=="string"?y!=null&&Va(y):Ie(h,g,y))}function Be(h){Et.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}d(Be,Et);var wP=/^https?$/i,xP=["POST","PUT"];t=Be.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,g,y,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():N0.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch(V){ev(this,V);return}if(h=y||"",y=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var L in I)y.set(L,I[L]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const V of I.keys())y.set(V,I.get(V));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(y.keys()).find(V=>V.toLowerCase()=="content-type"),L=o.FormData&&h instanceof o.FormData,!(Array.prototype.indexOf.call(xP,g,void 0)>=0)||I||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of y)this.g.setRequestHeader(V,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(V){ev(this,V)}};function ev(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.o=5,tv(h),oc(h)}function tv(h){h.A||(h.A=!0,Vt(h,"complete"),Vt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Vt(this,"complete"),Vt(this,"abort"),oc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oc(this,!0)),Be.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?nv(this):this.Xa())},t.Xa=function(){nv(this)};function nv(h){if(h.h&&typeof s<"u"){if(h.v&&ei(h)==4)setTimeout(h.Ca.bind(h),0);else if(Vt(h,"readystatechange"),ei(h)==4){h.h=!1;try{const V=h.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var I;if(I=V===0){let B=String(h.D).match(W0)[1]||null;!B&&o.self&&o.self.location&&(B=o.self.location.protocol.slice(0,-1)),I=!wP.test(B?B.toLowerCase():"")}y=I}if(y)Vt(h,"complete"),Vt(h,"success");else{h.o=6;try{var L=ei(h)>2?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.ca()+"]",tv(h)}}finally{oc(h)}}}}function oc(h,g){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const y=h.g;h.g=null,g||Vt(h,"ready");try{y.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ei(h){return h.g?h.g.readyState:0}t.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),eP(g)}};function rv(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function EP(h){const g={};h=(h.g&&ei(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(P(h[I]))continue;var y=oP(h[I]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const V=g[L]||[];g[L]=V,V.push(y)}K(g,function(I){return I.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(h,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[h]||g}function iv(h){this.za=0,this.i=[],this.j=new La,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=qa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=qa("baseRetryDelayMs",5e3,h),this.Za=qa("retryDelaySeedMs",1e4,h),this.Ta=qa("forwardChannelMaxRetries",2,h),this.va=qa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new U0(h&&h.concurrentRequestLimit),this.Ba=new vP,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=iv.prototype,t.ka=8,t.I=1,t.connect=function(h,g,y,I){Ft(0),this.W=h,this.H=g||{},y&&I!==void 0&&(this.H.OSID=y,this.H.OAID=I),this.F=this.X,this.J=fv(this,null,this.W),lc(this)};function Wf(h){if(sv(h),h.I==3){var g=h.V++,y=Qn(h.J);if(Ie(y,"SID",h.M),Ie(y,"RID",g),Ie(y,"TYPE","terminate"),Ga(h,y),g=new Xr(h,h.j,g),g.M=2,g.A=ic(Qn(y)),y=!1,o.navigator&&o.navigator.sendBeacon)try{y=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!y&&o.Image&&(new Image().src=g.A,y=!0),y||(g.g=pv(g.j,null),g.g.ea(g.A)),g.F=Date.now(),rc(g)}dv(h)}function ac(h){h.g&&(Gf(h),h.g.cancel(),h.g=null)}function sv(h){ac(h),h.v&&(o.clearTimeout(h.v),h.v=null),uc(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&o.clearTimeout(h.m),h.m=null)}function lc(h){if(!j0(h.h)&&!h.m){h.m=!0;var g=h.Ea;C||E(),M||(C(),M=!0),b.add(g,h),h.D=0}}function TP(h,g){return B0(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=g.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Oa(u(h.Ea,h,g),hv(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const L=new Xr(this,this.j,h);let V=this.o;if(this.U&&(V?(V=ce(V),xt(V,this.U)):V=this.U),this.u!==null||this.R||(L.J=V,V=null),this.S)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var I=this.i[y];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(g+=I,g>4096){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=av(this,L,g),y=Qn(this.J),Ie(y,"RID",h),Ie(y,"CVER",22),this.G&&Ie(y,"X-HTTP-Session-Id",this.G),Ga(this,y),V&&(this.R?g="headers="+Va(Z0(V))+"&"+g:this.u&&Hf(y,this.u,V)),jf(this.h,L),this.Ra&&Ie(y,"TYPE","init"),this.S?(Ie(y,"$req",g),Ie(y,"SID","null"),L.U=!0,Vf(L,y,null)):Vf(L,y,g),this.I=2}}else this.I==3&&(h?ov(this,h):this.i.length==0||j0(this.h)||ov(this))};function ov(h,g){var y;g?y=g.l:y=h.V++;const I=Qn(h.J);Ie(I,"SID",h.M),Ie(I,"RID",y),Ie(I,"AID",h.K),Ga(h,I),h.u&&h.o&&Hf(I,h.u,h.o),y=new Xr(h,h.j,y,h.D+1),h.u===null&&(y.J=h.o),g&&(h.i=g.G.concat(h.i)),g=av(h,y,1e3),y.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),jf(h.h,y),Vf(y,I,g)}function Ga(h,g){h.H&&q(h.H,function(y,I){Ie(g,I,y)}),h.l&&q({},function(y,I){Ie(g,I,y)})}function av(h,g,y){y=Math.min(h.i.length,y);const I=h.l?u(h.l.Ka,h.l,h):null;e:{var L=h.i;let ne=-1;for(;;){const rt=["count="+y];ne==-1?y>0?(ne=L[0].g,rt.push("ofs="+ne)):ne=0:rt.push("ofs="+ne);let we=!0;for(let lt=0;lt<y;lt++){var V=L[lt].g;const Yn=L[lt].map;if(V-=ne,V<0)ne=Math.max(0,L[lt].g-100),we=!1;else try{V="req"+V+"_"||"";try{var B=Yn instanceof Map?Yn:Object.entries(Yn);for(const[ls,ti]of B){let ni=ti;a(ti)&&(ni=Df(ti)),rt.push(V+ls+"="+encodeURIComponent(ni))}}catch(ls){throw rt.push(V+"type="+encodeURIComponent("_badmap")),ls}}catch{I&&I(Yn)}}if(we){B=rt.join("&");break e}}B=void 0}return h=h.i.splice(0,y),g.G=h,B}function lv(h){if(!h.g&&!h.v){h.Y=1;var g=h.Da;C||E(),M||(C(),M=!0),b.add(g,h),h.A=0}}function qf(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Oa(u(h.Da,h),hv(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,uv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Oa(u(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),ac(this),uv(this))};function Gf(h){h.B!=null&&(o.clearTimeout(h.B),h.B=null)}function uv(h){h.g=new Xr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var g=Qn(h.na);Ie(g,"RID","rpc"),Ie(g,"SID",h.M),Ie(g,"AID",h.K),Ie(g,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ie(g,"TO",h.ia),Ie(g,"TYPE","xmlhttp"),Ga(h,g),h.u&&h.o&&Hf(g,h.u,h.o),h.O&&(h.g.H=h.O);var y=h.g;h=h.ba,y.M=1,y.A=ic(Qn(g)),y.u=null,y.R=!0,V0(y,h)}t.Va=function(){this.C!=null&&(this.C=null,ac(this),qf(this),Ft(19))};function uc(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function cv(h,g){var y=null;if(h.g==g){uc(h),Gf(h),h.g=null;var I=2}else if(Uf(h.h,g))y=g.G,$0(h.h,g),I=1;else return;if(h.I!=0){if(g.o)if(I==1){y=g.u?g.u.length:0,g=Date.now()-g.F;var L=h.D;I=tc(),Vt(I,new D0(I,y)),lc(h)}else lv(h);else if(L=g.m,L==3||L==0&&g.X>0||!(I==1&&TP(h,g)||I==2&&qf(h)))switch(y&&y.length>0&&(g=h.h,g.i=g.i.concat(y)),L){case 1:as(h,5);break;case 4:as(h,10);break;case 3:as(h,6);break;default:as(h,2)}}}function hv(h,g){let y=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(y*=2),y*g}function as(h,g){if(h.j.info("Error code "+g),g==2){var y=u(h.bb,h),I=h.Ua;const L=!I;I=new Jr(I||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||za(I,"https"),ic(I),L?_P(I.toString(),y):yP(I.toString(),y)}else Ft(2);h.I=0,h.l&&h.l.pa(g),dv(h),sv(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function dv(h){if(h.I=0,h.ja=[],h.l){const g=H0(h.h);(g.length!=0||h.i.length!=0)&&(_(h.ja,g),_(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function fv(h,g,y){var I=y instanceof Jr?Qn(y):new Jr(y);if(I.g!="")g&&(I.g=g+"."+I.g),Ua(I,I.u);else{var L=o.location;I=L.protocol,g=g?g+"."+L.hostname:L.hostname,L=+L.port;const V=new Jr(null);I&&za(V,I),g&&(V.g=g),L&&Ua(V,L),y&&(V.h=y),I=V}return y=h.G,g=h.wa,y&&g&&Ie(I,y,g),Ie(I,"VER",h.ka),Ga(h,I),I}function pv(h,g,y){if(g&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Aa&&!h.ma?new Be(new $f({ab:y})):new Be(h.ma),g.Fa(h.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function cc(){}cc.prototype.g=function(h,g){return new on(h,g)};function on(h,g){Et.call(this),this.g=new iv(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(h?h["X-WebChannel-Client-Profile"]=g.sa:h={"X-WebChannel-Client-Profile":g.sa}),this.g.U=h,(h=g&&g.Qb)&&!P(h)&&(this.g.u=h),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.G=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new io(this)}d(on,Et),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Wf(this.g)},on.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var y={};y.__data__=h,h=y}else this.v&&(y={},y.__data__=Df(h),h=y);g.i.push(new uP(g.Ya++,h)),g.I==3&&lc(g)},on.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,on.Z.N.call(this)};function mv(h){Mf.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){e:{for(const y in g){h=y;break e}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}d(mv,Mf);function _v(){Nf.call(this),this.status=1}d(_v,Nf);function io(h){this.g=h}d(io,gv),io.prototype.ra=function(){Vt(this.g,"a")},io.prototype.qa=function(h){Vt(this.g,new mv(h))},io.prototype.pa=function(h){Vt(this.g,new _v)},io.prototype.oa=function(){Vt(this.g,"b")},cc.prototype.createWebChannel=cc.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,bk=function(){return new cc},Tk=function(){return tc()},Ek=is,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},nc.NO_ERROR=0,nc.TIMEOUT=8,nc.HTTP_ERROR=6,vh=nc,M0.COMPLETE="complete",xk=M0,C0.EventType=Ma,Ma.OPEN="a",Ma.CLOSE="b",Ma.ERROR="c",Ma.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ml=C0,Be.prototype.listenOnce=Be.prototype.K,Be.prototype.getLastError=Be.prototype.Ha,Be.prototype.getLastErrorCode=Be.prototype.ya,Be.prototype.getStatus=Be.prototype.ca,Be.prototype.getResponseJson=Be.prototype.La,Be.prototype.getResponseText=Be.prototype.la,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Fa,wk=Be}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia="12.8.0";function AF(t){Ia=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new gy("@firebase/firestore");function lo(){return Hs.logLevel}function H(t,...e){if(Hs.logLevel<=ae.DEBUG){const n=e.map(ky);Hs.debug(`Firestore (${Ia}): ${t}`,...n)}}function Wr(t,...e){if(Hs.logLevel<=ae.ERROR){const n=e.map(ky);Hs.error(`Firestore (${Ia}): ${t}`,...n)}}function aa(t,...e){if(Hs.logLevel<=ae.WARN){const n=e.map(ky);Hs.warn(`Firestore (${Ia}): ${t}`,...n)}}function ky(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Sk(t,r,n)}function Sk(t,e,n){let r=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Wr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Sk(e,i,r)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Qr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class RF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DF{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Vi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Vi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new Ik(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class MF{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class NF{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new MF(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OF{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ar(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new R1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new R1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=LF(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function wm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return zp(i)===zp(s)?le(i,s):zp(i)?1:-1}return le(t.length,e.length)}const VF=55296,FF=57343;function zp(t){const e=t.charCodeAt(0);return e>=VF&&e<=FF}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__name__";class rr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=rr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return le(e.length,n.length)}static compareSegments(e,n){const r=rr.isNumericId(e),i=rr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?rr.extractNumericId(e).compare(rr.extractNumericId(n)):wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Li.fromString(e.substring(4,e.length-2))}}class Te extends rr{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const zF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends rr{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return zF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D1}static keyField(){return new mt([D1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new $(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Te.fromString(e))}static fromName(e){return new G(Te.fromString(e).popFirst(5))}static empty(){return new G(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Te(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e,n){if(!n)throw new $(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UF(t,e,n,r){if(e===!0&&r===!0)throw new $(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N1(t){if(G.isDocumentKey(t))throw new $(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ck(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function of(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=of(t);throw new $(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gu(t,e){if(!Ck(t))throw new $(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=-62135596800,L1=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*L1);return new Ae(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O1)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L1}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:tt("string",Ae._jsonSchemaVersion),seconds:tt("number"),nanoseconds:tt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Ae(0,0))}static max(){return new Z(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu=-1;function jF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Wi(i,G.empty(),e)}function BF(t){return new Wi(t.readTime,t.key,wu)}class Wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Wi(Z.min(),G.empty(),wu)}static max(){return new Wi(Z.max(),G.empty(),wu)}}function $F(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ka(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==HF)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new z((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new z((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function qF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function lf(t){return t==null}function gd(t){return t===0&&1/t==-1/0}function GF(t){return typeof t=="number"&&Number.isInteger(t)&&!gd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="";function KF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=V1(e)),e=QF(t.get(n),e);return V1(e)}function QF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Ak:n+="";break;default:n+=s}}return n}function V1(t){return t+Ak+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||gt.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gt.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gt.RED,this.left=i??gt.EMPTY,this.right=s??gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new gt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}gt.EMPTY=null,gt.RED=!0,gt.BLACK=!1;gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof at)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new at(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new at(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Rk("Invalid base64 string: "+s):s}}(e);return new wt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wt.EMPTY_BYTE_STRING=new wt("");const YF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qi(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=YF.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?wt.fromBase64String(t):wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="server_timestamp",Mk="__type__",Nk="__previous_value__",Ok="__local_write_time__";function Py(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Mk])==null?void 0:r.stringValue)===Dk}function uf(t){const e=t.mapValue.fields[Nk];return Py(e)?uf(e):e}function xu(t){const e=qi(t.mapValue.fields[Ok].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,r,i,s,o,a,l,u,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c,this.apiKey=d}}const md="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||md}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}function JF(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk="__type__",ZF="__max__",Oc={mapValue:{}},Vk="__vector__",_d="value";function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Py(t)?4:t3(t)?9007199254740991:e3(t)?10:11:Y(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xu(t).isEqual(xu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=qi(i.timestampValue),a=qi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?gd(o)===gd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(F1(o)!==F1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!yr(o[l],a[l])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Tu(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function ua(t,e){if(t===e)return 0;const n=Ki(t),r=Ki(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U1(t.timestampValue,e.timestampValue);case 4:return U1(xu(t),xu(e));case 5:return wm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gi(s),l=Gi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=le(a[u],l[u]);if(c!==0)return c}return le(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=le(Ge(s.latitude),Ge(o.latitude));return a!==0?a:le(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return j1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var f,p,_,m;const a=s.fields||{},l=o.fields||{},u=(f=a[_d])==null?void 0:f.arrayValue,c=(p=l[_d])==null?void 0:p.arrayValue,d=le(((_=u==null?void 0:u.values)==null?void 0:_.length)||0,((m=c==null?void 0:c.values)==null?void 0:m.length)||0);return d!==0?d:j1(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Oc.mapValue&&o===Oc.mapValue)return 0;if(s===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=wm(l[d],c[d]);if(f!==0)return f;const p=ua(a[l[d]],u[c[d]]);if(p!==0)return p}return le(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function U1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=qi(t),r=qi(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function j1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ua(n[i],r[i]);if(s)return s}return le(n.length,r.length)}function ca(t){return xm(t)}function xm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=qi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=xm(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xm(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function wh(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+wh(e):16;case 5:return 2*t.stringValue.length;case 6:return Gi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+wh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ns(r.fields,(s,o)=>{i+=s.length+wh(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function B1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Em(t){return!!t&&"integerValue"in t}function Ry(t){return!!t&&"arrayValue"in t}function $1(t){return!!t&&"nullValue"in t}function H1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xh(t){return!!t&&"mapValue"in t}function e3(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Lk])==null?void 0:r.stringValue)===Vk}function Vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return{...t}}function t3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.value=e}static empty(){return new Kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());xh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Kt(Vl(this.value))}}function Fk(t){const e=[];return ns(t.fields,(n,r)=>{const i=new mt([n]);if(xh(r)){const s=Fk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,Z.min(),Z.min(),Z.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new At(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new At(e,2,n,Z.min(),Z.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new At(e,3,n,Z.min(),Z.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n){this.position=e,this.inclusive=n}}function W1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=ua(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function q1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function n3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{}class et extends zk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i3(e,n,r):n==="array-contains"?new a3(e,r):n==="in"?new l3(e,r):n==="not-in"?new u3(e,r):n==="array-contains-any"?new c3(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new s3(e,r):new o3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ua(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(ua(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends zk{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return Uk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Uk(t){return t.op==="and"}function jk(t){return r3(t)&&Uk(t)}function r3(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function Tm(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(jk(t))return t.filters.map(e=>Tm(e)).join(",");{const e=t.filters.map(n=>Tm(n)).join(",");return`${t.op}(${e})`}}function Bk(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Bk(o,i.filters[a]),!0):!1}(t,e):void Y(19439)}function $k(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map($k).join(" ,")+"}"}(t):"Filter"}class i3 extends et{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class s3 extends et{constructor(e,n){super(e,"in",n),this.keys=Hk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class o3 extends et{constructor(e,n){super(e,"not-in",n),this.keys=Hk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hk(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class a3 extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ry(n)&&Tu(n.arrayValue,this.value)}}class l3 extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class u3 extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class c3 extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function G1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new h3(t,e,n,r,i,s,o)}function Dy(t){const e=te(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.Te=n}return e.Te}function My(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!n3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q1(t.startAt,e.startAt)&&q1(t.endAt,e.endAt)}function bm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function d3(t,e,n,r,i,s,o,a){return new Aa(t,e,n,r,i,s,o,a)}function cf(t){return new Aa(t)}function K1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Wk(t){return t.collectionGroup!==null}function Fl(t){const e=te(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new bu(s,r))}),n.has(mt.keyField().canonicalString())||e.Ie.push(new bu(mt.keyField(),r))}return e.Ie}function fr(t){const e=te(t);return e.Ee||(e.Ee=p3(e,Fl(t))),e.Ee}function p3(t,e){if(t.limitType==="F")return G1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bu(i.field,s)});const n=t.endAt?new yd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yd(t.startAt.position,t.startAt.inclusive):null;return G1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sm(t,e){const n=t.filters.concat([e]);return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function g3(t,e){const n=t.explicitOrderBy.concat([e]);return new Aa(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Im(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hf(t,e){return My(fr(t),fr(e))&&t.limitType===e.limitType}function qk(t){return`${Dy(fr(t))}|lt:${t.limitType}`}function uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>$k(i)).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ca(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ca(i)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function df(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Fl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=W1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Fl(r),i)||r.endAt&&!function(o,a,l){const u=W1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Fl(r),i))}(t,e)}function m3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gk(t){return(e,n)=>{let r=!1;for(const i of Fl(t)){const s=_3(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _3(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ua(l,u):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Pk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Ue(G.comparator);function qr(){return y3}const Kk=new Ue(G.comparator);function _l(...t){let e=Kk;for(const n of t)e=e.insert(n.key,n);return e}function Qk(t){let e=Kk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function bs(){return zl()}function Yk(){return zl()}function zl(){return new Js(t=>t.toString(),(t,e)=>t.isEqual(e))}const v3=new Ue(G.comparator),w3=new at(G.comparator);function ue(...t){let e=w3;for(const n of t)e=e.add(n);return e}const x3=new at(le);function E3(){return x3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(e)?"-0":e}}function Xk(t){return{integerValue:""+t}}function T3(t,e){return GF(e)?Xk(e):Ny(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function b3(t,e,n){return t instanceof vd?function(i,s){const o={fields:{[Mk]:{stringValue:Dk},[Ok]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Py(s)&&(s=uf(s)),s&&(o.fields[Nk]=s),{mapValue:o}}(n,e):t instanceof Su?Zk(t,e):t instanceof Iu?eC(t,e):function(i,s){const o=Jk(i,s),a=Q1(o)+Q1(i.Ae);return Em(o)&&Em(i.Ae)?Xk(a):Ny(i.serializer,a)}(t,e)}function S3(t,e,n){return t instanceof Su?Zk(t,e):t instanceof Iu?eC(t,e):n}function Jk(t,e){return t instanceof wd?function(r){return Em(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class vd extends ff{}class Su extends ff{constructor(e){super(),this.elements=e}}function Zk(t,e){const n=tC(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Iu extends ff{constructor(e){super(),this.elements=e}}function eC(t,e){let n=tC(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class wd extends ff{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Q1(t){return Ge(t.integerValue||t.doubleValue)}function tC(t){return Ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function I3(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Su&&i instanceof Su||r instanceof Iu&&i instanceof Iu?la(r.elements,i.elements,yr):r instanceof wd&&i instanceof wd?yr(r.Ae,i.Ae):r instanceof vd&&i instanceof vd}(t.transform,e.transform)}class k3{constructor(e,n){this.version=e,this.transformResults=n}}class pr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class pf{}function nC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new iC(t.key,pr.none()):new Ku(t.key,t.data,pr.none());{const n=t.data,r=Kt.empty();let i=new at(mt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new rs(t.key,r,new fn(i.toArray()),pr.none())}}function C3(t,e,n){t instanceof Ku?function(i,s,o){const a=i.value.clone(),l=X1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(i,s,o){if(!Eh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=X1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(rC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof Ku?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const u=s.value.clone(),c=J1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof rs?function(s,o,a,l){if(!Eh(s.precondition,o))return a;const u=J1(s.fieldTransforms,l,o),c=o.data;return c.setAll(rC(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Eh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function A3(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Jk(r.transform,i||null);s!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,s))}return n||null}function Y1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(s,o)=>I3(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ku extends pf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class rs extends pf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function X1(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,S3(o,a,n[i]))}return r}function J1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,b3(s,o,e))}return r}class iC extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P3 extends pf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&C3(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>Y1(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>Y1(n,r))}}class Oy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return v3}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Oy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,fe;function N3(t){switch(t){case F.OK:return Y(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function sC(t){if(t===void 0)return Wr("GRPC error has no .code"),F.UNKNOWN;switch(t){case Xe.OK:return F.OK;case Xe.CANCELLED:return F.CANCELLED;case Xe.UNKNOWN:return F.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return F.INTERNAL;case Xe.UNAVAILABLE:return F.UNAVAILABLE;case Xe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Xe.NOT_FOUND:return F.NOT_FOUND;case Xe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Xe.ABORTED:return F.ABORTED;case Xe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Xe.DATA_LOSS:return F.DATA_LOSS;default:return Y(39323,{code:t})}}(fe=Xe||(Xe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Li([4294967295,4294967295],0);function Z1(t){const e=O3().encode(t),n=new vk;return n.update(e),new Uint8Array(n.digest())}function ex(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Li([n,r],0),new Li([i,s],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(r<0)throw new yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Li.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Li.fromNumber(r)));return i.compare(L3)===1&&(i=new Li([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Z1(e),[r,i]=ex(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ly(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Z1(e),[r,i]=ex(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gf(Z.min(),i,new Ue(le),qr(),ue())}}class Qu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Qu(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class oC{constructor(e,n){this.targetId=e,this.Ce=n}}class aC{constructor(e,n,r=wt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tx{constructor(){this.ve=0,this.Fe=nx(),this.Me=wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ue(),n=ue(),r=ue();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new Qu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=nx()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class V3{constructor(e){this.Ge=e,this.ze=new Map,this.je=qr(),this.He=Lc(),this.Je=Lc(),this.Ze=new Ue(le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(bm(s))if(r===0){const o=new G(s.path);this.et(n,o,At.newNoDocument(o,Z.min()))}else _e(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gi(r).toUint8Array()}catch(l){if(l instanceof Rk)return aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ly(o,i,s)}catch(l){return aa(l instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&bm(a.target)){const l=new G(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,At.newNoDocument(l,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=ue();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new gf(e,n,this.Ze,this.je,r);return this.je=qr(),this.He=Lc(),this.Je=Lc(),this.Ze=new Ue(le),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tx,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new at(le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new at(le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Lc(){return new Ue(G.comparator)}function nx(){return new Ue(G.comparator)}const F3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},U3={and:"AND",or:"OR"};class j3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function km(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function xd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function B3(t,e){return xd(t,e.toTimestamp())}function gr(t){return _e(!!t,49232),Z.fromTimestamp(function(n){const r=qi(n);return new Ae(r.seconds,r.nanos)}(t))}function Vy(t,e){return Cm(t,e).canonicalString()}function Cm(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uC(t){const e=Te.fromString(t);return _e(pC(e),10190,{key:e.toString()}),e}function Am(t,e){return Vy(t.databaseId,e.path)}function Up(t,e){const n=uC(e);if(n.get(1)!==t.databaseId.projectId)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(hC(n))}function cC(t,e){return Vy(t.databaseId,e)}function $3(t){const e=uC(t);return e.length===4?Te.emptyPath():hC(e)}function Pm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hC(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rx(t,e,n){return{name:Am(t,e),fields:n.value.mapValue.fields}}function H3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(_e(c===void 0||typeof c=="string",58123),wt.fromBase64String(c||"")):(_e(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),wt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?F.UNKNOWN:sC(u.code);return new $(c,u.message||"")}(o);n=new aC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Up(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):Z.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=At.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Th(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Up(t,r.document),s=r.readTime?gr(r.readTime):Z.min(),o=At.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Th([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Up(t,r.document),s=r.removedTargetIds||[];n=new Th([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new M3(i,s),a=r.targetId;n=new oC(a,o)}}return n}function W3(t,e){let n;if(e instanceof Ku)n={update:rx(t,e.key,e.value)};else if(e instanceof iC)n={delete:Am(t,e.key)};else if(e instanceof rs)n={update:rx(t,e.key,e.data),updateMask:e5(e.fieldMask)};else{if(!(e instanceof P3))return Y(16599,{dt:e.type});n={verify:Am(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof vd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Su)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wd)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:B3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function q3(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(Z.min())&&(o=gr(s)),new k3(o,i.transformResults||[])}(n,e))):[]}function G3(t,e){return{documents:[cC(t,e.path)]}}function K3(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cC(t,i);const s=function(u){if(u.length!==0)return fC(Kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:co(f.field),direction:X3(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function Q3(t){let e=$3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const f=dC(d);return f instanceof Kn&&jk(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new bu(ho(_.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,lf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new yd(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new yd(p,f)}(n.endAt)),d3(e,i,o,s,a,"F",l,u)}function Y3(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ho(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ho(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return et.create(ho(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>dC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function X3(t){return F3[t]}function J3(t){return z3[t]}function Z3(t){return U3[t]}function co(t){return{fieldPath:t.canonicalString()}}function ho(t){return mt.fromServerFormat(t.fieldPath)}function fC(t){return t instanceof et?function(n){if(n.op==="=="){if(H1(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if($1(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(H1(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if($1(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:J3(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(i=>fC(i));return r.length===1?r[0]:{compositeFilter:{op:Z3(n.op),filters:r}}}(t):Y(54877,{filter:t})}function e5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function gC(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=wt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.yt=e}}function n5(t){const e=Q3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.Sn=new i5}addToCollectionParentIndex(e,n){return this.Sn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Wi.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class i5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new at(Te.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mC=41943040;class qt{static withCacheSize(e){return new qt(e,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(mC,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ha(0)}static ar(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="LruGarbageCollector",s5=1048576;function ox([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class o5{constructor(e){this.Pr=e,this.buffer=new at(ox),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ox(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){H(sx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ca(n)?H(sx,"Ignoring IndexedDB error during garbage collection: ",n):await ka(n)}await this.Ar(3e5)})}}class l5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(af.ce);const r=new o5(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(ix)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ix):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),lo()<=ae.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function u5(t,e){return new l5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ul(r.mutation,i,fn.empty(),Ae.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=_l();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=qr();const o=zl(),a=function(){return zl()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof rs)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ul(c.mutation,u,c.mutation.getFieldMask(),Ae.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>a.set(u,new h5(c,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=zl();let i=new Ue((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||fn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||ue()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Yk();c.forEach(f=>{if(!s.has(f)){const p=nC(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return f3(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):z.resolve(bs());let a=wu,l=s;return o.next(u=>z.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?z.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(c=>({batchId:a,changes:Qk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=_l();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=_l();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,l=>{const u=function(d,f){return new Aa(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,At.newInvalidDocument(c)))});let a=_l();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ul(c.mutation,u,fn.empty(),Ae.now()),df(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return z.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:n5(i.bundledQuery),readTime:gr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(){this.overlays=new Ue(G.comparator),this.Lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=bs();return z.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const i=bs(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return z.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=bs(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=bs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return z.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new D3(n,r));let s=this.Lr.get(n);s===void 0&&(s=ue(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.kr=new at(ut.Kr),this.qr=new at(ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ut(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new ut(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new G(new Te([])),r=new ut(n,e),i=new ut(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new Te([])),r=new ut(n,e),i=new ut(n,e+1);let s=ue();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ut(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new at(ut.Kr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R3(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new ut(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Ay:this.Yn-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ut(n,0),i=new ut(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new at(le);return n.forEach(i=>{const s=new ut(i,0),o=new ut(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),z.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new ut(new G(s),0);let a=new at(le);return this.Jr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},o),z.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return z.forEach(n.mutations,i=>{const s=new ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new ut(n,0),i=this.Jr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.ti=e,this.docs=function(){return new Ue(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():At.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():At.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=qr();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$F(BF(c),r)<=0||(i.has(c.key)||df(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ni(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new y5(this)}getSize(e){return z.resolve(this.size)}}class y5 extends c5{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e){this.persistence=e,this.ri=new Js(n=>Dy(n),My),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.ii=0,this.si=new Fy,this.targetCount=0,this.oi=ha._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),z.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.lr(n),z.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this._i={},this.overlays={},this.ai=new af(0),this.ui=!1,this.ui=!0,this.ci=new g5,this.referenceDelegate=e(this),this.li=new v5(this),this.indexManager=new r5,this.remoteDocumentCache=function(i){return new _5(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new t5(n),this.Pi=new f5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new m5(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new w5(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return z.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class w5 extends WF{constructor(e){super(),this.currentSequenceNumber=e}}class zy{constructor(e){this.persistence=e,this.Ri=new Fy,this.Ai=null}static Vi(e){return new zy(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,r=>{const i=G.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ed{constructor(e,n){this.persistence=e,this.fi=new Js(r=>KF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=u5(this,n)}static Vi(e,n){return new Ed(e,n)}Ti(){}Ii(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return z.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Z.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),z.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wh(e.data.value)),n}wr(e,n,r){return z.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ue(),i=ue();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return hL()?8:qF(Nt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new x5;return this.ys(e,n,o).next(a=>{if(s.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(lo()<=ae.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(lo()<=ae.DEBUG&&H("QueryEngine","Query:",uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(lo()<=ae.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):z.resolve())}gs(e,n){if(K1(n))return z.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Im(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ue(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.bs(n,a);return this.Ss(n,u,o,l.readTime)?this.gs(e,Im(n,null,"F")):this.Ds(e,u,n,l)}))})))}ps(e,n,r,i){return K1(n)||i.isEqual(Z.min())?z.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?z.resolve(null):(lo()<=ae.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uo(n)),this.Ds(e,o,n,jF(i,wu)).next(a=>a))})}bs(e,n){let r=new at(Gk(e));return n.forEach((i,s)=>{df(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return lo()<=ae.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",uo(n)),this.fs.getDocumentsMatchingQuery(e,n,Wi.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LocalStore",T5=3e8;class b5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ue(le),this.Fs=new Js(s=>Dy(s),My),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function S5(t,e,n,r){return new b5(t,e,n,r)}async function yC(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ue();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function I5(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,f=d.keys();let p=z.resolve();return f.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(m=>{const x=u.docVersions.get(_);_e(x!==null,48541),m.version.compareTo(x)<0&&(d.applyToRemoteDocument(m,u),m.isValidDocument()&&(m.setReadTime(u.commitVersion),c.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vC(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function k5(t,e){const n=te(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.li.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.li.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(wt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(m,x,v){return m.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=T5?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.li.updateTargetData(s,p))});let l=qr(),u=ue();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(C5(s,o,e.documentUpdates).next(c=>{l=c.Bs,u=c.Ls})),!r.isEqual(Z.min())){const c=n.li.getLastRemoteSnapshotVersion(s).next(d=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.vs=i,s))}function C5(t,e,n){let r=ue(),i=ue();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=qr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H(jy,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Bs:o,Ls:i}})}function A5(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function P5(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,z.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new vi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Rm(t,e,n){const r=te(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ca(o))throw o;H(jy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function ax(t,e,n){const r=te(t);let i=Z.min(),s=ue();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=te(l),f=d.Fs.get(c);return f!==void 0?z.resolve(d.vs.get(f)):d.li.getTargetData(u,c)}(r,o,fr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ue())).next(a=>(R5(r,m3(e),a),{documents:a,ks:s})))}function R5(t,e,n){let r=t.Ms.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class lx{constructor(){this.activeTargetIds=E3()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D5{constructor(){this.vo=new lx,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="ConnectivityMonitor";class cx{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){H(ux,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){H(ux,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Dm(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="RestConnection",N5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class O5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===md?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Dm(),a=this.Qo(e,n.toUriEncodedString());H(jp,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,i,s);const{host:u}=new URL(a),c=Ta(u);return this.zo(e,a,l,r,c).then(d=>(H(jp,`Received RPC '${e}' ${o}: `,d),d),d=>{throw aa(jp,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=N5[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection",il=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class jo extends O5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!jo.c_){const e=Tk();il(e,Ek.STAT_EVENT,n=>{n.stat===vm.PROXY?H(St,"STAT_EVENT: detected buffering proxy"):n.stat===vm.NOPROXY&&H(St,"STAT_EVENT: detected no buffering proxy")}),jo.c_=!0}}zo(e,n,r,i,s){const o=Dm();return new Promise((a,l)=>{const u=new wk;u.setWithCredentials(!0),u.listenOnce(xk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vh.NO_ERROR:const d=u.getResponseJson();H(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case vh.TIMEOUT:H(St,`RPC '${e}' ${o} timed out`),l(new $(F.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const f=u.getStatus();if(H(St,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const m=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(_.status);l(new $(m,_.message))}else l(new $(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new $(F.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(St,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);H(St,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}T_(e,n,r){const i=Dm(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");H(St,`Creating RPC '${e}' stream ${i}: ${u}`,a);const c=o.createWebChannel(u,a);this.I_(c);let d=!1,f=!1;const p=new L5({Ho:_=>{f?H(St,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(d||(H(St,`Opening RPC '${e}' stream ${i} transport.`),c.open(),d=!0),H(St,`RPC '${e}' stream ${i} sending:`,_),c.send(_))},Jo:()=>c.close()});return il(c,ml.EventType.OPEN,()=>{f||(H(St,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),il(c,ml.EventType.CLOSE,()=>{f||(f=!0,H(St,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(c))}),il(c,ml.EventType.ERROR,_=>{f||(f=!0,aa(St,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),p.o_(new $(F.UNAVAILABLE,"The operation could not be completed")))}),il(c,ml.EventType.MESSAGE,_=>{var m;if(!f){const x=_.data[0];_e(!!x,16349);const v=x,w=(v==null?void 0:v.error)||((m=v[0])==null?void 0:m.error);if(w){H(St,`RPC '${e}' stream ${i} received error:`,w);const T=w.status;let A=function(b){const E=Xe[b];if(E!==void 0)return sC(E)}(T),C=w.message;A===void 0&&(A=F.INTERNAL,C="Unknown error status: "+T+" with message "+w.message),f=!0,p.o_(new $(A,C)),c.close()}else H(St,`RPC '${e}' stream ${i} received:`,x),p.__(x)}}),jo.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return bk()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){return new jo(t)}function Bp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new j3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jo.c_=!1;class wC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="PersistentStream";class xC{constructor(e,n,r,i,s,o,a,l){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(hx,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(H(hx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F5 extends xC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=H3(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?gr(o.readTime):Z.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=bm(l)?{documents:G3(s,l)}:{query:K3(s,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=lC(s,o.resumeToken);const u=km(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=xd(s,o.snapshotVersion.toTimestamp());const u=km(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Y3(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.K_(n)}}class z5 extends xC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=q3(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Pm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W3(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{}class j5 extends U5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Cm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(F.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Cm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function B5(t,e,n,r){return new j5(t,e,n,r)}class $5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class H5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Zs(this)&&(H(Ws,"Restarting streams for network reachability change."),await async function(l){const u=te(l);u.Ea.add(4),await Yu(u),u.Va.set("Unknown"),u.Ea.delete(4),await _f(u)}(this))})}),this.Va=new $5(r,i)}}async function _f(t){if(Zs(t))for(const e of t.Ra)await e(!0)}async function Yu(t){for(const e of t.Ra)await e(!1)}function EC(t,e){const n=te(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Wy(n)?Hy(n):Pa(n).O_()&&$y(n,e))}function By(t,e){const n=te(t),r=Pa(n);n.Ia.delete(e),r.O_()&&TC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Zs(n)&&n.Va.set("Unknown"))}function $y(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).Z_(e)}function TC(t,e){t.da.$e(e),Pa(t).X_(e)}function Hy(t){t.da=new V3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.Va.ua()}function Wy(t){return Zs(t)&&!Pa(t).x_()&&t.Ia.size>0}function Zs(t){return te(t).Ea.size===0}function bC(t){t.da=void 0}async function W5(t){t.Va.set("Online")}async function q5(t){t.Ia.forEach((e,n)=>{$y(t,e)})}async function G5(t,e){bC(t),Wy(t)?(t.Va.ha(e),Hy(t)):t.Va.set("Unknown")}async function K5(t,e,n){if(t.Va.set("Online"),e instanceof aC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){H(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof Th?t.da.Xe(e):e instanceof oC?t.da.st(e):t.da.tt(e),!n.isEqual(Z.min()))try{const r=await vC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(wt.EMPTY_BYTE_STRING,c.snapshotVersion)),TC(s,l);const d=new vi(c.target,l,u,c.sequenceNumber);$y(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(Ws,"Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!Ca(e))throw e;t.Ea.add(1),await Yu(t),t.Va.set("Offline"),n||(n=()=>vC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Ws,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _f(t)})}function SC(t,e){return e().catch(n=>Td(t,n,e))}async function yf(t){const e=te(t),n=Qi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;Q5(e);)try{const i=await A5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Y5(e,i)}catch(i){await Td(e,i)}IC(e)&&kC(e)}function Q5(t){return Zs(t)&&t.Ta.length<10}function Y5(t,e){t.Ta.push(e);const n=Qi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function IC(t){return Zs(t)&&!Qi(t).x_()&&t.Ta.length>0}function kC(t){Qi(t).start()}async function X5(t){Qi(t).ra()}async function J5(t){const e=Qi(t);for(const n of t.Ta)e.ea(n.mutations)}async function Z5(t,e,n){const r=t.Ta.shift(),i=Oy.from(r,e,n);await SC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yf(t)}async function e6(t,e){e&&Qi(t).Y_&&await async function(r,i){if(function(o){return N3(o)&&o!==F.ABORTED}(i.code)){const s=r.Ta.shift();Qi(r).B_(),await SC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yf(r)}}(t,e),IC(t)&&kC(t)}async function dx(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H(Ws,"RemoteStore received new credentials");const r=Zs(n);n.Ea.add(3),await Yu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _f(n)}async function t6(t,e){const n=te(t);e?(n.Ea.delete(2),await _f(n)):e||(n.Ea.add(2),await Yu(n),n.Va.set("Unknown"))}function Pa(t){return t.ma||(t.ma=function(n,r,i){const s=te(n);return s.sa(),new F5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:W5.bind(null,t),Yo:q5.bind(null,t),t_:G5.bind(null,t),J_:K5.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Wy(t)?Hy(t):t.Va.set("Unknown")):(await t.ma.stop(),bC(t))})),t.ma}function Qi(t){return t.fa||(t.fa=function(n,r,i){const s=te(n);return s.sa(),new z5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:X5.bind(null,t),t_:e6.bind(null,t),ta:J5.bind(null,t),na:Z5.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await yf(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Ws,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Ca(t))return new $(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(e){return new Bo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.ga=new Ue(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class da{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new da(e,n,Bo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class r6{constructor(){this.queries=px(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=px(),s.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new $(F.ABORTED,"Firestore shutting down"))}}function px(){return new Js(t=>qk(t),hf)}async function CC(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new n6,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Gy(o,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Ky(n)}async function AC(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function i6(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&Ky(n)}function s6(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Ky(t){t.Ca.forEach(e=>{e.next()})}var Mm,gx;(gx=Mm||(Mm={})).Ma="default",gx.Cache="cache";class PC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.key=e}}class DC{constructor(e){this.key=e}}class o6{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ue(),this.mutatedKeys=ue(),this.eu=Gk(e),this.tu=new Bo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new fx,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const f=i.get(c),p=df(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?_!==m&&(r.track({type:3,doc:p}),x=!0):this.su(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.eu(p,l)>0||u&&this.eu(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(p?(o=o.add(p),s=m?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((c,d)=>function(p,_){const m=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:x})}};return m(p)-m(_)}(c.type,d.type)||this.eu(c.doc,d.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],l=this.Ya.size===0&&this.current&&!i?1:0,u=l!==this.Xa;return this.Xa=l,o.length!==0||u?{snapshot:new da(this.query,e.tu,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fx,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ue(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new DC(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new RC(r))}),n}cu(e){this.Za=e.ks,this.Ya=ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return da.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qy="SyncEngine";class a6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class l6{constructor(e){this.key=e,this.hu=!1}}class u6{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Js(a=>qk(a),hf),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ue(G.comparator),this.Au=new Map,this.Vu=new Fy,this.du={},this.mu=new Map,this.fu=ha.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c6(t,e,n=!0){const r=FC(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await MC(r,e,n,!0),i}async function h6(t,e){const n=FC(t);await MC(n,e,!0,!1)}async function MC(t,e,n,r){const i=await P5(t.localStore,fr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await d6(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&EC(t.remoteStore,i),a}async function d6(t,e,n,r,i){t.pu=(d,f,p)=>async function(m,x,v,w){let T=x.view.ru(v);T.Ss&&(T=await ax(m.localStore,x.query,!1).then(({documents:b})=>x.view.ru(b,T)));const A=w&&w.targetChanges.get(x.targetId),C=w&&w.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(T,m.isPrimaryClient,A,C);return _x(m,x.targetId,M.au),M.snapshot}(t,d,f,p);const s=await ax(t.localStore,e,!0),o=new o6(e,s.ks),a=o.ru(s.documents),l=Qu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_x(t,n,u.au);const c=new a6(e,n,o);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function f6(t,e,n){const r=te(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!hf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Rm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&By(r.remoteStore,i.targetId),Nm(r,i.targetId)}).catch(ka)):(Nm(r,i.targetId),await Rm(r.localStore,i.targetId,!0))}async function p6(t,e){const n=te(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),By(n.remoteStore,r.targetId))}async function g6(t,e,n){const r=E6(t);try{const i=await function(o,a){const l=te(o),u=Ae.now(),c=a.reduce((p,_)=>p.add(_.key),ue());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=qr(),m=ue();return l.xs.getEntries(p,c).next(x=>{_=x,_.forEach((v,w)=>{w.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(x=>{d=x;const v=[];for(const w of a){const T=A3(w,d.get(w.key).overlayedDocument);T!=null&&v.push(new rs(w.key,T,Fk(T.value.mapValue),pr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(x=>{f=x;const v=x.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(p,x.batchId,v)})}).then(()=>({batchId:f.batchId,changes:Qk(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.du[o.currentUser.toKey()];u||(u=new Ue(le)),u=u.insert(a,l),o.du[o.currentUser.toKey()]=u}(r,i.batchId,n),await Xu(r,i.changes),await yf(r.remoteStore)}catch(i){const s=Gy(i,"Failed to persist write");n.reject(s)}}async function NC(t,e){const n=te(t);try{const r=await k5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?_e(o.hu,14607):i.removedDocuments.size>0&&(_e(o.hu,42227),o.hu=!1))}),await Xu(n,r,e)}catch(r){await ka(r)}}function mx(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.ba)f.va(a)&&(u=!0)}),u&&Ky(l)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m6(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ue(G.comparator);o=o.insert(s,At.newNoDocument(s,Z.min()));const a=ue().add(s),l=new gf(Z.min(),new Map,new Ue(le),o,a);await NC(r,l),r.Ru=r.Ru.remove(s),r.Au.delete(e),Yy(r)}else await Rm(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch(ka)}async function _6(t,e){const n=te(t),r=e.batch.batchId;try{const i=await I5(n.localStore,e);LC(n,r,null),OC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Xu(n,i)}catch(i){await ka(i)}}async function y6(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(_e(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);LC(r,e,n),OC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Xu(r,i)}catch(i){await ka(i)}}function OC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function LC(t,e,n){const r=te(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||VC(t,r)})}function VC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(By(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Yy(t))}function _x(t,e,n){for(const r of n)r instanceof RC?(t.Vu.addReference(r.key,e),v6(t,r)):r instanceof DC?(H(Qy,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||VC(t,r.key)):Y(19791,{wu:r})}function v6(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(H(Qy,"New document in limbo: "+n),t.Eu.add(r),Yy(t))}function Yy(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(Te.fromString(e)),r=t.fu.next();t.Au.set(r,new l6(n)),t.Ru=t.Ru.insert(n,r),EC(t.remoteStore,new vi(fr(cf(n.path)),r,"TargetPurposeLimboResolution",af.ce))}}async function Xu(t,e,n){const r=te(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Uy.Es(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(l,u){const c=te(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>z.forEach(u,f=>z.forEach(f.Ts,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>z.forEach(f.Is,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Ca(d))throw d;H(jy,"Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.vs.get(f),_=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(_);c.vs=c.vs.insert(f,m)}}}(r.localStore,s))}async function w6(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H(Qy,"User change. New user:",e.toKey());const r=await yC(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(l=>{l.reject(new $(F.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xu(n,r.Ns)}}function x6(t,e){const n=te(t),r=n.Au.get(e);if(r&&r.hu)return ue().add(r.key);{let i=ue();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function FC(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=NC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m6.bind(null,e),e.Pu.J_=i6.bind(null,e.eventManager),e.Pu.yu=s6.bind(null,e.eventManager),e}function E6(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=y6.bind(null,e),e}class bd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S5(this.persistence,new E5,e.initialUser,this.serializer)}Cu(e){return new _C(zy.Vi,this.serializer)}Du(e){return new D5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bd.provider={build:()=>new bd};class T6 extends bd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Ed,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new a5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new _C(r=>Ed.Vi(r,n),this.serializer)}}class Om{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=w6.bind(null,this.syncEngine),await t6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new r6}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=V5(e.databaseInfo);return B5(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new H5(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>mx(this.syncEngine,n,0),function(){return cx.v()?new cx:new M5}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new u6(i,s,o,a,l,u);return c&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);H(Ws,"RemoteStore shutting down."),s.Ea.add(5),await Yu(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Om.provider={build:()=>new Om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class b6{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Cy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H(Yi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Yi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),H(Yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S6(t);H(Yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dx(e.remoteStore,i)),t._onlineComponents=e}async function S6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Yi,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new bd)}}else H(Yi,"Using default OfflineComponentProvider"),await $p(t,new T6(void 0));return t._offlineComponents}async function UC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Yi,"Using user provided OnlineComponentProvider"),await yx(t,t._uninitializedComponentsProvider._online)):(H(Yi,"Using default OnlineComponentProvider"),await yx(t,new Om))),t._onlineComponents}function I6(t){return UC(t).then(e=>e.syncEngine)}async function Lm(t){const e=await UC(t),n=e.eventManager;return n.onListen=c6.bind(null,e.syncEngine),n.onUnlisten=f6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=p6.bind(null,e.syncEngine),n}function k6(t,e,n,r){const i=new zC(r),s=new PC(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>CC(await Lm(t),s)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>AC(await Lm(t),s))}}function C6(t,e,n={}){const r=new Vi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new zC({next:f=>{c.Nu(),o.enqueueAndForget(()=>AC(s,d));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new $(F.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new $(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new PC(cf(a.path),c,{includeMetadataChanges:!0,Ka:!0});return CC(s,d)}(await Lm(t),t.asyncQueue,e,n,r)),r.promise}function A6(t,e){const n=new Vi;return t.asyncQueue.enqueueAndForget(async()=>g6(await I6(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="ComponentProvider",vx=new Map;function R6(t,e,n,r,i){return new XF(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,jC(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firestore.googleapis.com",wx=!0;class xx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BC,this.ssl=wx}else this.host=e.host,this.ssl=e.ssl??wx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s5)throw new $(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PF;switch(r.type){case"firstParty":return new NF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=vx.get(n);r&&(H(P6,"Removing Datastore"),vx.delete(n),r.terminate())}(this),Promise.resolve()}}function D6(t,e,n,r={}){var u;t=Nr(t,vf);const i=Ta(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(NI(`https://${a}`),OI("Firestore",!0)),s.host!==BC&&s.host!==a&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!js(l,o)&&(t._setSettings(l),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=kt.MOCK_USER;else{c=nL(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new $(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new kt(f)}t._authCredentials=new RF(new Ik(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qe(this.firestore,e,this._key)}toJSON(){return{type:Qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gu(n,Qe._jsonSchema))return new Qe(e,r||null,new G(Te.fromString(n.referencePath)))}}Qe._jsonSchemaVersion="firestore/documentReference/1.0",Qe._jsonSchema={type:tt("string",Qe._jsonSchemaVersion),referencePath:tt("string")};class Fi extends eo{constructor(e,n,r){super(e,n,cf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qe(this.firestore,null,new G(e))}withConverter(e){return new Fi(this.firestore,e,this._path)}}function Sd(t,e,...n){if(t=Ot(t),kk("collection","path",e),t instanceof vf){const r=Te.fromString(e,...n);return N1(r),new Fi(t,null,r)}{if(!(t instanceof Qe||t instanceof Fi))throw new $(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return N1(r),new Fi(t.firestore,null,r)}}function Vm(t,e,...n){if(t=Ot(t),arguments.length===1&&(e=Cy.newId()),kk("doc","path",e),t instanceof vf){const r=Te.fromString(e,...n);return M1(r),new Qe(t,null,new G(r))}{if(!(t instanceof Qe||t instanceof Fi))throw new $(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return M1(r),new Qe(t.firestore,t instanceof Fi?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="AsyncQueue";class Tx{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wC(this,"async_queue_retry"),this._c=()=>{const r=Bp();r&&H(Ex,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Bp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Bp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;H(Ex,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",bx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=qy.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:bx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class fa extends vf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tx(e),this._firestoreClient=void 0,await e}}}function M6(t,e){const n=typeof t=="object"?t:zI(),r=typeof t=="string"?t:md,i=_y(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=eL("firestore");s&&D6(i,...s)}return i}function Xy(t){if(t._terminated)throw new $(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||N6(t),t._firestoreClient}function N6(t){var r,i,s,o;const e=t._freezeSettings(),n=R6(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new b6(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(wt.fromBase64String(e))}catch(n){throw new $(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:tt("string",Sn._jsonSchemaVersion),bytes:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:tt("string",mr._jsonSchemaVersion),latitude:tt("number"),longitude:tt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Hn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,Hn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Hn(e.vectorValues);throw new $(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hn._jsonSchemaVersion="firestore/vectorValue/1.0",Hn._jsonSchema={type:tt("string",Hn._jsonSchemaVersion),vectorValues:tt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6=/^__.*__$/;class L6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ku(e,this.data,n,this.fieldTransforms)}}class $C{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new rs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class e0{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new e0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Id(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(HC(this.dataSource)&&O6.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class V6{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}createContext(e,n,r,i=!1){return new e0({dataSource:e,methodName:n,targetDoc:r,path:mt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function t0(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new V6(t._databaseId,!!e.ignoreUndefinedProperties,n)}function F6(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);n0("Data must be an object, but it was:",o,r);const a=WC(r,o);let l,u;if(s.merge)l=new fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=pa(e,d,n);if(!o.contains(f))throw new $(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KC(c,f)||c.push(f)}l=new fn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new L6(new Kt(a),l,u)}class wf extends Zy{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof wf}}function z6(t,e,n,r){const i=t.createContext(1,e,n);n0("Data must be an object, but it was:",i,r);const s=[],o=Kt.empty();ns(r,(l,u)=>{const c=GC(e,l,n);u=Ot(u);const d=i.childContextForFieldPath(c);if(u instanceof wf)s.push(c);else{const f=Ju(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new fn(s);return new $C(o,a,i.fieldTransforms)}function U6(t,e,n,r,i,s){const o=t.createContext(1,e,n),a=[pa(e,r,n)],l=[i];if(s.length%2!=0)throw new $(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(pa(e,s[f])),l.push(s[f+1]);const u=[],c=Kt.empty();for(let f=a.length-1;f>=0;--f)if(!KC(u,a[f])){const p=a[f];let _=l[f];_=Ot(_);const m=o.childContextForFieldPath(p);if(_ instanceof wf)u.push(p);else{const x=Ju(_,m);x!=null&&(u.push(p),c.set(p,x))}}const d=new fn(u);return new $C(c,d,o.fieldTransforms)}function j6(t,e,n,r=!1){return Ju(n,t.createContext(r?4:3,e))}function Ju(t,e){if(qC(t=Ot(t)))return n0("Unsupported field value:",e,t),WC(t,e);if(t instanceof Zy)return function(r,i){if(!HC(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Ju(a,i.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ae.fromDate(r);return{timestampValue:xd(i.serializer,s)}}if(r instanceof Ae){const s=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xd(i.serializer,s)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:lC(i.serializer,r._byteString)};if(r instanceof Qe){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Hn)return function(o,a){const l=o instanceof Hn?o.toArray():o;return{mapValue:{fields:{[Lk]:{stringValue:Vk},[_d]:{arrayValue:{values:l.map(c=>{if(typeof c!="number")throw a.createError("VectorValues must only contain numeric values.");return Ny(a.serializer,c)})}}}}}}(r,i);if(gC(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${of(r)}`)}(t,e)}function WC(t,e){const n={};return Pk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(t,(r,i)=>{const s=Ju(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof mr||t instanceof Sn||t instanceof Qe||t instanceof Zy||t instanceof Hn||gC(t))}function n0(t,e,n){if(!qC(n)||!Ck(n)){const r=of(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function pa(t,e,n){if((e=Ot(e))instanceof Jy)return e._internalPath;if(typeof e=="string")return GC(t,e);throw Id("Field path arguments must be of type string or ",t,!1,void 0,n)}const B6=new RegExp("[~\\*/\\[\\]]");function GC(t,e,n){if(e.search(B6)>=0)throw Id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jy(...e.split("."))._internalPath}catch{throw Id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Id(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new $(F.INVALID_ARGUMENT,a+t+l)}function KC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[_d].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ge(o.doubleValue));return new Hn(n)}convertGeoPoint(e){return new mr(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=qi(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);_e(pC(r),9688,{name:e});const i=new Eu(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Wr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC extends $6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qe(this.firestore,null,n)}}const Sx="@firebase/firestore",Ix="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(pa("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H6 extends YC{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r0{}class XC extends r0{}function q6(t,e,...n){let r=[];e instanceof r0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof s0).length,a=s.filter(l=>l instanceof i0).length;if(o>1||o>0&&a>0)throw new $(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class i0 extends XC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new i0(e,n,r)}_apply(e){const n=this._parse(e);return JC(e._query,n),new eo(e.firestore,e.converter,Sm(e._query,n))}_parse(e){const n=t0(e.firestore);return function(s,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new $(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){Ax(d,c);const _=[];for(const m of d)_.push(Cx(l,s,m));f={arrayValue:{values:_}}}else f=Cx(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||Ax(d,c),f=j6(a,o,d,c==="in"||c==="not-in");return et.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class s0 extends r0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new s0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JC(o,l),o=Sm(o,l)}(e._query,n),new eo(e.firestore,e.converter,Sm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o0 extends XC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new $(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(s,o)}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,g3(e._query,n))}}function G6(t,e="asc"){const n=e,r=pa("orderBy",t);return o0._create(r,n)}function Cx(t,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new $(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wk(e)&&n.indexOf("/")!==-1)throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!G.isDocumentKey(r))throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B1(t,new G(r))}if(n instanceof Qe)return B1(t,n._key);throw new $(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${of(n)}.`)}function Ax(t,e){if(!Array.isArray(t)||t.length===0)throw new $(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JC(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function K6(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ns extends YC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:tt("string",Ns._jsonSchemaVersion),bundleSource:tt("string","DocumentSnapshot"),bundleName:tt("string"),bundle:tt("string")};class bh extends Ns{data(e={}){return super.data(e)}}class $o{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bh(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new bh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:Q6(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$o._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Q6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$o._jsonSchemaVersion="firestore/querySnapshot/1.0",$o._jsonSchema={type:tt("string",$o._jsonSchemaVersion),bundleSource:tt("string","QuerySnapshot"),bundleName:tt("string"),bundle:tt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){t=Nr(t,Qe);const e=Nr(t.firestore,fa),n=Xy(e);return C6(n,t._key).then(r=>nA(e,t,r))}function X6(t,e,n,...r){t=Nr(t,Qe);const i=Nr(t.firestore,fa),s=t0(i);let o;return o=typeof(e=Ot(e))=="string"||e instanceof Jy?U6(s,"updateDoc",t._key,e,n,r):z6(s,"updateDoc",t._key,e),tA(i,[o.toMutation(t._key,pr.exists(!0))])}function ZC(t,e){const n=Nr(t.firestore,fa),r=Vm(t),i=K6(t.converter,e),s=t0(t.firestore);return tA(n,[F6(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function eA(t,...e){var u,c,d;t=Ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kx(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kx(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(c=f.error)==null?void 0:c.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,o,a;if(t instanceof Qe)o=Nr(t.firestore,fa),a=cf(t._key.path),s={next:f=>{e[r]&&e[r](nA(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Nr(t,eo);o=Nr(f.firestore,fa),a=f._query;const p=new QC(o);s={next:_=>{e[r]&&e[r](new $o(o,p,f,_))},error:e[r+1],complete:e[r+2]},W6(t._query)}const l=Xy(o);return k6(l,a,i,s)}function tA(t,e){const n=Xy(t);return A6(n,e)}function nA(t,e,n){const r=n.docs.get(e._key),i=new QC(t);return new Ns(t,i,e._key,r,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){AF(ba),sa(new Bs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fa(new DF(r.getProvider("auth-internal")),new OF(o,r.getProvider("app-check-internal")),JF(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Oi(Sx,Ix,e),Oi(Sx,Ix,"esm2020")})();const J6={apiKey:"AIzaSyAmo6_E4He_DFUO7byO9B7BfBDjTKzIQDg",authDomain:"advantage-7d8cb.firebaseapp.com",projectId:"advantage-7d8cb",storageBucket:"advantage-7d8cb.firebasestorage.app",messagingSenderId:"874118190832",appId:"1:874118190832:web:6097e5d923717bf7f75435",measurementId:"G-70KQQRYYDT"},rA=FI(J6);kF(rA);const Ho=M6(rA);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Zu(t){return t+.5|0}const wi=(t,e,n)=>Math.max(Math.min(t,n),e);function wl(t){return wi(Zu(t*2.55),0,255)}function zi(t){return wi(Zu(t*255),0,255)}function kr(t){return wi(Zu(t/2.55)/100,0,1)}function Px(t){return wi(Zu(t*100),0,100)}const xn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fm=[..."0123456789ABCDEF"],Z6=t=>Fm[t&15],ez=t=>Fm[(t&240)>>4]+Fm[t&15],Fc=t=>(t&240)>>4===(t&15),tz=t=>Fc(t.r)&&Fc(t.g)&&Fc(t.b)&&Fc(t.a);function nz(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&xn[t[1]]*17,g:255&xn[t[2]]*17,b:255&xn[t[3]]*17,a:e===5?xn[t[4]]*17:255}:(e===7||e===9)&&(n={r:xn[t[1]]<<4|xn[t[2]],g:xn[t[3]]<<4|xn[t[4]],b:xn[t[5]]<<4|xn[t[6]],a:e===9?xn[t[7]]<<4|xn[t[8]]:255})),n}const rz=(t,e)=>t<255?e(t):"";function iz(t){var e=tz(t)?Z6:ez;return t?"#"+e(t.r)+e(t.g)+e(t.b)+rz(t.a,e):void 0}const sz=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iA(t,e,n){const r=e*Math.min(n,1-n),i=(s,o=(s+t/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function oz(t,e,n){const r=(i,s=(i+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function az(t,e,n){const r=iA(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function lz(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function a0(t){const n=t.r/255,r=t.g/255,i=t.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,u,c;return s!==o&&(c=s-o,u=a>.5?c/(2-s-o):c/(s+o),l=lz(n,r,i,c,s),l=l*60+.5),[l|0,u||0,a]}function l0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(zi)}function u0(t,e,n){return l0(iA,t,e,n)}function uz(t,e,n){return l0(az,t,e,n)}function cz(t,e,n){return l0(oz,t,e,n)}function sA(t){return(t%360+360)%360}function hz(t){const e=sz.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?wl(+e[5]):zi(+e[5]));const i=sA(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=uz(i,s,o):e[1]==="hsv"?r=cz(i,s,o):r=u0(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function dz(t,e){var n=a0(t);n[0]=sA(n[0]+e),n=u0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function fz(t){if(!t)return;const e=a0(t),n=e[0],r=Px(e[1]),i=Px(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${kr(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const Rx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Dx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function pz(){const t={},e=Object.keys(Dx),n=Object.keys(Rx);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Rx[s]);s=parseInt(Dx[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let zc;function gz(t){zc||(zc=pz(),zc.transparent=[0,0,0,0]);const e=zc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const mz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _z(t){const e=mz.exec(t);let n=255,r,i,s;if(e){if(e[7]!==r){const o=+e[7];n=e[8]?wl(o):wi(o*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?wl(r):wi(r,0,255)),i=255&(e[4]?wl(i):wi(i,0,255)),s=255&(e[6]?wl(s):wi(s,0,255)),{r,g:i,b:s,a:n}}}function yz(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${kr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Hp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ao=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function vz(t,e,n){const r=ao(kr(t.r)),i=ao(kr(t.g)),s=ao(kr(t.b));return{r:zi(Hp(r+n*(ao(kr(e.r))-r))),g:zi(Hp(i+n*(ao(kr(e.g))-i))),b:zi(Hp(s+n*(ao(kr(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Uc(t,e,n){if(t){let r=a0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=u0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function oA(t,e){return t&&Object.assign(e||{},t)}function Mx(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=zi(t[3]))):(e=oA(t,{r:0,g:0,b:0,a:1}),e.a=zi(e.a)),e}function wz(t){return t.charAt(0)==="r"?_z(t):hz(t)}class ku{constructor(e){if(e instanceof ku)return e;const n=typeof e;let r;n==="object"?r=Mx(e):n==="string"&&(r=nz(e)||gz(e)||wz(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=oA(this._rgb);return e&&(e.a=kr(e.a)),e}set rgb(e){this._rgb=Mx(e)}rgbString(){return this._valid?yz(this._rgb):void 0}hexString(){return this._valid?iz(this._rgb):void 0}hslString(){return this._valid?fz(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,r.r=255&u*r.r+s*i.r+.5,r.g=255&u*r.g+s*i.g+.5,r.b=255&u*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=vz(this._rgb,e._rgb,n)),this}clone(){return new ku(this.rgb)}alpha(e){return this._rgb.a=zi(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Zu(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Uc(this._rgb,2,e),this}darken(e){return Uc(this._rgb,2,-e),this}saturate(e){return Uc(this._rgb,1,e),this}desaturate(e){return Uc(this._rgb,1,-e),this}rotate(e){return dz(this._rgb,e),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function wr(){}const xz=(()=>{let t=0;return()=>t++})();function Se(t){return t==null}function st(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function pe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Lt(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Jn(t,e){return Lt(t)?t:e}function he(t,e){return typeof t>"u"?e:t}const Ez=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ce(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,r){let i,s,o;if(st(t))for(s=t.length,i=0;i<s;i++)e.call(n,t[i],i);else if(pe(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function kd(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function Cd(t){if(st(t))return t.map(Cd);if(pe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Cd(t[n[i]]);return e}return t}function aA(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Tz(t,e,n,r){if(!aA(t))return;const i=e[t],s=n[t];pe(i)&&pe(s)?Cu(i,s,r):e[t]=Cd(s)}function Cu(t,e,n){const r=st(e)?e:[e],i=r.length;if(!pe(t))return t;n=n||{};const s=n.merger||Tz;let o;for(let a=0;a<i;++a){if(o=r[a],!pe(o))continue;const l=Object.keys(o);for(let u=0,c=l.length;u<c;++u)s(l[u],t,o,n)}return t}function jl(t,e){return Cu(t,e,{merger:bz})}function bz(t,e,n){if(!aA(t))return;const r=e[t],i=n[t];pe(r)&&pe(i)?jl(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Cd(i))}const Nx={"":t=>t,x:t=>t.x,y:t=>t.y};function Sz(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Iz(t){const e=Sz(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Ad(t,e){return(Nx[e]||(Nx[e]=Iz(e)))(t)}function c0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Pd=t=>typeof t<"u",Xi=t=>typeof t=="function",Ox=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function kz(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const dt=Math.PI,Wn=2*dt,Cz=Wn+dt,Rd=Number.POSITIVE_INFINITY,Az=dt/180,jn=dt/2,hs=dt/4,Lx=dt*2/3,lA=Math.log10,ga=Math.sign;function Bl(t,e,n){return Math.abs(t-e)<n}function Vx(t){const e=Math.round(t);t=Bl(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(lA(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Pz(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,s)=>i-s).pop(),e}function Rz(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Au(t){return!Rz(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Dz(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Mz(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ss(t){return t*(dt/180)}function Nz(t){return t*(180/dt)}function Fx(t){if(!Lt(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Oz(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*dt&&(s+=Wn),{angle:s,distance:i}}function zm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Lz(t,e){return(t-e+Cz)%Wn-dt}function ir(t){return(t%Wn+Wn)%Wn}function uA(t,e,n,r){const i=ir(t),s=ir(e),o=ir(n),a=ir(s-i),l=ir(o-i),u=ir(i-s),c=ir(i-o);return i===s||i===o||r&&s===o||a>l&&u<c}function An(t,e,n){return Math.max(e,Math.min(n,t))}function Vz(t){return An(t,-32768,32767)}function Co(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function h0(t,e,n){n=n||(o=>t[o]<e);let r=t.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const Is=(t,e,n,r)=>h0(t,n,r?i=>{const s=t[i][e];return s<n||s===n&&t[i+1][e]===n}:i=>t[i][e]<n),Fz=(t,e,n)=>h0(t,n,r=>t[r][e]>=n);function zz(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const cA=["push","pop","shift","splice","unshift"];function Uz(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),cA.forEach(n=>{const r="_onData"+c0(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function zx(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(cA.forEach(s=>{delete t[s]}),delete t._chartjs)}function jz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const hA=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function dA(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,hA.call(window,()=>{r=!1,t.apply(e,n)}))}}function Bz(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const d0=t=>t==="start"?"left":t==="end"?"right":"center",It=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,$z=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function Hz(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,vScale:a,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=o.axis,{min:d,max:f,minDefined:p,maxDefined:_}=o.getUserBounds();if(p){if(i=Math.min(Is(l,c,d).lo,n?r:Is(e,c,o.getPixelForValue(d)).lo),u){const m=l.slice(0,i+1).reverse().findIndex(x=>!Se(x[a.axis]));i-=Math.max(0,m)}i=An(i,0,r-1)}if(_){let m=Math.max(Is(l,o.axis,f,!0).hi+1,n?0:Is(e,c,o.getPixelForValue(f),!0).hi+1);if(u){const x=l.slice(m-1).findIndex(v=>!Se(v[a.axis]));m+=Math.max(0,x)}s=An(m,i,r)-i}else s=r-i}return{start:i,count:s}}function Wz(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const jc=t=>t===0||t===1,Ux=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Wn/n)),jx=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Wn/n)+1,$l={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*jn)+1,easeOutSine:t=>Math.sin(t*jn),easeInOutSine:t=>-.5*(Math.cos(dt*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>jc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>jc(t)?t:Ux(t,.075,.3),easeOutElastic:t=>jc(t)?t:jx(t,.075,.3),easeInOutElastic(t){return jc(t)?t:t<.5?.5*Ux(t*2,.1125,.45):.5+.5*jx(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-$l.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?$l.easeInBounce(t*2)*.5:$l.easeOutBounce(t*2-1)*.5+.5};function f0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Bx(t){return f0(t)?t:new ku(t)}function Wp(t){return f0(t)?t:new ku(t).saturate(.5).darken(.1).hexString()}const qz=["x","y","borderWidth","radius","tension"],Gz=["color","borderColor","backgroundColor"];function Kz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Gz},numbers:{type:"number",properties:qz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Qz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $x=new Map;function Yz(t,e){e=e||{};const n=t+JSON.stringify(e);let r=$x.get(n);return r||(r=new Intl.NumberFormat(t,e),$x.set(n,r)),r}function fA(t,e,n){return Yz(e,n).format(t)}const Xz={values(t){return st(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=Jz(t,n)}const o=lA(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),fA(t,r,l)}};function Jz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var pA={formatters:Xz};function Zz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:pA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const qs=Object.create(null),Um=Object.create(null);function Hl(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];t=t[s]||(t[s]=Object.create(null))}return t}function qp(t,e,n){return typeof e=="string"?Cu(Hl(t,e),n):Cu(Hl(t,""),e)}class e9{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>Wp(i.backgroundColor),this.hoverBorderColor=(r,i)=>Wp(i.borderColor),this.hoverColor=(r,i)=>Wp(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return qp(this,e,n)}get(e){return Hl(this,e)}describe(e,n){return qp(Um,e,n)}override(e,n){return qp(qs,e,n)}route(e,n,r,i){const s=Hl(this,e),o=Hl(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[i];return pe(l)?Object.assign({},u,l):he(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Ye=new e9({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Kz,Qz,Zz]);function t9(t){return!t||Se(t.size)||Se(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Hx(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function ds(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Wx(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function jm(t,e,n,r){gA(t,e,n,r,null)}function gA(t,e,n,r,i){let s,o,a,l,u,c,d,f;const p=e.pointStyle,_=e.rotation,m=e.radius;let x=(_||0)*Az;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(x),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(n,r,i/2,m,0,0,Wn):t.arc(n,r,m,0,Wn),t.closePath();break;case"triangle":c=i?i/2:m,t.moveTo(n+Math.sin(x)*c,r-Math.cos(x)*m),x+=Lx,t.lineTo(n+Math.sin(x)*c,r-Math.cos(x)*m),x+=Lx,t.lineTo(n+Math.sin(x)*c,r-Math.cos(x)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,o=Math.cos(x+hs)*l,d=Math.cos(x+hs)*(i?i/2-u:l),a=Math.sin(x+hs)*l,f=Math.sin(x+hs)*(i?i/2-u:l),t.arc(n-d,r-a,u,x-dt,x-jn),t.arc(n+f,r-o,u,x-jn,x),t.arc(n+d,r+a,u,x,x+jn),t.arc(n-f,r+o,u,x+jn,x+dt),t.closePath();break;case"rect":if(!_){l=Math.SQRT1_2*m,c=i?i/2:l,t.rect(n-c,r-l,2*c,2*l);break}x+=hs;case"rectRot":d=Math.cos(x)*(i?i/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+f,r-o),t.lineTo(n+d,r+a),t.lineTo(n-f,r+o),t.closePath();break;case"crossRot":x+=hs;case"cross":d=Math.cos(x)*(i?i/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"star":d=Math.cos(x)*(i?i/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o),x+=hs,d=Math.cos(x)*(i?i/2:m),o=Math.cos(x)*m,a=Math.sin(x)*m,f=Math.sin(x)*(i?i/2:m),t.moveTo(n-d,r-a),t.lineTo(n+d,r+a),t.moveTo(n+f,r-o),t.lineTo(n-f,r+o);break;case"line":o=i?i/2:Math.cos(x)*m,a=Math.sin(x)*m,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(x)*(i?i/2:m),r+Math.sin(x)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Pu(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function xf(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Ef(t){t.restore()}function n9(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function r9(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function i9(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Se(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function s9(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,c),t.lineTo(a,c),t.stroke()}}function o9(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Ru(t,e,n,r,i,s={}){const o=st(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,i9(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&o9(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Se(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,r,s.maxWidth)),t.fillText(u,n,r,s.maxWidth),s9(t,n,r,u,s),r+=Number(i.lineHeight);t.restore()}function Bm(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*dt,dt,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,dt,jn,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,jn,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-jn,!0),t.lineTo(n+o.topLeft,r)}const a9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,l9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function u9(t,e){const n=(""+t).match(a9);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const c9=t=>+t||0;function mA(t,e){const n={},r=pe(e),i=r?Object.keys(e):e,s=pe(t)?r?o=>he(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)n[o]=c9(s(o));return n}function h9(t){return mA(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Wl(t){return mA(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Nn(t){const e=h9(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Rt(t,e){t=t||{},e=e||Ye.font;let n=he(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=he(t.style,e.style);r&&!(""+r).match(l9)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:he(t.family,e.family),lineHeight:u9(he(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:he(t.weight,e.weight),string:""};return i.string=t9(i),i}function Bc(t,e,n,r){let i,s,o;for(i=0,s=t.length;i<s;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function d9(t,e,n){const{min:r,max:i}=t,s=Ez(e,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function to(t,e){return Object.assign(Object.create(t),e)}function p0(t,e=[""],n,r,i=()=>t[0]){const s=n||t;typeof r>"u"&&(r=wA("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>p0([a,...t],e,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return yA(a,l,()=>w9(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return Gx(a).includes(l)},ownKeys(a){return Gx(a)},set(a,l,u){const c=a._storage||(a._storage=i());return a[l]=c[l]=u,delete a._keys,!0}})}function ma(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_A(t,r),setContext:s=>ma(t,s,n,r),override:s=>ma(t.override(s),e,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return yA(s,o,()=>p9(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function _A(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Xi(n)?n:()=>n,isIndexable:Xi(r)?r:()=>r}}const f9=(t,e)=>t?t+c0(e):e,g0=(t,e)=>pe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function yA(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function p9(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];return Xi(a)&&o.isScriptable(e)&&(a=g9(e,a,t,n)),st(a)&&a.length&&(a=m9(e,a,t,o.isIndexable)),g0(e,a)&&(a=ma(a,i,s&&s[e],o)),a}function g9(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);return a.delete(t),g0(t,l)&&(l=m0(i._scopes,i,t,l)),l}function m9(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(t))return e[s.index%e.length];if(pe(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const d=m0(u,i,t,c);e.push(ma(d,s,o&&o[t],a))}}return e}function vA(t,e,n){return Xi(t)?t(e,n):t}const _9=(t,e)=>t===!0?e:typeof t=="string"?Ad(e,t):void 0;function y9(t,e,n,r,i){for(const s of e){const o=_9(n,s);if(o){t.add(o);const a=vA(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function m0(t,e,n,r){const i=e._rootScopes,s=vA(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=qx(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=qx(a,o,s,l,r),l===null)?!1:p0(Array.from(a),[""],i,s,()=>v9(e,n,r))}function qx(t,e,n,r,i){for(;n;)n=y9(t,e,n,r,i);return n}function v9(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return st(i)&&pe(n)?n:i||{}}function w9(t,e,n,r){let i;for(const s of e)if(i=wA(f9(s,t),n),typeof i<"u")return g0(t,i)?m0(n,r,t,i):i}function wA(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function Gx(t){let e=t._keys;return e||(e=t._keys=x9(t._scopes)),e}function x9(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}const E9=Number.EPSILON||1e-14,_a=(t,e)=>e<t.length&&!t[e].skip&&t[e],xA=t=>t==="x"?"y":"x";function T9(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=zm(s,i),l=zm(o,s);let u=a/(a+l),c=l/(a+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const d=r*u,f=r*c;return{previous:{x:s.x-d*(o.x-i.x),y:s.y-d*(o.y-i.y)},next:{x:s.x+f*(o.x-i.x),y:s.y+f*(o.y-i.y)}}}function b9(t,e,n){const r=t.length;let i,s,o,a,l,u=_a(t,0);for(let c=0;c<r-1;++c)if(l=u,u=_a(t,c+1),!(!l||!u)){if(Bl(e[c],0,E9)){n[c]=n[c+1]=0;continue}i=n[c]/e[c],s=n[c+1]/e[c],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[c]=i*o*e[c],n[c+1]=s*o*e[c])}}function S9(t,e,n="x"){const r=xA(n),i=t.length;let s,o,a,l=_a(t,0);for(let u=0;u<i;++u){if(o=a,a=l,l=_a(t,u+1),!a)continue;const c=a[n],d=a[r];o&&(s=(c-o[n])/3,a[`cp1${n}`]=c-s,a[`cp1${r}`]=d-s*e[u]),l&&(s=(l[n]-c)/3,a[`cp2${n}`]=c+s,a[`cp2${r}`]=d+s*e[u])}}function I9(t,e="x"){const n=xA(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,u=_a(t,0);for(o=0;o<r;++o)if(a=l,l=u,u=_a(t,o+1),!!l){if(u){const c=u[e]-l[e];i[o]=c!==0?(u[n]-l[n])/c:0}s[o]=a?u?ga(i[o-1])!==ga(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}b9(t,i,s),S9(t,s,e)}function $c(t,e,n){return Math.max(Math.min(t,n),e)}function k9(t,e){let n,r,i,s,o,a=Pu(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&Pu(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=$c(i.cp1x,e.left,e.right),i.cp1y=$c(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=$c(i.cp2x,e.left,e.right),i.cp2y=$c(i.cp2y,e.top,e.bottom)))}function C9(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")I9(t,i);else{let u=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=T9(u,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&k9(t,n)}function _0(){return typeof window<"u"&&typeof document<"u"}function y0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Dd(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Tf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function A9(t,e){return Tf(t).getPropertyValue(e)}const P9=["top","right","bottom","left"];function Os(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=P9[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const R9=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function D9(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(R9(i,s,t.target))a=i,l=s;else{const u=e.getBoundingClientRect();a=r.clientX-u.left,l=r.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ys(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=Tf(n),s=i.boxSizing==="border-box",o=Os(i,"padding"),a=Os(i,"border","width"),{x:l,y:u,box:c}=D9(t,n),d=o.left+(c&&a.left),f=o.top+(c&&a.top);let{width:p,height:_}=e;return s&&(p-=o.width+a.width,_-=o.height+a.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((u-f)/_*n.height/r)}}function M9(t,e,n){let r,i;if(e===void 0||n===void 0){const s=t&&y0(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Tf(s),l=Os(a,"border","width"),u=Os(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,r=Dd(a.maxWidth,s,"clientWidth"),i=Dd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:r||Rd,maxHeight:i||Rd}}const xi=t=>Math.round(t*10)/10;function N9(t,e,n,r){const i=Tf(t),s=Os(i,"margin"),o=Dd(i.maxWidth,t,"clientWidth")||Rd,a=Dd(i.maxHeight,t,"clientHeight")||Rd,l=M9(t,e,n);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const f=Os(i,"border","width"),p=Os(i,"padding");u-=p.width+f.width,c-=p.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,r?u/r:c-s.height),u=xi(Math.min(u,o,l.maxWidth)),c=xi(Math.min(c,a,l.maxHeight)),u&&!c&&(c=xi(u/2)),(e!==void 0||n!==void 0)&&r&&l.height&&c>l.height&&(c=l.height,u=xi(Math.floor(c*r))),{width:u,height:c}}function Kx(t,e,n){const r=e||1,i=xi(t.height*r),s=xi(t.width*r);t.height=xi(t.height),t.width=xi(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const O9=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function Qx(t,e){const n=A9(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function vs(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function L9(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function V9(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=vs(t,i,n),a=vs(i,s,n),l=vs(s,e,n),u=vs(o,a,n),c=vs(a,l,n);return vs(u,c,n)}const F9=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},z9=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Wo(t,e,n){return t?F9(e,n):z9()}function EA(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function TA(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bA(t){return t==="angle"?{between:uA,compare:Lz,normalize:ir}:{between:Co,compare:(e,n)=>e-n,normalize:e=>e}}function Yx({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function U9(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=bA(r),l=e.length;let{start:u,end:c,loop:d}=t,f,p;if(d){for(u+=l,c+=l,f=0,p=l;f<p&&o(a(e[u%l][r]),i,s);++f)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:d,style:t.style}}function SA(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=bA(r),{start:c,end:d,loop:f,style:p}=U9(t,e,n),_=[];let m=!1,x=null,v,w,T;const A=()=>l(i,T,v)&&a(i,T)!==0,C=()=>a(s,v)===0||l(s,T,v),M=()=>m||A(),b=()=>!m||C();for(let E=c,S=c;E<=d;++E)w=e[E%o],!w.skip&&(v=u(w[r]),v!==T&&(m=l(v,i,s),x===null&&M()&&(x=a(v,i)===0?E:S),x!==null&&b()&&(_.push(Yx({start:x,end:E,loop:f,count:o,style:p})),x=null),S=E,T=v));return x!==null&&_.push(Yx({start:x,end:d,loop:f,count:o,style:p})),_}function IA(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=SA(r[i],t.points,e);s.length&&n.push(...s)}return n}function j9(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function B9(t,e,n,r){const i=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%i];u.skip||u.stop?a.skip||(r=!1,s.push({start:e%i,end:(l-1)%i,loop:r}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%i,end:o%i,loop:r}),s}function $9(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=j9(n,i,s,r);if(r===!0)return Xx(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+i:a,u=!!t._fullLoop&&o===0&&a===i-1;return Xx(t,B9(n,o,l,u),n,e)}function Xx(t,e,n,r){return!r||!r.setContext||!n?e:H9(t,e,n,r)}function H9(t,e,n,r){const i=t._chart.getContext(),s=Jx(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let c=s,d=e[0].start,f=d;function p(_,m,x,v){const w=a?-1:1;if(_!==m){for(_+=l;n[_%l].skip;)_-=w;for(;n[m%l].skip;)m+=w;_%l!==m%l&&(u.push({start:_%l,end:m%l,loop:x,style:v}),c=v,d=m%l)}}for(const _ of e){d=a?d:_.start;let m=n[d%l],x;for(f=d+1;f<=_.end;f++){const v=n[f%l];x=Jx(r.setContext(to(i,{type:"segment",p0:m,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),W9(x,c)&&p(d,f-1,_.loop,c),m=v,c=x}d<f-1&&p(d,f-1,_.loop,c)}return u}function Jx(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function W9(t,e){if(!e)return!1;const n=[],r=function(i,s){return f0(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,r)!==JSON.stringify(e,r)}function Hc(t,e,n){return t.options.clip?t[n]:e[n]}function q9(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:Hc(n,e,"left"),right:Hc(n,e,"right"),top:Hc(r,e,"top"),bottom:Hc(r,e,"bottom")}:e}function kA(t,e){const n=e._clip;if(n.disabled)return!1;const r=q9(e,t.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?t.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?t.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class G9{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=hA.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var xr=new G9;const Zx="transparent",K9={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=Bx(t||Zx),i=r.valid&&Bx(e||Zx);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Q9{constructor(e,n,r,i){const s=n[r];i=Bc([e.to,i,s,e.from]);const o=Bc([e.from,s,i]);this._active=!0,this._fn=e.fn||K9[e.type||typeof o],this._easing=$l[e.easing]||$l.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Bc([e.to,n,i,e.from]),this._from=Bc([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class CA{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!pe(e))return;const n=Object.keys(Ye.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!pe(s))return;const o={};for(const a of n)o[a]=s[a];(st(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,n){const r=n.options,i=X9(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Y9(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,n){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,n));continue}const c=n[u];let d=s[u];const f=r.get(u);if(d)if(f&&d.active()){d.update(f,c,a);continue}else d.cancel();if(!f||!f.duration){e[u]=c;continue}s[u]=d=new Q9(f,e,u,c),i.push(d)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return xr.add(this._chart,r),!0}}function Y9(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=t[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function X9(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function eE(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function J9(t,e,n){if(n===!1)return!1;const r=eE(t,n),i=eE(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Z9(t){let e,n,r,i;return pe(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function AA(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function tE(t,e,n,r={}){const i=t.keys,s=r.mode==="single";let o,a,l,u;if(e===null)return;let c=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(c=!0,r.all)continue;break}u=t.values[l],Lt(u)&&(s||e===0||ga(e)===ga(u))&&(e+=u)}return!c&&!r.all?0:e}function eU(t,e){const{iScale:n,vScale:r}=e,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,c;for(l=0,u=o.length;l<u;++l)c=o[l],a[l]={[i]:c,[s]:t[c]};return a}function Gp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function tU(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function nU(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function rU(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function nE(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=t[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function rE(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,u=o.axis,c=tU(s,o,r),d=e.length;let f;for(let p=0;p<d;++p){const _=e[p],{[l]:m,[u]:x}=_,v=_._stacks||(_._stacks={});f=v[u]=rU(i,c,m),f[a]=x,f._top=nE(f,o,!0,r.type),f._bottom=nE(f,o,!1,r.type);const w=f._visualValues||(f._visualValues={});w[a]=x}}function Kp(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function iU(t,e){return to(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function sU(t,e,n){return to(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function sl(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const Qp=t=>t==="reset"||t==="none",iE=(t,e)=>e?t:Object.assign({},t),oU=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:AA(n,!0),values:null};class ql{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Gp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&sl(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(d,f,p,_)=>d==="x"?f:d==="r"?_:p,s=n.xAxisID=he(r.xAxisID,Kp(e,"x")),o=n.yAxisID=he(r.yAxisID,Kp(e,"y")),a=n.rAxisID=he(r.rAxisID,Kp(e,"r")),l=n.indexAxis,u=n.iAxisID=i(l,s,o,a),c=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&zx(this._data,this),e._stacked&&sl(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(pe(n)){const i=this._cachedMeta;this._data=eU(n,i)}else if(r!==n){if(r){zx(r,this);const i=this._cachedMeta;sl(i),i._parsed=[]}n&&Object.isExtensible(n)&&Uz(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=Gp(n.vScale,n),n.stack!==r.stack&&(i=!0,sl(n),n.stack=r.stack),this._resyncElements(e),(i||s!==n._stacked)&&(rE(this,n._parsed),n._stacked=Gp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=e===0&&n===i.length?!0:r._sorted,u=e>0&&r._parsed[e-1],c,d,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{st(i[e])?f=this.parseArrayData(r,i,e,n):pe(i[e])?f=this.parseObjectData(r,i,e,n):f=this.parsePrimitiveData(r,i,e,n);const p=()=>d[a]===null||u&&d[a]<u[a];for(c=0;c<n;++c)r._parsed[c+e]=d=f[c],l&&(p()&&(l=!1),u=d);r._sorted=l}o&&rE(this,f)}parsePrimitiveData(e,n,r,i){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),c=s===o,d=new Array(i);let f,p,_;for(f=0,p=i;f<p;++f)_=f+r,d[f]={[a]:c||s.parse(u[_],_),[l]:o.parse(n[_],_)};return d}parseArrayData(e,n,r,i){const{xScale:s,yScale:o}=e,a=new Array(i);let l,u,c,d;for(l=0,u=i;l<u;++l)c=l+r,d=n[c],a[l]={x:s.parse(d[0],c),y:o.parse(d[1],c)};return a}parseObjectData(e,n,r,i){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,d,f,p;for(c=0,d=i;c<d;++c)f=c+r,p=n[f],u[c]={x:s.parse(Ad(p,a),f),y:o.parse(Ad(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:AA(i,!0),values:n._stacks[e.axis]._visualValues};return tE(a,o,s.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=tE(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,o=i.length,a=this._getOtherScale(e),l=oU(n,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=nU(a);let f,p;function _(){p=i[f];const m=p[a.axis];return!Lt(p[e.axis])||c>m||d<m}for(f=0;f<o&&!(!_()&&(this.updateRangeFromParsed(u,e,p,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!_()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][e.axis],Lt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=Z9(he(this.options.clip,J9(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,u=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,a,l),c=a;c<a+l;++c){const d=i[c];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(c=0;c<o.length;++c)o[c].draw(e,s)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=sU(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=iU(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&Pd(r);if(a)return iE(a,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),c),p=Object.keys(Ye.elements[e]),_=()=>this.getContext(r,i,n),m=u.resolveNamedOptions(f,p,_,d);return m.$shared&&(m.$shared=l,s[o]=Object.freeze(iE(m,l))),m}_resolveAnimations(e,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const c=this.chart.config,d=c.datasetAnimationScopeKeys(this._type,n),f=c.getOptionScopes(this.getDataset(),d);l=c.createResolver(f,this.getContext(e,r,n))}const u=new CA(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||Qp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(e,n,r,i){Qp(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!Qp(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,n,r=!0){const i=this._cachedMeta,s=i.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,n),r&&this.updateElements(s,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&sl(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}re(ql,"defaults",{}),re(ql,"datasetElementType",null),re(ql,"dataElementType",null);class Sh extends ql{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Hz(n,i,o);this._drawStart=a,this._drawCount=l,Wz(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:u},e),this.updateElements(i,a,l,e)}updateElements(e,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(n,i),f=o.axis,p=a.axis,{spanGaps:_,segment:m}=this.options,x=Au(_)?_:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",w=n+r,T=e.length;let A=n>0&&this.getParsed(n-1);for(let C=0;C<T;++C){const M=e[C],b=v?M:{};if(C<n||C>=w){b.skip=!0;continue}const E=this.getParsed(C),S=Se(E[p]),k=b[f]=o.getPixelForValue(E[f],C),R=b[p]=s||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],C);b.skip=isNaN(k)||isNaN(R)||S,b.stop=C>0&&Math.abs(E[f]-A[f])>x,m&&(b.parsed=E,b.raw=u.data[C]),d&&(b.options=c||this.resolveDataElementOptions(C,M.active?"active":i)),v||this.updateElement(M,C,b,i),A=E}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}re(Sh,"id","line"),re(Sh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),re(Sh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function fs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class v0{constructor(e){re(this,"options");this.options=e||{}}static override(e){Object.assign(v0.prototype,e)}init(){}formats(){return fs()}parse(){return fs()}format(){return fs()}add(){return fs()}diff(){return fs()}startOf(){return fs()}endOf(){return fs()}}var aU={_date:v0};function lU(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const u=a._reversePixels?Fz:Is;if(r){if(i._sharedOptions){const c=s[0],d=typeof c.getRange=="function"&&c.getRange(e);if(d){const f=u(s,e,n-d),p=u(s,e,n+d);return{lo:f.lo,hi:p.hi}}}}else{const c=u(s,e,n);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,c.lo+1).reverse().findIndex(m=>!Se(m[d.axis]));c.lo-=Math.max(0,p);const _=f.slice(c.hi).findIndex(m=>!Se(m[d.axis]));c.hi+=Math.max(0,_)}return c}}return{lo:0,hi:s.length-1}}function bf(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:c}=s[a],{lo:d,hi:f}=lU(s[a],e,o,i);for(let p=d;p<=f;++p){const _=c[p];_.skip||r(_,u,p)}}}function uU(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Yp(t,e,n,r,i){const s=[];return!i&&!t.isPointInArea(e)||bf(t,n,e,function(a,l,u){!i&&!Pu(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function cU(t,e,n,r){let i=[];function s(o,a,l){const{startAngle:u,endAngle:c}=o.getProps(["startAngle","endAngle"],r),{angle:d}=Oz(o,{x:e.x,y:e.y});uA(d,u,c)&&i.push({element:o,datasetIndex:a,index:l})}return bf(t,n,e,s),i}function hU(t,e,n,r,i,s){let o=[];const a=uU(n);let l=Number.POSITIVE_INFINITY;function u(c,d,f){const p=c.inRange(e.x,e.y,i);if(r&&!p)return;const _=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(_))&&!p)return;const x=a(e,_);x<l?(o=[{element:c,datasetIndex:d,index:f}],l=x):x===l&&o.push({element:c,datasetIndex:d,index:f})}return bf(t,n,e,u),o}function Xp(t,e,n,r,i,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!r?cU(t,e,n,i):hU(t,e,n,r,i,s)}function sE(t,e,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return bf(t,n,e,(l,u,c)=>{l[o]&&l[o](e[n],i)&&(s.push({element:l,datasetIndex:u,index:c}),a=a||l.inRange(e.x,e.y,i))}),r&&!a?[]:s}var dU={modes:{index(t,e,n,r){const i=ys(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Yp(t,i,s,r,o):Xp(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=a[0].index,d=u.data[c];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,n,r){const i=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Yp(t,i,s,r,o):Xp(t,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:l,index:c})}return a},point(t,e,n,r){const i=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Yp(t,i,s,r,o)},nearest(t,e,n,r){const i=ys(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Xp(t,i,s,n.intersect,r,o)},x(t,e,n,r){const i=ys(e,t);return sE(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=ys(e,t);return sE(t,i,"y",n.intersect,r)}}};const PA=["left","top","right","bottom"];function ol(t,e){return t.filter(n=>n.pos===e)}function oE(t,e){return t.filter(n=>PA.indexOf(n.pos)===-1&&n.box.axis===e)}function al(t,e){return t.sort((n,r)=>{const i=e?r:n,s=e?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function fU(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}function pU(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!PA.includes(i))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function gU(t,e){const n=pU(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],c=u&&a.stackWeight/u.weight;a.horizontal?(a.width=c?c*r:l&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:l&&e.availableHeight)}return n}function mU(t){const e=fU(t),n=al(e.filter(u=>u.box.fullSize),!0),r=al(ol(e,"left"),!0),i=al(ol(e,"right")),s=al(ol(e,"top"),!0),o=al(ol(e,"bottom")),a=oE(e,"x"),l=oE(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:ol(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function aE(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function RA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function _U(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!pe(i)){n.size&&(t[i]-=n.size);const d=r[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[i]+=n.size}s.getPadding&&RA(o,s.getPadding());const a=Math.max(0,e.outerWidth-aE(o,t,"left","right")),l=Math.max(0,e.outerHeight-aE(o,t,"top","bottom")),u=a!==t.w,c=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:c}:{same:c,other:u}}function yU(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function vU(t,e){const n=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return r(t?["left","right"]:["top","bottom"])}function xl(t,e,n,r){const i=[];let s,o,a,l,u,c;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,vU(a.horizontal,e));const{same:d,other:f}=_U(e,n,a,r);u|=d&&i.length,c=c||f,l.fullSize||i.push(a)}return u&&xl(i,e,n,r)||c}function Wc(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function lE(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=r[a.stack]||{placed:0,weight:1},c=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*c,f=u.size||l.height;Pd(u.start)&&(o=u.start),l.fullSize?Wc(l,i.left,o,n.outerWidth-i.right-i.left,f):Wc(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*c,f=u.size||l.width;Pd(u.start)&&(s=u.start),l.fullSize?Wc(l,s,i.top,f,n.outerHeight-i.bottom-i.top):Wc(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var Pn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Nn(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=mU(t.boxes),l=a.vertical,u=a.horizontal;ye(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const c=l.reduce((m,x)=>x.box.options&&x.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/c,hBoxMaxHeight:o/2}),f=Object.assign({},i);RA(f,Nn(r));const p=Object.assign({maxPadding:f,w:s,h:o,x:i.left,y:i.top},i),_=gU(l.concat(u),d);xl(a.fullSize,p,d,_),xl(l,p,d,_),xl(u,p,d,_)&&xl(l,p,d,_),yU(p),lE(a.leftAndTop,p,d,_),p.x+=p.w,p.y+=p.h,lE(a.rightAndBottom,p,d,_),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},ye(a.chartArea,m=>{const x=m.box;Object.assign(x,t.chartArea),x.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class DA{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class wU extends DA{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ih="$chartjs",xU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uE=t=>t===null||t==="";function EU(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Ih]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",uE(i)){const s=Qx(t,"width");s!==void 0&&(t.width=s)}if(uE(r))if(t.style.height==="")t.height=t.width/(e||2);else{const s=Qx(t,"height");s!==void 0&&(t.height=s)}return t}const MA=O9?{passive:!0}:!1;function TU(t,e,n){t&&t.addEventListener(e,n,MA)}function bU(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,MA)}function SU(t,e){const n=xU[t.type]||t.type,{x:r,y:i}=ys(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Md(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function IU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Md(a.addedNodes,r),o=o&&!Md(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function kU(t,e,n){const r=t.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||Md(a.removedNodes,r),o=o&&!Md(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Du=new Map;let cE=0;function NA(){const t=window.devicePixelRatio;t!==cE&&(cE=t,Du.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function CU(t,e){Du.size||window.addEventListener("resize",NA),Du.set(t,e)}function AU(t){Du.delete(t),Du.size||window.removeEventListener("resize",NA)}function PU(t,e,n){const r=t.canvas,i=r&&y0(r);if(!i)return;const s=dA((a,l)=>{const u=i.clientWidth;n(a,l),u<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return o.observe(i),CU(t,s),o}function Jp(t,e,n){n&&n.disconnect(),e==="resize"&&AU(t)}function RU(t,e,n){const r=t.canvas,i=dA(s=>{t.ctx!==null&&n(SU(s,t))},t);return TU(r,e,i),i}class DU extends DA{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(EU(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Ih])return!1;const r=n[Ih].initial;["height","width"].forEach(s=>{const o=r[s];Se(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[Ih],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),o={attach:IU,detach:kU,resize:PU}[n]||RU;i[n]=o(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:Jp,detach:Jp,resize:Jp}[n]||bU)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return N9(e,n,r,i)}isAttached(e){const n=e&&y0(e);return!!(n&&n.isConnected)}}function MU(t){return!_0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wU:DU}class Gr{constructor(){re(this,"x");re(this,"y");re(this,"active",!1);re(this,"options");re(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Au(this.x)&&Au(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}}re(Gr,"defaults",{}),re(Gr,"defaultRoutes");function NU(t,e){const n=t.options.ticks,r=OU(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?VU(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>i)return FU(e,u,s,o/i),u;const c=LU(s,e,i);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(qc(e,u,c,Se(p)?0:a-p,a),d=0,f=o-1;d<f;d++)qc(e,u,c,s[d],s[d+1]);return qc(e,u,c,l,Se(p)?e.length:l+p),u}return qc(e,u,c),u}function OU(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function LU(t,e,n){const r=zU(t),i=e.length/n;if(!r)return Math.max(i,1);const s=Pz(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function VU(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function FU(t,e,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<t.length;o++)o===s&&(e.push(t[o]),i++,s=n[i*r])}function qc(t,e,n,r,i){const s=he(r,0),o=Math.min(he(i,t.length),t.length);let a=0,l,u,c;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),c=s;c<0;)a++,c=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===c&&(e.push(t[u]),a++,c=Math.round(s+a*n))}function zU(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const UU=t=>t==="left"?"right":t==="right"?"left":t,hE=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,dE=(t,e)=>Math.min(e||t,t);function fE(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function jU(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),u;if(!(n&&(r===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-a||l>o+a)))return l}function BU(t,e){ye(t,n=>{const r=n.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function ll(t){return t.drawTicks?t.tickLength:0}function pE(t,e){if(!t.display)return 0;const n=Rt(t.font,e),r=Nn(t.padding);return(st(t.text)?t.text.length:1)*n.lineHeight+r.height}function $U(t,e){return to(t,{scale:e,type:"scale"})}function HU(t,e,n){return to(t,{tick:n,index:e,type:"tick"})}function WU(t,e,n){let r=d0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=UU(r)),r}function qU(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:c}=l;let d=0,f,p,_;const m=o-i,x=a-s;if(t.isHorizontal()){if(p=It(r,s,a),pe(n)){const v=Object.keys(n)[0],w=n[v];_=c[v].getPixelForValue(w)+m-e}else n==="center"?_=(u.bottom+u.top)/2+m-e:_=hE(t,n,e);f=a-s}else{if(pe(n)){const v=Object.keys(n)[0],w=n[v];p=c[v].getPixelForValue(w)-x+e}else n==="center"?p=(u.left+u.right)/2-x+e:p=hE(t,n,e);_=It(r,o,i),d=n==="left"?-jn:jn}return{titleX:p,titleY:_,maxWidth:f,rotation:d}}class Ra extends Gr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=Jn(e,Number.POSITIVE_INFINITY),n=Jn(n,Number.NEGATIVE_INFINITY),r=Jn(r,Number.POSITIVE_INFINITY),i=Jn(i,Number.NEGATIVE_INFINITY),{min:Jn(e,r),max:Jn(n,i),minDefined:Lt(e),maxDefined:Lt(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:Jn(n,Jn(r,n)),max:Jn(r,Jn(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ce(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=d9(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?fE(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=NU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ce(this.options.afterUpdate,[this])}beforeSetDimensions(){Ce(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ce(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ce(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ce(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=Ce(n.callback,[s.value,r,e],this)}afterTickToLabelConversion(){Ce(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ce(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=dE(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,u;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),d=c.widest.width,f=c.highest.height,p=An(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-ll(e.grid)-n.padding-pE(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=Nz(Math.min(Math.asin(An((c.highest.height+6)/a,-1,1)),Math.asin(An(l/u,-1,1))-Math.asin(An(f/u,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ce(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ce(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=pE(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=ll(s)+l):(e.height=this.maxHeight,e.width=ll(s)+l),r.display&&this.ticks.length){const{first:u,last:c,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,_=Ss(this.labelRotation),m=Math.cos(_),x=Math.sin(_);if(a){const v=r.mirror?0:x*d.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+v+p)}else{const v=r.mirror?0:m*d.width+x*f.height;e.width=Math.min(this.maxWidth,e.width+v+p)}this._calculatePadding(u,c,x,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=i*e.width,p=r*n.height):(f=r*e.height,p=i*n.width):s==="start"?p=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=n.width/2),this.paddingLeft=Math.max((f-c+o)*this.width/(this.width-c),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let c=n.height/2,d=e.height/2;s==="start"?(c=0,d=e.height):s==="end"&&(c=n.height,d=0),this.paddingTop=c+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ce(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Se(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=fE(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/dE(n,r));let u=0,c=0,d,f,p,_,m,x,v,w,T,A,C;for(d=0;d<n;d+=l){if(_=e[d].label,m=this._resolveTickFontOptions(d),i.font=x=m.string,v=s[x]=s[x]||{data:{},gc:[]},w=m.lineHeight,T=A=0,!Se(_)&&!st(_))T=Hx(i,v.data,v.gc,T,_),A=w;else if(st(_))for(f=0,p=_.length;f<p;++f)C=_[f],!Se(C)&&!st(C)&&(T=Hx(i,v.data,v.gc,T,C),A+=w);o.push(T),a.push(A),u=Math.max(T,u),c=Math.max(A,c)}BU(s,n);const M=o.indexOf(u),b=a.indexOf(c),E=S=>({width:o[S]||0,height:a[S]||0});return{first:E(0),last:E(n-1),widest:E(M),highest:E(b),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return Vz(this._alignToPixels?ds(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=HU(this.getContext(),e,r))}return this.$context||(this.$context=$U(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Ss(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=ll(s),p=[],_=a.setContext(this.getContext()),m=_.display?_.width:0,x=m/2,v=function(ee){return ds(r,ee,m)};let w,T,A,C,M,b,E,S,k,R,D,P;if(o==="top")w=v(this.bottom),b=this.bottom-f,S=w-x,R=v(e.top)+x,P=e.bottom;else if(o==="bottom")w=v(this.top),R=e.top,P=v(e.bottom)-x,b=w+x,S=this.top+f;else if(o==="left")w=v(this.right),M=this.right-f,E=w-x,k=v(e.left)+x,D=e.right;else if(o==="right")w=v(this.left),k=e.left,D=v(e.right)-x,M=w+x,E=this.left+f;else if(n==="x"){if(o==="center")w=v((e.top+e.bottom)/2+.5);else if(pe(o)){const ee=Object.keys(o)[0],ie=o[ee];w=v(this.chart.scales[ee].getPixelForValue(ie))}R=e.top,P=e.bottom,b=w+x,S=b+f}else if(n==="y"){if(o==="center")w=v((e.left+e.right)/2);else if(pe(o)){const ee=Object.keys(o)[0],ie=o[ee];w=v(this.chart.scales[ee].getPixelForValue(ie))}M=w-x,E=M-f,k=e.left,D=e.right}const J=he(i.ticks.maxTicksLimit,d),Q=Math.max(1,Math.ceil(d/J));for(T=0;T<d;T+=Q){const ee=this.getContext(T),ie=s.setContext(ee),j=a.setContext(ee),q=ie.lineWidth,K=ie.color,ce=j.dash||[],oe=j.dashOffset,xt=ie.tickWidth,me=ie.tickColor,We=ie.tickBorderDash||[],nt=ie.tickBorderDashOffset;A=jU(this,T,l),A!==void 0&&(C=ds(r,A,q),u?M=E=k=D=C:b=S=R=P=C,p.push({tx1:M,ty1:b,tx2:E,ty2:S,x1:k,y1:R,x2:D,y2:P,width:q,color:K,borderDash:ce,borderDashOffset:oe,tickWidth:xt,tickColor:me,tickBorderDash:We,tickBorderDashOffset:nt}))}return this._ticksLength=d,this._borderValue=w,p}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:c,mirror:d}=s,f=ll(r.grid),p=f+c,_=d?-c:p,m=-Ss(this.labelRotation),x=[];let v,w,T,A,C,M,b,E,S,k,R,D,P="middle";if(i==="top")M=this.bottom-_,b=this._getXAxisLabelAlignment();else if(i==="bottom")M=this.top+_,b=this._getXAxisLabelAlignment();else if(i==="left"){const Q=this._getYAxisLabelAlignment(f);b=Q.textAlign,C=Q.x}else if(i==="right"){const Q=this._getYAxisLabelAlignment(f);b=Q.textAlign,C=Q.x}else if(n==="x"){if(i==="center")M=(e.top+e.bottom)/2+p;else if(pe(i)){const Q=Object.keys(i)[0],ee=i[Q];M=this.chart.scales[Q].getPixelForValue(ee)+p}b=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")C=(e.left+e.right)/2-p;else if(pe(i)){const Q=Object.keys(i)[0],ee=i[Q];C=this.chart.scales[Q].getPixelForValue(ee)}b=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const J=this._getLabelSizes();for(v=0,w=a.length;v<w;++v){T=a[v],A=T.label;const Q=s.setContext(this.getContext(v));E=this.getPixelForTick(v)+s.labelOffset,S=this._resolveTickFontOptions(v),k=S.lineHeight,R=st(A)?A.length:1;const ee=R/2,ie=Q.color,j=Q.textStrokeColor,q=Q.textStrokeWidth;let K=b;o?(C=E,b==="inner"&&(v===w-1?K=this.options.reverse?"left":"right":v===0?K=this.options.reverse?"right":"left":K="center"),i==="top"?u==="near"||m!==0?D=-R*k+k/2:u==="center"?D=-J.highest.height/2-ee*k+k:D=-J.highest.height+k/2:u==="near"||m!==0?D=k/2:u==="center"?D=J.highest.height/2-ee*k:D=J.highest.height-R*k,d&&(D*=-1),m!==0&&!Q.showLabelBackdrop&&(C+=k/2*Math.sin(m))):(M=E,D=(1-R)*k/2);let ce;if(Q.showLabelBackdrop){const oe=Nn(Q.backdropPadding),xt=J.heights[v],me=J.widths[v];let We=D-oe.top,nt=0-oe.left;switch(P){case"middle":We-=xt/2;break;case"bottom":We-=xt;break}switch(b){case"center":nt-=me/2;break;case"right":nt-=me;break;case"inner":v===w-1?nt-=me:v>0&&(nt-=me/2);break}ce={left:nt,top:We,width:me+oe.width,height:xt+oe.height,color:Q.backdropColor}}x.push({label:A,font:S,textOffset:D,options:{rotation:m,color:ie,strokeColor:j,strokeWidth:q,textAlign:K,textBaseline:P,translation:[C,M],backdrop:ce}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Ss(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,c;return n==="left"?i?(c=this.right+s,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-a,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c=this.left)):n==="right"?i?(c=this.left+s,r==="near"?u="right":r==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+a,r==="near"?u="left":r==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(u.x,u.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,d,f;this.isHorizontal()?(u=ds(e,this.left,o)-o/2,c=ds(e,this.right,a)+a/2,d=f=l):(d=ds(e,this.top,o)-o/2,f=ds(e,this.bottom,a)+a/2,u=c=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(c,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&xf(r,i);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,c=o.textOffset;Ru(r,u,0,c,l,a)}i&&Ef(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=Rt(r.font),o=Nn(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||pe(n)?(l+=o.bottom,st(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:u,titleY:c,maxWidth:d,rotation:f}=qU(this,l,n,a);Ru(e,r.text,0,0,s,{color:r.color,maxWidth:d,rotation:f,textAlign:WU(a,n,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=he(e.grid&&e.grid.z,-1),i=he(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ra.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Rt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Gc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;QU(n)&&(r=this.register(n));const i=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,GU(e,o,r),this.override&&Ye.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in Ye[i]&&(delete Ye[i][r],this.override&&delete qs[r])}}function GU(t,e,n){const r=Cu(Object.create(null),[n?Ye.get(n):{},Ye.get(e),t.defaults]);Ye.set(e,r),t.defaultRoutes&&KU(e,t.defaultRoutes),t.descriptors&&Ye.describe(e,t.descriptors)}function KU(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ye.route(s,i,l,a)})}function QU(t){return"id"in t&&"defaults"in t}class YU{constructor(){this.controllers=new Gc(ql,"datasets",!0),this.elements=new Gc(Gr,"elements"),this.plugins=new Gc(Object,"plugins"),this.scales=new Gc(Ra,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):ye(i,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,r){const i=c0(e);Ce(r["before"+i],[],r),n[e](r),Ce(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var tr=new YU;class XU{constructor(){this._init=void 0}notify(e,n,r,i){if(n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const s=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(s,e,n,r);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,n,r,i){i=i||{};for(const s of e){const o=s.plugin,a=o[r],l=[n,i,s.options];if(Ce(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=he(r.options&&r.options.plugins,{}),s=JU(r);return i===!1&&!n?[]:ej(e,s,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function JU(t){const e={},n=[],r=Object.keys(tr.plugins.items);for(let s=0;s<r.length;s++)n.push(tr.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function ZU(t,e){return!e&&t===!1?null:t===!0?{}:t}function ej(t,{plugins:e,localIds:n},r,i){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=ZU(r[l],i);u!==null&&s.push({plugin:a,options:tj(t.config,{plugin:a,local:n[l]},u,o)})}return s}function tj(t,{plugin:e,local:n},r,i){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(r,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $m(t,e){const n=Ye.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function nj(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function rj(t,e){return t===e?"_index_":"_value_"}function gE(t){if(t==="x"||t==="y"||t==="r")return t}function ij(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Hm(t,...e){if(gE(t))return t;for(const n of e){const r=n.axis||ij(n.position)||t.length>1&&gE(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function mE(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function sj(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return mE(t,"x",n[0])||mE(t,"y",n[0])}return{}}function oj(t,e){const n=qs[t.type]||{scales:{}},r=e.scales||{},i=$m(t.type,e),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!pe(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Hm(o,a,sj(o,t),Ye.scales[a.type]),u=rj(l,i),c=n.scales||{};s[o]=jl(Object.create(null),[{axis:l},a,c[l],c[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||$m(a,e),c=(qs[a]||{}).scales||{};Object.keys(c).forEach(d=>{const f=nj(d,l),p=o[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),jl(s[p],[{axis:f},r[p],c[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];jl(a,[Ye.scales[a.type],Ye.scale])}),s}function OA(t){const e=t.options||(t.options={});e.plugins=he(e.plugins,{}),e.scales=oj(t,e)}function LA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function aj(t){return t=t||{},t.data=LA(t.data),OA(t),t}const _E=new Map,VA=new Set;function Kc(t,e){let n=_E.get(t);return n||(n=e(),_E.set(t,n),VA.add(n)),n}const ul=(t,e,n)=>{const r=Ad(e,n);r!==void 0&&t.add(r)};class lj{constructor(e){this._config=aj(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Kc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Kc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Kc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return Kc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:s}=this,o=this._cachedScopes(e,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(c=>{e&&(l.add(e),c.forEach(d=>ul(l,e,d))),c.forEach(d=>ul(l,i,d)),c.forEach(d=>ul(l,qs[s]||{},d)),c.forEach(d=>ul(l,Ye,d)),c.forEach(d=>ul(l,Um,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),VA.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,qs[n]||{},Ye.datasets[n]||{},{type:n},Ye,Um]}resolveNamedOptions(e,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=yE(this._resolverCache,e,i);let l=o;if(cj(o,n)){s.$shared=!1,r=Xi(r)?r():r;const u=this.createResolver(e,r,a);l=ma(o,r,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,r=[""],i){const{resolver:s}=yE(this._resolverCache,e,r);return pe(n)?ma(s,n,void 0,i):s}}function yE(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);return s||(s={resolver:p0(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const uj=t=>pe(t)&&Object.getOwnPropertyNames(t).some(e=>Xi(t[e]));function cj(t,e){const{isScriptable:n,isIndexable:r}=_A(t);for(const i of e){const s=n(i),o=r(i),a=(o||s)&&t[i];if(s&&(Xi(a)||uj(a))||o&&st(a))return!0}return!1}var hj="4.5.1";const dj=["top","bottom","left","right","chartArea"];function vE(t,e){return t==="top"||t==="bottom"||dj.indexOf(t)===-1&&e==="x"}function wE(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function xE(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ce(n&&n.onComplete,[t],e)}function fj(t){const e=t.chart,n=e.options.animation;Ce(n&&n.onProgress,[t],e)}function FA(t){return _0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const kh={},EE=t=>{const e=FA(t);return Object.values(kh).filter(n=>n.canvas===e).pop()};function pj(t,e,n){const r=Object.keys(t);for(const i of r){const s=+i;if(s>=e){const o=t[i];delete t[i],(n>0||s>e)&&(t[s+n]=o)}}}function gj(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}var si;let Sf=(si=class{static register(...e){tr.add(...e),TE()}static unregister(...e){tr.remove(...e),TE()}constructor(e,n){const r=this.config=new lj(n),i=FA(e),s=EE(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||MU(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,c=l&&l.width;if(this.id=xz(),this.ctx=a,this.canvas=l,this.width=c,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Bz(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],kh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}xr.listen(this,"complete",xE),xr.listen(this,"progress",fj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return Se(e)?n&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return tr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kx(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Wx(this.canvas,this.ctx),this}stop(){return xr.stop(this),this}resize(e,n){xr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kx(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ce(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};ye(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Hm(o,a),u=l==="r",c=l==="x";return{options:a,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),ye(s,o=>{const a=o.options,l=a.id,u=Hm(l,a),c=he(a.type,o.dtype);(a.position===void 0||vE(a.position,u)!==vE(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in r&&r[l].type===c)d=r[l];else{const f=tr.getScale(c);d=new f({id:l,type:c,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),ye(i,(o,a)=>{o||delete r[a]}),ye(r,o=>{Pn.configure(this,o,o.options),Pn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(wE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||$m(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=tr.getController(a),{datasetElementType:u,dataElementType:c}=Ye.datasets[a];Object.assign(l,{dataElementType:tr.getElement(c),datasetElementType:u&&tr.getElement(u)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){ye(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:d}=this.getDatasetMeta(u),f=!i&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||ye(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(wE("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ye(this.scales,e=>{Pn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Ox(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;pj(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!Ox(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],ye(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Xi(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(xr.has(this)?this.attached&&!xr.running(this)&&xr.start(this):(this.draw(),xE({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r={meta:e,index:e.index,cancelable:!0},i=kA(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&xf(n,i),e.controller.draw(),i&&Ef(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Pu(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const s=dU.modes[n];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=to(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,i);Pd(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),xr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Wx(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ye(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){ye(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},ye(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!kd(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(d=>c.datasetIndex===d.datasetIndex&&c.index===d.index)),o=s(n,e),a=r?e:s(e,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(e,i,r,o),l=kz(e),u=gj(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Ce(s.onHover,[e,a,this],this),l&&Ce(s.onClick,[e,a,this],this));const c=!kd(a,i);return(c||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=u,c}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},re(si,"defaults",Ye),re(si,"instances",kh),re(si,"overrides",qs),re(si,"registry",tr),re(si,"version",hj),re(si,"getChart",EE),si);function TE(){return ye(Sf.instances,t=>t._plugins.invalidate())}function zA(t,e,n=e){t.lineCap=he(n.borderCapStyle,e.borderCapStyle),t.setLineDash(he(n.borderDash,e.borderDash)),t.lineDashOffset=he(n.borderDashOffset,e.borderDashOffset),t.lineJoin=he(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=he(n.borderWidth,e.borderWidth),t.strokeStyle=he(n.borderColor,e.borderColor)}function mj(t,e,n){t.lineTo(n.x,n.y)}function _j(t){return t.stepped?n9:t.tension||t.cubicInterpolationMode==="monotone"?r9:mj}function UA(t,e,n={}){const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),u=Math.min(s,a),c=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:u<l&&!c?r+u-l:u-l}}function yj(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:u}=UA(i,n,r),c=_j(s);let{move:d=!0,reverse:f}=r||{},p,_,m;for(p=0;p<=u;++p)_=i[(a+(f?u-p:p))%o],!_.skip&&(d?(t.moveTo(_.x,_.y),d=!1):c(t,m,_,f,s.stepped),m=_);return l&&(_=i[(a+(f?u:0))%o],c(t,m,_,f,s.stepped)),!!l}function vj(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=UA(i,n,r),{move:l=!0,reverse:u}=r||{};let c=0,d=0,f,p,_,m,x,v;const w=A=>(o+(u?a-A:A))%s,T=()=>{m!==x&&(t.lineTo(c,x),t.lineTo(c,m),t.lineTo(c,v))};for(l&&(p=i[w(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[w(f)],p.skip)continue;const A=p.x,C=p.y,M=A|0;M===_?(C<m?m=C:C>x&&(x=C),c=(d*c+A)/++d):(T(),t.lineTo(A,C),_=M,d=0,m=x=C),v=C}T()}function Wm(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?vj:yj}function wj(t){return t.stepped?L9:t.tension||t.cubicInterpolationMode==="monotone"?V9:vs}function xj(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),zA(t,e.options),t.stroke(i)}function Ej(t,e,n,r){const{segments:i,options:s}=e,o=Wm(e);for(const a of i)zA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const Tj=typeof Path2D=="function";function bj(t,e,n,r){Tj&&!e.options.segment?xj(t,e,n,r):Ej(t,e,n,r)}class Ei extends Gr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;C9(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=$9(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],s=this.points,o=IA(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=wj(r);let u,c;for(u=0,c=o.length;u<c;++u){const{start:d,end:f}=o[u],p=s[d],_=s[f];if(p===_){a.push(p);continue}const m=Math.abs((i-p[n])/(_[n]-p[n])),x=l(p,_,m,r.stepped);x[n]=e[n],a.push(x)}return a.length===1?a[0]:a}pathSegment(e,n,r){return Wm(this)(e,this,n,r)}path(e,n,r){const i=this.segments,s=Wm(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(e,this,a,{start:n,end:n+r-1});return!!o}draw(e,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),bj(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}re(Ei,"id","line"),re(Ei,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),re(Ei,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),re(Ei,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function bE(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}class Ch extends Gr{constructor(n){super();re(this,"parsed");re(this,"skip");re(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return bE(this,n,"x",r)}inYRange(n,r){return bE(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!Pu(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,jm(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}re(Ch,"id","point"),re(Ch,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),re(Ch,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Sj(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:l,end:u}=a;u=If(l,u,i);const c=qm(n,i[l],i[u],a.loop);if(!e.segments){o.push({source:a,target:c,start:i[l],end:i[u]});continue}const d=IA(e,c);for(const f of d){const p=qm(n,s[f.start],s[f.end],f.loop),_=SA(a,i,p);for(const m of _)o.push({source:m,target:f,start:{[n]:SE(c,p,"start",Math.max)},end:{[n]:SE(c,p,"end",Math.min)}})}}return o}function qm(t,e,n,r){if(r)return;let i=e[t],s=n[t];return t==="angle"&&(i=ir(i),s=ir(s)),{property:t,start:i,end:s}}function Ij(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=If(o,a,i);const l=i[o],u=i[a];r!==null?(s.push({x:l.x,y:r}),s.push({x:u.x,y:r})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:u.y}))}),s}function If(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function SE(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function jA(t,e){let n=[],r=!1;return st(t)?(r=!0,n=t):n=Ij(t,e),n.length?new Ei({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function IE(t){return t&&t.fill!==!1}function kj(t,e,n){let i=t[e].fill;const s=[e];let o;if(!n)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!Lt(i))return i;if(o=t[i],!o)return!1;if(o.visible)return i;s.push(i),i=o.fill}return!1}function Cj(t,e,n){const r=Dj(t);if(pe(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return Lt(i)&&Math.floor(i)===i?Aj(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Aj(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function Pj(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:pe(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Rj(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:pe(t)?r=t.value:r=e.getBaseValue(),r}function Dj(t){const e=t.options,n=e.fill;let r=he(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Mj(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=Nj(e,n);a.push(jA({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const u=s[l];for(let c=u.start;c<=u.end;c++)Oj(i,o[c],a)}return new Ei({points:i,options:{}})}function Nj(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function Oj(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=Lj(s,e,"x");if(!(!l||o&&a)){if(o)r.unshift(l);else if(t.push(l),!a)break}}t.push(...r)}function Lj(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const c=s[u],d=o[c.start][n],f=o[c.end][n];if(Co(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:r}}class BA{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:s,radius:o}=this;return n=n||{start:0,end:Wn},e.arc(i,s,o,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,s=e.angle;return{x:n+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function Vj(t){const{chart:e,fill:n,line:r}=t;if(Lt(n))return Fj(e,n);if(n==="stack")return Mj(t);if(n==="shape")return!0;const i=zj(t);return i instanceof BA?i:jA(i,r)}function Fj(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function zj(t){return(t.scale||{}).getPointPositionForValue?jj(t):Uj(t)}function Uj(t){const{scale:e={},fill:n}=t,r=Pj(n,e);if(Lt(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function jj(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=Rj(n,e,s),a=[];if(r.grid.circular){const l=e.getPointPositionForValue(0,s);return new BA({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}function Zp(t,e,n){const r=Vj(e),{chart:i,index:s,line:o,scale:a,axis:l}=e,u=o.options,c=u.fill,d=u.backgroundColor,{above:f=d,below:p=d}=c||{},_=i.getDatasetMeta(s),m=kA(i,_);r&&o.points.length&&(xf(t,n),Bj(t,{line:o,target:r,above:f,below:p,area:n,scale:a,axis:l,clip:m}),Ef(t))}function Bj(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a,clip:l}=e,u=n._loop?"angle":e.axis;t.save();let c=s;s!==i&&(u==="x"?(kE(t,r,o.top),eg(t,{line:n,target:r,color:i,scale:a,property:u,clip:l}),t.restore(),t.save(),kE(t,r,o.bottom)):u==="y"&&(CE(t,r,o.left),eg(t,{line:n,target:r,color:s,scale:a,property:u,clip:l}),t.restore(),t.save(),CE(t,r,o.right),c=i)),eg(t,{line:n,target:r,color:c,scale:a,property:u,clip:l}),t.restore()}function kE(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,c=i[l],d=i[If(l,u,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function CE(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:l,end:u}=a,c=i[l],d=i[If(l,u,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(n,c.y),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(n,d.y)}t.lineTo(n,e.first().y),t.closePath(),t.clip()}function eg(t,e){const{line:n,target:r,property:i,color:s,scale:o,clip:a}=e,l=Sj(n,r,i);for(const{source:u,target:c,start:d,end:f}of l){const{style:{backgroundColor:p=s}={}}=u,_=r!==!0;t.save(),t.fillStyle=p,$j(t,o,a,_&&qm(i,d,f)),t.beginPath();const m=!!n.pathSegment(t,u);let x;if(_){m?t.closePath():AE(t,r,f,i);const v=!!r.pathSegment(t,c,{move:m,reverse:!0});x=m&&v,x||AE(t,r,d,i)}t.closePath(),t.fill(x?"evenodd":"nonzero"),t.restore()}}function $j(t,e,n,r){const i=e.chart.chartArea,{property:s,start:o,end:a}=r||{};if(s==="x"||s==="y"){let l,u,c,d;s==="x"?(l=o,u=i.top,c=a,d=i.bottom):(l=i.left,u=o,c=i.right,d=a),t.beginPath(),n&&(l=Math.max(l,n.left),c=Math.min(c,n.right),u=Math.max(u,n.top),d=Math.min(d,n.bottom)),t.rect(l,u,c-l,d-u),t.clip()}}function AE(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var Hj={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Ei&&(l={visible:t.isDatasetVisible(o),index:o,fill:Cj(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],!(!l||l.fill===!1)&&(l.fill=kj(i,o,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),r&&a.fill&&Zp(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;IE(s)&&Zp(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!IE(r)||n.drawTime!=="beforeDatasetDraw"||Zp(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const PE=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Wj=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class RE extends Gr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ce(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Rt(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=PE(r,s);let u,c;n.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(o,s,a,l)+10):(c=this.maxHeight,u=this._fitCols(o,i,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-c;return this.legendItems.forEach((_,m)=>{const x=r+n/2+s.measureText(_.text).width;(m===0||u[u.length-1]+x+2*a>o)&&(d+=c,u[u.length-(m>0?0:1)]=0,p+=c,f++),l[m]={left:0,top:p,row:f,width:x,height:i},u[u.length-1]+=x+a}),d}_fitCols(e,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=o-e;let d=a,f=0,p=0,_=0,m=0;return this.legendItems.forEach((x,v)=>{const{itemWidth:w,itemHeight:T}=qj(r,n,s,x,i);v>0&&p+T+2*a>c&&(d+=f+a,u.push({width:f,height:p}),_+=f+a,m++,f=p=0),l[v]={left:_,top:p,col:m,width:w,height:T},f=Math.max(f,w),p+=T+a}),d+=f,u.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=Wo(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=It(r,this.left+i,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=It(r,this.left+i,this.right-this.lineWidths[a])),u.top+=this.top+e+i,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+i}else{let a=0,l=It(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=It(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+i,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;xf(e,this),this._draw(),Ef(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=e,a=Ye.color,l=Wo(e.rtl,this.left,this.width),u=Rt(o.font),{padding:c}=o,d=u.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:_,boxHeight:m,itemHeight:x}=PE(o,d),v=function(M,b,E){if(isNaN(_)||_<=0||isNaN(m)||m<0)return;i.save();const S=he(E.lineWidth,1);if(i.fillStyle=he(E.fillStyle,a),i.lineCap=he(E.lineCap,"butt"),i.lineDashOffset=he(E.lineDashOffset,0),i.lineJoin=he(E.lineJoin,"miter"),i.lineWidth=S,i.strokeStyle=he(E.strokeStyle,a),i.setLineDash(he(E.lineDash,[])),o.usePointStyle){const k={radius:m*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:S},R=l.xPlus(M,_/2),D=b+f;gA(i,k,R,D,o.pointStyleWidth&&_)}else{const k=b+Math.max((d-m)/2,0),R=l.leftForLtr(M,_),D=Wl(E.borderRadius);i.beginPath(),Object.values(D).some(P=>P!==0)?Bm(i,{x:R,y:k,w:_,h:m,radius:D}):i.rect(R,k,_,m),i.fill(),S!==0&&i.stroke()}i.restore()},w=function(M,b,E){Ru(i,E.text,M,b+x/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},T=this.isHorizontal(),A=this._computeTitleHeight();T?p={x:It(s,this.left+c,this.right-r[0]),y:this.top+c+A,line:0}:p={x:this.left+c,y:It(s,this.top+A+c,this.bottom-n[0].height),line:0},EA(this.ctx,e.textDirection);const C=x+c;this.legendItems.forEach((M,b)=>{i.strokeStyle=M.fontColor,i.fillStyle=M.fontColor;const E=i.measureText(M.text).width,S=l.textAlign(M.textAlign||(M.textAlign=o.textAlign)),k=_+f+E;let R=p.x,D=p.y;l.setWidth(this.width),T?b>0&&R+k+c>this.right&&(D=p.y+=C,p.line++,R=p.x=It(s,this.left+c,this.right-r[p.line])):b>0&&D+C>this.bottom&&(R=p.x=R+n[p.line].width+c,p.line++,D=p.y=It(s,this.top+A+c,this.bottom-n[p.line].height));const P=l.x(R);if(v(P,D,M),R=$z(S,R+_+f,T?R+k:this.right,e.rtl),w(l.x(R),D,M),T)p.x+=k+c;else if(typeof M.text!="string"){const J=u.lineHeight;p.y+=$A(M,J)+c}else p.y+=C}),TA(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Rt(n.font),i=Nn(n.padding);if(!n.display)return;const s=Wo(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,u=i.top+l;let c,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),c=this.top+u,d=It(e.align,d,this.right-f);else{const _=this.columnSizes.reduce((m,x)=>Math.max(m,x.height),0);c=u+It(e.align,this.top,this.bottom-_-e.labels.padding-this._computeTitleHeight())}const p=It(a,d,d+f);o.textAlign=s.textAlign(d0(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,Ru(o,n.text,p,c,r)}_computeTitleHeight(){const e=this.options.title,n=Rt(e.font),r=Nn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,s;if(Co(e,this.left,this.right)&&Co(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],Co(e,i.left,i.left+i.width)&&Co(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Qj(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Wj(i,r);i&&!s&&Ce(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!s&&Ce(n.onHover,[e,r,this],this)}else r&&Ce(n.onClick,[e,r,this],this)}}function qj(t,e,n,r,i){const s=Gj(r,t,e,n),o=Kj(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}function Gj(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+r.measureText(i).width}function Kj(t,e,n){let r=t;return typeof e.text!="string"&&(r=$A(e,n)),r}function $A(t,e){const n=t.text?t.text.length:0;return e*n}function Qj(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Yj={id:"legend",_element:RE,start(t,e,n){const r=t.legend=new RE({ctx:t.ctx,options:n,chart:t});Pn.configure(t,r,n),Pn.addBox(t,r)},stop(t){Pn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Pn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),c=Nn(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:r||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class HA extends Gr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=st(r.text)?r.text.length:1;this._padding=Nn(r.padding);const s=i*Rt(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,u,c,d;return this.isHorizontal()?(c=It(a,r,s),d=n+e,u=s-r):(o.position==="left"?(c=r+e,d=It(a,i,n),l=dt*-.5):(c=s-e,d=It(a,n,i),l=dt*.5),u=i-n),{titleX:c,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Rt(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Ru(e,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:u,textAlign:d0(n.align),textBaseline:"middle",translation:[o,a]})}}function Xj(t,e){const n=new HA({ctx:t.ctx,options:e,chart:t});Pn.configure(t,n,e),Pn.addBox(t,n),t.titleBlock=n}var Jj={id:"title",_element:HA,start(t,e,n){Xj(t,n)},stop(t){const e=t.titleBlock;Pn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Pn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const El={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=zm(e,u);c<i&&(i=c,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function Zn(t,e){return e&&(st(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Er(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Zj(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function DE(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=Rt(e.bodyFont),u=Rt(e.titleFont),c=Rt(e.footerFont),d=s.length,f=i.length,p=r.length,_=Nn(e.padding);let m=_.height,x=0,v=r.reduce((A,C)=>A+C.before.length+C.lines.length+C.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(m+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const A=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*A+(v-p)*l.lineHeight+(v-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*c.lineHeight+(f-1)*e.footerSpacing);let w=0;const T=function(A){x=Math.max(x,n.measureText(A).width+w)};return n.save(),n.font=u.string,ye(t.title,T),n.font=l.string,ye(t.beforeBody.concat(t.afterBody),T),w=e.displayColors?o+2+e.boxPadding:0,ye(r,A=>{ye(A.before,T),ye(A.lines,T),ye(A.after,T)}),w=0,n.font=c.string,ye(t.footer,T),n.restore(),x+=_.width,{width:x,height:m}}function eB(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function tB(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(t==="left"&&i+s+o>e.width||t==="right"&&i-s-o<0)return!0}function nB(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return r==="center"?u=i<=(a+l)/2?"left":"right":i<=s/2?u="left":i>=o-s/2&&(u="right"),tB(u,t,e,n)&&(u="center"),u}function ME(t,e,n){const r=n.yAlign||e.yAlign||eB(t,n);return{xAlign:n.xAlign||e.xAlign||nB(t,e,n,r),yAlign:r}}function rB(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function iB(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function NE(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=i+s,{topLeft:c,topRight:d,bottomLeft:f,bottomRight:p}=Wl(o);let _=rB(e,a);const m=iB(e,l,u);return l==="center"?a==="left"?_+=u:a==="right"&&(_-=u):a==="left"?_-=Math.max(c,f)+i:a==="right"&&(_+=Math.max(d,p)+i),{x:An(_,0,r.width-e.width),y:An(m,0,r.height-e.height)}}function Qc(t,e,n){const r=Nn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function OE(t){return Zn([],Er(t))}function sB(t,e,n){return to(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function LE(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const WA={beforeTitle:wr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:wr,beforeBody:wr,beforeLabel:wr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Se(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:wr,afterBody:wr,beforeFooter:wr,footer:wr,afterFooter:wr};function Wt(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?WA[e].call(n,r):i}class Gm extends Gr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new CA(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=sB(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Wt(r,"beforeTitle",this,e),s=Wt(r,"title",this,e),o=Wt(r,"afterTitle",this,e);let a=[];return a=Zn(a,Er(i)),a=Zn(a,Er(s)),a=Zn(a,Er(o)),a}getBeforeBody(e,n){return OE(Wt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return ye(e,s=>{const o={before:[],lines:[],after:[]},a=LE(r,s);Zn(o.before,Er(Wt(a,"beforeLabel",this,s))),Zn(o.lines,Wt(a,"label",this,s)),Zn(o.after,Er(Wt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(e,n){return OE(Wt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Wt(r,"beforeFooter",this,e),s=Wt(r,"footer",this,e),o=Wt(r,"afterFooter",this,e);let a=[];return a=Zn(a,Er(i)),a=Zn(a,Er(s)),a=Zn(a,Er(o)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(Zj(this.chart,n[l]));return e.filter&&(a=a.filter((c,d,f)=>e.filter(c,d,f,r))),e.itemSort&&(a=a.sort((c,d)=>e.itemSort(c,d,r))),ye(a,c=>{const d=LE(e.callbacks,c);i.push(Wt(d,"labelColor",this,c)),s.push(Wt(d,"labelPointStyle",this,c)),o.push(Wt(d,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=El[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=DE(this,r),u=Object.assign({},a,l),c=ME(this.chart,r,u),d=NE(r,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const s=this.getCaretPosition(e,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:d}=Wl(a),{x:f,y:p}=e,{width:_,height:m}=n;let x,v,w,T,A,C;return s==="center"?(A=p+m/2,i==="left"?(x=f,v=x-o,T=A+o,C=A-o):(x=f+_,v=x+o,T=A-o,C=A+o),w=x):(i==="left"?v=f+Math.max(l,c)+o:i==="right"?v=f+_-Math.max(u,d)-o:v=this.caretX,s==="top"?(T=p,A=T-o,x=v-o,w=v+o):(T=p+m,A=T+o,x=v+o,w=v-o),C=T),{x1:x,x2:v,x3:w,y1:T,y2:A,y3:C}}drawTitle(e,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const u=Wo(r.rtl,this.x,this.width);for(e.x=Qc(this,r.titleAlign,r),n.textAlign=u.textAlign(r.titleAlign),n.textBaseline="middle",o=Rt(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=s,c=Rt(s.bodyFont),d=Qc(this,"left",s),f=i.x(d),p=l<c.lineHeight?(c.lineHeight-l)/2:0,_=n.y+p;if(s.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},x=i.leftForLtr(f,u)+u/2,v=_+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,jm(e,m,x,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,jm(e,m,x,v)}else{e.lineWidth=pe(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(f,u),x=i.leftForLtr(i.xPlus(f,1),u-2),v=Wl(o.borderRadius);Object.values(v).some(w=>w!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Bm(e,{x:m,y:_,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Bm(e,{x,y:_+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,_,u,l),e.strokeRect(m,_,u,l),e.fillStyle=o.backgroundColor,e.fillRect(x,_+1,u-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:c}=r,d=Rt(r.bodyFont);let f=d.lineHeight,p=0;const _=Wo(r.rtl,this.x,this.width),m=function(E){n.fillText(E,_.x(e.x+p),e.y+f/2),e.y+=f+s},x=_.textAlign(o);let v,w,T,A,C,M,b;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Qc(this,x,r),n.fillStyle=r.bodyColor,ye(this.beforeBody,m),p=a&&x!=="right"?o==="center"?u/2+c:u+2+c:0,A=0,M=i.length;A<M;++A){for(v=i[A],w=this.labelTextColors[A],n.fillStyle=w,ye(v.before,m),T=v.lines,a&&T.length&&(this._drawColorBox(n,e,A,_,r),f=Math.max(d.lineHeight,l)),C=0,b=T.length;C<b;++C)m(T[C]),f=d.lineHeight;ye(v.after,m)}p=0,f=d.lineHeight,ye(this.afterBody,m),e.y-=s}drawFooter(e,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=Wo(r.rtl,this.x,this.width);for(e.x=Qc(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=Rt(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:c}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:_}=Wl(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+u,l+c-_),n.quadraticCurveTo(a+u,l+c,a+u-_,l+c),o==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,l+c),n.quadraticCurveTo(a,l+c,a,l+c-p),o==="center"&&s==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=El[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=DE(this,e),l=Object.assign({},o,this._size),u=ME(n,e,l),c=NE(e,l,u,n);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Nn(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,n),EA(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),TA(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!kd(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,r),a=this._positionChanged(o,e),l=n||!kd(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:r,caretY:i,options:s}=this,o=El[s.position].call(this,e,n);return o!==!1&&(r!==o.x||i!==o.y)}}re(Gm,"positioners",El);var oB={id:"tooltip",_element:Gm,positioners:El,afterInit(t,e,n){n&&(t.tooltip=new Gm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const aB=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function lB(t,e,n,r){const i=t.indexOf(e);if(i===-1)return aB(t,e,n,r);const s=t.lastIndexOf(e);return i!==s?n:i}const uB=(t,e)=>t===null?null:An(Math.round(t),0,e);function VE(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Km extends Ra{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Se(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:lB(r,e,he(n,e),this._addedLabels),uB(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=n;o++)i.push({value:o});return i}getLabelForValue(e){return VE.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}re(Km,"id","category"),re(Km,"defaults",{ticks:{callback:VE}});function cB(t,e){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:u,maxTicks:c,maxDigits:d,includeBounds:f}=t,p=s||1,_=c-1,{min:m,max:x}=e,v=!Se(o),w=!Se(a),T=!Se(u),A=(x-m)/(d+1);let C=Vx((x-m)/_/p)*p,M,b,E,S;if(C<1e-14&&!v&&!w)return[{value:m},{value:x}];S=Math.ceil(x/C)-Math.floor(m/C),S>_&&(C=Vx(S*C/_/p)*p),Se(l)||(M=Math.pow(10,l),C=Math.ceil(C*M)/M),i==="ticks"?(b=Math.floor(m/C)*C,E=Math.ceil(x/C)*C):(b=m,E=x),v&&w&&s&&Dz((a-o)/s,C/1e3)?(S=Math.round(Math.min((a-o)/C,c)),C=(a-o)/S,b=o,E=a):T?(b=v?o:b,E=w?a:E,S=u-1,C=(E-b)/S):(S=(E-b)/C,Bl(S,Math.round(S),C/1e3)?S=Math.round(S):S=Math.ceil(S));const k=Math.max(Fx(C),Fx(b));M=Math.pow(10,Se(l)?k:l),b=Math.round(b*M)/M,E=Math.round(E*M)/M;let R=0;for(v&&(f&&b!==o?(n.push({value:o}),b<o&&R++,Bl(Math.round((b+R*C)*M)/M,o,FE(o,A,t))&&R++):b<o&&R++);R<S;++R){const D=Math.round((b+R*C)*M)/M;if(w&&D>a)break;n.push({value:D})}return w&&f&&E!==a?n.length&&Bl(n[n.length-1].value,a,FE(a,A,t))?n[n.length-1].value=a:n.push({value:a}):(!w||E===a)&&n.push({value:E}),n}function FE(t,e,{horizontal:n,minRotation:r}){const i=Ss(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class hB extends Ra{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Se(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(e){const l=ga(i),u=ga(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=cB(i,s);return e.bounds==="ticks"&&Mz(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return fA(e,this.chart.options.locale,this.options.ticks.format)}}class Qm extends hB{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Lt(e)?e:0,this.max=Lt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=Ss(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}re(Qm,"id","linear"),re(Qm,"defaults",{ticks:{callback:pA.formatters.numeric}});const kf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qt=Object.keys(kf);function zE(t,e){return t-e}function UE(t,e){if(Se(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Lt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Au(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function jE(t,e,n,r){const i=Qt.length;for(let s=Qt.indexOf(t);s<i-1;++s){const o=kf[Qt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=r)return Qt[s]}return Qt[i-1]}function dB(t,e,n,r,i){for(let s=Qt.length-1;s>=Qt.indexOf(n);s--){const o=Qt[s];if(kf[o].common&&t._adapter.diff(i,r,o)>=e-1)return o}return Qt[n?Qt.indexOf(n):0]}function fB(t){for(let e=Qt.indexOf(t)+1,n=Qt.length;e<n;++e)if(kf[Qt[e]].common)return Qt[e]}function BE(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=h0(n,e),s=n[r]>=e?n[r]:n[i];t[s]=!0}}function pB(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}function $E(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:pB(t,r,i,n)}class Nd extends Ra{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new aU._date(e.adapters.date);i.init(n),jl(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:UE(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Lt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Lt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=zz(i,s,o);return this._unit=n.unit||(r.autoSkip?jE(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):dB(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:fB(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),$E(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=An(n,0,o),r=An(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||jE(s.minUnit,n,r,this._getLabelCapacity(n)),a=he(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=Au(l)||l===!0,c={};let d=n,f,p;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const _=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,o),p++)BE(c,f,_);return(f===r||i.bounds==="ticks"||p===1)&&BE(c,f,_),Object.keys(c).sort(zE).map(m=>+m)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return Ce(o,[e,n,r],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&a[l],d=u&&a[u],f=r[n],p=u&&d&&f&&f.major;return this._adapter.format(e,i||(p?d:c))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=Ss(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(e,0,$E(this,[e],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(UE(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return jz(e.sort(zE))}}re(Nd,"id","time"),re(Nd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Yc(t,e,n){let r=0,i=t.length-1,s,o,a,l;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=Is(t,"pos",e)),{pos:s,time:a}=t[r],{pos:o,time:l}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=Is(t,"time",e)),{time:s,pos:a}=t[r],{time:o,pos:l}=t[i]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class HE extends Nd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Yc(n,this.min),this._tableRange=Yc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],s=[];let o,a,l,u,c;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=r&&i.push(u);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)c=i[o+1],l=i[o-1],u=i[o],Math.round((c+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Yc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return Yc(this._table,r*this._tableRange+this._minPos,!0)}}re(HE,"id","timeseries"),re(HE,"defaults",Nd.defaults);const qA="label";function WE(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function gB(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function GA(t,e){t.labels=e}function KA(t,e,n=qA){const r=[];t.datasets=e.map(i=>{const s=t.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function mB(t,e=qA){const n={labels:[],datasets:[]};return GA(n,t.labels),KA(n,t.datasets,e),n}function _B(t,e){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:c,updateMode:d,...f}=t,p=O.useRef(null),_=O.useRef(null),m=()=>{p.current&&(_.current=new Sf(p.current,{type:o,data:mB(a,s),options:l&&{...l},plugins:u}),WE(e,_.current))},x=()=>{WE(e,null),_.current&&(_.current.destroy(),_.current=null)};return O.useEffect(()=>{!i&&_.current&&l&&gB(_.current,l)},[i,l]),O.useEffect(()=>{!i&&_.current&&GA(_.current.config.data,a.labels)},[i,a.labels]),O.useEffect(()=>{!i&&_.current&&a.datasets&&KA(_.current.config.data,a.datasets,s)},[i,a.datasets]),O.useEffect(()=>{_.current&&(i?(x(),setTimeout(m)):_.current.update(d))},[i,l,a.labels,a.datasets,d]),O.useEffect(()=>{_.current&&(x(),setTimeout(m))},[o]),O.useEffect(()=>(m(),()=>x()),[]),N.jsx("canvas",{ref:p,role:"img",height:n,width:r,...f,children:c})}const yB=O.forwardRef(_B);function vB(t,e){return Sf.register(e),O.forwardRef((n,r)=>N.jsx(yB,{...n,ref:r,type:t}))}const wB=vB("line",Sh);Sf.register(Km,Qm,Ch,Ei,Jj,oB,Yj,Hj);const xB=()=>{const t=O.useRef(),[e,n]=O.useState({activeCampaigns:2,pendingReview:0,scheduled:0});Xs(()=>{Ut.timeline().from(".dashboard-header",{y:-20,opacity:0,duration:.8,ease:"power3.out"}).from(".stat-card",{y:30,opacity:0,duration:.6,stagger:.1,ease:"back.out(1.7)"},"-=0.4").from(".chart-section",{y:20,opacity:0,duration:.8,stagger:.2,ease:"power2.out"},"-=0.2")},{scope:t}),O.useEffect(()=>{const o=eA(Sd(Ho,"content"),a=>{let l=0,u=0;a.forEach(c=>{const d=c.data();d.status==="IN_REVIEW"&&l++,d.status==="SCHEDULED"&&u++}),n(c=>({...c,pendingReview:l,scheduled:u}))});return()=>o()},[]);const r={labels:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],datasets:[{label:"Engagement",data:[12,19,15,25,22,30,45],fill:!0,backgroundColor:o=>{const l=o.chart.ctx.createLinearGradient(0,0,0,400);return l.addColorStop(0,"rgba(99, 102, 241, 0.4)"),l.addColorStop(1,"rgba(99, 102, 241, 0)"),l},borderColor:"#6366F1",tension:.4,pointBackgroundColor:"#fff",pointBorderColor:"#6366F1",pointBorderWidth:2,pointRadius:4,pointHoverRadius:6}]},i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(17, 24, 39, 0.9)",titleColor:"#fff",bodyColor:"#fff",borderColor:"rgba(255, 255, 255, 0.1)",borderWidth:1,padding:12,cornerRadius:8,displayColors:!1,titleFont:{family:"Outfit",size:14},bodyFont:{family:"Outfit",size:13}}},scales:{y:{grid:{color:"rgba(255, 255, 255, 0.03)"},ticks:{color:"#9CA3AF",font:{family:"Outfit"}},border:{display:!1}},x:{grid:{display:!1},ticks:{color:"#9CA3AF",font:{family:"Outfit"}},border:{display:!1}}}},s=({title:o,value:a,icon:l,color:u,trend:c})=>N.jsxs("div",{className:"stat-card relative group p-6 rounded-3xl bg-white dark:bg-white/[0.03] border border-gray-100 dark:border-white/[0.05] shadow-xl shadow-gray-200/50 dark:shadow-none backdrop-blur-xl overflow-hidden hover:border-brand-accent/20 transition-all duration-500 hover:-translate-y-2",children:[N.jsx("div",{className:`absolute -right-10 -top-10 w-40 h-40 rounded-full blur-[60px] opacity-0 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity duration-700 ${u.replace("text-","bg-")}`}),N.jsxs("div",{className:"relative z-10",children:[N.jsxs("div",{className:"flex justify-between items-start mb-4",children:[N.jsx("div",{className:`w-12 h-12 rounded-2xl ${u.replace("text-","bg-")}/10 border border-gray-100 dark:border-white/5 flex items-center justify-center text-white group-hover:scale-110 transition-transform duration-500`,children:N.jsx(l,{size:22,className:u})}),N.jsxs("span",{className:`flex items-center gap-1 text-xs font-semibold px-2.5 py-1 rounded-full border border-gray-100 dark:border-white/5 ${u.replace("text-","bg-")}/10 ${u}`,children:[N.jsx(FM,{size:12})," ",c]})]}),N.jsx("h3",{className:"text-4xl font-bold text-gray-900 dark:text-white font-display mb-1",children:a}),N.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium tracking-wide",children:o})]})]});return N.jsxs("div",{ref:t,className:"space-y-8",children:[N.jsxs("div",{className:"dashboard-header",children:[N.jsxs("h1",{className:"text-5xl font-bold font-display text-gray-900 dark:text-white mb-2",children:["Good evening, ",N.jsx("span",{className:"text-brand-accent",children:"Alex"})]}),N.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-light",children:"Here's your marketing command center."})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[N.jsx(s,{title:"Active Campaigns",value:e.activeCampaigns,icon:Ow,color:"text-brand-accent",trend:"12%"}),N.jsx(s,{title:"Pending Review",value:e.pendingReview,icon:vN,color:"text-amber-500 dark:text-amber-400",trend:"5%"}),N.jsx(s,{title:"Scheduled",value:e.scheduled,icon:IS,color:"text-emerald-500 dark:text-emerald-400",trend:"8%"})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[N.jsxs("div",{className:"chart-section lg:col-span-2 p-8 rounded-[2rem] bg-white dark:bg-white/[0.02] border border-gray-100 dark:border-white/[0.05] shadow-xl shadow-gray-200/50 dark:shadow-none backdrop-blur-md relative overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-gray-50 dark:to-brand-dark/50 opacity-50 pointer-events-none"}),N.jsxs("div",{className:"relative z-10",children:[N.jsxs("div",{className:"flex items-center justify-between mb-8",children:[N.jsx("h3",{className:"text-xl font-bold font-display text-gray-900 dark:text-white",children:"Engagement Overview"}),N.jsxs("select",{className:"bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-2 text-sm text-gray-600 dark:text-gray-300 outline-none hover:bg-gray-200 dark:hover:bg-white/10 transition-colors cursor-pointer",children:[N.jsx("option",{children:"Last 7 Days"}),N.jsx("option",{children:"Last 30 Days"})]})]}),N.jsx("div",{className:"h-72 w-full",children:N.jsx(wB,{data:r,options:i})})]})]}),N.jsxs("div",{className:"chart-section p-8 rounded-[2rem] bg-gradient-to-br from-brand-accent to-purple-600 dark:from-brand-accent/20 dark:to-purple-600/20 border border-white/10 flex flex-col justify-center items-center text-center space-y-6 relative overflow-hidden group shadow-2xl shadow-brand-accent/20",children:[N.jsx("div",{className:"absolute inset-0 bg-white/10 blur-[100px] group-hover:bg-white/20 transition-colors duration-700"}),N.jsx("div",{className:"relative z-10 w-24 h-24 rounded-3xl bg-white/20 border border-white/20 flex items-center justify-center animate-float shadow-2xl backdrop-blur-sm",children:N.jsx(Ow,{size:40,className:"text-white drop-shadow-lg"})}),N.jsxs("div",{className:"relative z-10",children:[N.jsx("h3",{className:"text-2xl font-bold font-display text-white mb-2",children:"Pro Analysis"}),N.jsxs("p",{className:"text-white/80 text-sm leading-relaxed max-w-[200px] mx-auto",children:["Posts with emojis are performing ",N.jsx("span",{className:"font-bold text-white border-b border-white/50",children:"23% better"})," this week."]})]}),N.jsx("button",{className:"relative z-10 px-8 py-3 rounded-xl bg-white text-brand-accent font-bold hover:scale-105 active:scale-95 transition-transform duration-300 shadow-xl shadow-black/20",children:"Analyze Now"})]})]})]})},EB=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(!0),i=W_(),s=O.useRef(),o=[{id:"DRAFT",label:"Drafts",color:"border-white/10"},{id:"IN_REVIEW",label:"In Review",color:"border-amber-500/30"},{id:"APPROVED",label:"Approved",color:"border-emerald-500/30"},{id:"SCHEDULED",label:"Scheduled",color:"border-brand-accent/30"}];Xs(()=>{Ut.from(".campaign-header",{y:-30,opacity:0,duration:1,ease:"power3.out"}),Ut.from(".kanban-column",{y:50,opacity:0,duration:.8,stagger:.15,ease:"back.out(1.2)",delay:.2})},{scope:s}),O.useEffect(()=>{const c=q6(Sd(Ho,"content"),G6("createdAt","desc")),d=eA(c,f=>{const p=f.docs.map(_=>({id:_.id,..._.data()}));e(p),r(!1),Ut.fromTo(".kanban-card",{opacity:0,y:20},{opacity:1,y:0,duration:.4,stagger:.05,ease:"power2.out",clearProps:"all"})},f=>{console.error("Error fetching campaigns:",f),r(!1)});return()=>d()},[]);const a=async()=>{try{const c=await ZC(Sd(Ho,"content"),{title:"Untitled Campaign",content:"",status:"DRAFT",platform:"Instagram",createdAt:new Date().toISOString()});i(`/editor/${c.id}`)}catch(c){console.error("Error creating new task:",c)}},l=c=>{switch(c==null?void 0:c.toLowerCase()){case"twitter":return N.jsx(gN,{size:14,className:"text-sky-400"});case"instagram":return N.jsx(WM,{size:14,className:"text-pink-400"});case"linkedin":return N.jsx(QM,{size:14,className:"text-blue-500"});default:return N.jsx(jM,{size:14,className:"text-gray-400"})}},u=c=>{switch(c){case"DRAFT":return"bg-gray-500";case"IN_REVIEW":return"bg-amber-400";case"APPROVED":return"bg-emerald-400";case"SCHEDULED":return"bg-brand-accent";default:return"bg-gray-500"}};return N.jsxs("div",{ref:s,className:"flex flex-col h-[calc(100vh-140px)]",children:[N.jsxs("div",{className:"campaign-header flex items-center justify-between mb-8",children:[N.jsxs("div",{children:[N.jsx("h1",{className:"text-4xl font-bold font-display text-gray-900 dark:text-white mb-2",children:"Campaign Board"}),N.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Manage your content pipeline with style."})]}),N.jsxs("button",{onClick:a,className:"group relative px-6 py-3 rounded-xl bg-gray-900 dark:bg-white text-white dark:text-black font-bold flex items-center gap-2 overflow-hidden transition-all hover:scale-105 hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] shadow-lg",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-brand-accent to-brand-glow opacity-0 group-hover:opacity-20 transition-opacity"}),N.jsx(iN,{size:20}),"New Campaign"]})]}),N.jsx("div",{className:"flex-1 overflow-x-auto pb-4",children:N.jsx("div",{className:"flex gap-6 min-w-full h-full",children:o.map(c=>N.jsxs("div",{className:"kanban-column w-[350px] flex-shrink-0 flex flex-col h-full",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:`w-2 h-2 rounded-full ${u(c.id)} shadow-[0_0_10px_currentColor]`}),N.jsx("h3",{className:"font-bold text-gray-600 dark:text-gray-300 font-display tracking-wide uppercase text-sm",children:c.label})]}),N.jsx("span",{className:"text-xs font-bold text-gray-500 dark:text-gray-500 bg-black/5 dark:bg-white/5 px-2.5 py-1 rounded-lg border border-gray-200 dark:border-white/5",children:t.filter(d=>d.status===c.id).length})]}),N.jsxs("div",{className:`flex-1 rounded-3xl bg-white/[0.02] border border-dashed ${c.color} p-4 space-y-4 overflow-y-auto scrollbar-hide`,children:[t.filter(d=>d.status===c.id).map((d,f)=>N.jsxs(Y_,{to:`/editor/${d.id}`,className:"kanban-card group block relative bg-white dark:bg-brand-light/30 backdrop-blur-md border border-gray-100 dark:border-white/5 rounded-2xl p-5 transition-all duration-300 hover:-translate-y-1 hover:shadow-xl hover:shadow-brand-accent/5 hover:border-brand-accent/30 overflow-hidden",children:[N.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-accent/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"}),N.jsxs("div",{className:"relative z-10",children:[N.jsxs("div",{className:"flex items-start justify-between mb-3",children:[N.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded-lg bg-gray-100 dark:bg-black/30 border border-gray-100 dark:border-white/5 backdrop-blur-sm text-gray-500 dark:text-gray-300 group-hover:border-brand-accent/30 transition-colors",children:[l(d.platform),d.platform]}),d.scheduledDate&&N.jsxs("span",{className:"flex items-center gap-1 text-[10px] text-brand-accent font-medium bg-brand-accent/10 px-2 py-1 rounded-lg",children:[N.jsx(IS,{size:10}),new Date(d.scheduledDate).toLocaleDateString()]})]}),N.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2 leading-tight group-hover:text-brand-accent transition-colors font-display",children:d.title||"Untitled Campaign"}),N.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 font-light",children:d.content||"Start writing your masterpiece..."}),N.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100 dark:border-white/5",children:[N.jsx("div",{className:"flex -space-x-2",children:N.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-tr from-brand-accent to-brand-glow flex items-center justify-center text-[8px] text-white font-bold ring-2 ring-white dark:ring-[#0B0C15]",children:"A"})}),N.jsx("span",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-medium group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-colors",children:"Click to edit "})]})]})]},d.id)),t.filter(d=>d.status===c.id).length===0&&N.jsx("div",{className:"h-24 rounded-2xl border border-dashed border-gray-200 dark:border-white/5 flex items-center justify-center text-gray-400 dark:text-gray-600 text-sm italic",children:"Empty"})]})]},c.id))})})]})},tg="AIzaSyB561_xWwbHvrjpLYzyvr5Hl1vFPQvDi1M",TB=async(t,e)=>{var n;try{const i=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${tg}`)).json();if(i.error)return`API Error: ${i.error.message}`;const s=(n=i.models)==null?void 0:n.find(l=>l.supportedGenerationMethods.includes("generateContent")&&(l.name.includes("flash")||l.name.includes("pro")));if(!s)return"Error: No text-generation models found for your API Key.";console.log(` Using: ${s.name}`);const a=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/${s.name}:generateContent?key=${tg}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Write ONE ${e} post about "${t}". Make it exciting with emojis and hashtags. DO NOT use markdown formatting (no **, >, #, etc.). Just write the plain text post ready to copy-paste. Keep it under 200 words.`}]}]})})).json();if(a.candidates&&a.candidates.length>0){let l=a.candidates[0].content.parts[0].text;return l=l.replace(/\*\*/g,"").replace(/\*/g,"").replace(/^>\s*/gm,"").replace(/^#{1,6}\s/gm,"").trim(),console.log(" Content generated!"),l}else return"Error: Model returned no text. Try again."}catch(r){return console.error("Network Error:",r),"Error: Could not connect to Google AI."}},bB=()=>{const{id:t}=LD(),e=W_(),n=O.useRef(),[r,i]=O.useState(!1),[s,o]=O.useState(""),[a,l]=O.useState(""),[u,c]=O.useState({platform:"Instagram",scheduledDate:"",status:"DRAFT"}),[d,f]=O.useState(""),[p,_]=O.useState(!1),[m,x]=O.useState(!0);Xs(()=>{Ut.from(".editor-main",{x:-50,opacity:0,duration:1,ease:"power3.out"}),Ut.from(".ai-panel",{x:100,opacity:0,duration:1,ease:"power3.out",delay:.2}),Ut.from(".toolbar-item",{y:-20,opacity:0,duration:.6,stagger:.1,ease:"back.out(1.7)",delay:.4})},{scope:n}),O.useEffect(()=>{t&&(async()=>{const A=Vm(Ho,"content",t),C=await Y6(A);if(C.exists()){const M=C.data();l(M.title),o(M.content),c({platform:M.platform,scheduledDate:M.scheduledDate,status:M.status})}})()},[t]);const v=async()=>{i(!0);try{const T={title:a,content:s,...u,lastUpdated:new Date().toISOString()};t?await X6(Vm(Ho,"content",t),T):await ZC(Sd(Ho,"content"),T),e("/campaigns")}catch(T){console.error("Error saving post:",T)}finally{i(!1)}},w=async()=>{if(d.trim()){_(!0),Ut.to(".ai-button",{scale:.95,duration:.2});try{const T=await TB(d,u.platform);o(A=>A?A+`

`+T:T),f(""),Ut.to(".ai-button",{scale:1,duration:.2})}catch(T){console.error("Error generating content:",T),_(!1),Ut.to(".ai-button",{scale:1,duration:.2})}finally{_(!1)}}};return N.jsxs("div",{ref:n,className:"flex h-[calc(100vh-100px)] gap-6 overflow-hidden",children:[N.jsxs("div",{className:"editor-main flex-1 flex flex-col bg-white dark:bg-white/5 backdrop-blur-md rounded-3xl border border-gray-100 dark:border-white/10 overflow-hidden shadow-xl dark:shadow-2xl",children:[N.jsxs("div",{className:"h-16 border-b border-gray-100 dark:border-white/5 flex items-center justify-between px-6 bg-white/50 dark:bg-white/5",children:[N.jsx("button",{onClick:()=>e("/campaigns"),className:"toolbar-item p-2 hover:bg-gray-100 dark:hover:bg-white/10 rounded-xl text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:N.jsx(LM,{size:20})}),N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:`toolbar-item px-3 py-1 rounded-full text-xs font-semibold uppercase tracking-wider ${u.status==="PUBLISHED"?"bg-emerald-500/10 text-emerald-500":"bg-amber-500/10 text-amber-500"}`,children:u.status}),N.jsxs("button",{onClick:v,disabled:r,className:"toolbar-item flex items-center gap-2 px-4 py-2 rounded-xl bg-brand-accent hover:bg-brand-accent/80 text-white font-medium transition-all hover:shadow-lg hover:shadow-brand-accent/20",children:[N.jsx(oN,{size:18}),r?"Saving...":"Save Draft"]})]})]}),N.jsxs("div",{className:"flex-1 overflow-y-auto p-8 max-w-3xl mx-auto w-full",children:[N.jsx("input",{type:"text",value:a,onChange:T=>l(T.target.value),placeholder:"Post Title...",className:"w-full bg-transparent text-4xl font-bold text-gray-900 dark:text-white placeholder-gray-300 dark:placeholder-gray-600 outline-none mb-8 font-display"}),N.jsx("textarea",{value:s,onChange:T=>o(T.target.value),placeholder:"Start writing your masterpiece...",className:"w-full h-[calc(100%-100px)] bg-transparent text-lg text-gray-700 dark:text-gray-300 placeholder-gray-300 dark:placeholder-gray-600 outline-none resize-none leading-relaxed font-serif"})]}),N.jsxs("div",{className:"h-14 border-t border-gray-100 dark:border-white/5 flex items-center px-6 gap-4 text-gray-400 dark:bg-black/20",children:[N.jsx("button",{className:"toolbar-item hover:text-brand-accent dark:hover:text-white transition-colors",children:N.jsx($M,{size:18})}),N.jsx("button",{className:"toolbar-item hover:text-brand-accent dark:hover:text-white transition-colors",children:N.jsx(_N,{size:18})}),N.jsx("button",{className:"toolbar-item hover:text-brand-accent dark:hover:text-white transition-colors",children:N.jsx(eN,{size:18})})]})]}),N.jsxs("div",{className:`ai-panel w-80 flex flex-col gap-4 transition-all duration-300 ${m?"translate-x-0":"translate-x-full hidden"}`,children:[N.jsxs("div",{className:"bg-white dark:bg-brand-dark/50 backdrop-blur-xl border border-gray-100 dark:border-brand-accent/30 rounded-3xl p-6 flex flex-col gap-4 shadow-xl dark:shadow-2xl relative overflow-hidden",children:[N.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-brand-accent/5 dark:bg-brand-accent/20 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),N.jsxs("div",{className:"flex items-center gap-2 text-brand-accent mb-2",children:[N.jsx(xN,{size:20}),N.jsx("h3",{className:"font-bold font-display uppercase tracking-wider text-sm",children:"AI Assistant"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 block",children:"Platform"}),N.jsxs("select",{value:u.platform,onChange:T=>c({...u,platform:T.target.value}),className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:border-brand-accent/50 transition-colors",children:[N.jsx("option",{children:"Instagram"}),N.jsx("option",{children:"Twitter"}),N.jsx("option",{children:"LinkedIn"})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-2 block",children:"Topic / Prompt"}),N.jsx("textarea",{value:d,onChange:T=>f(T.target.value),placeholder:"e.g. Summer Sale announcement...",className:"w-full bg-gray-50 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white outline-none focus:border-brand-accent/50 transition-colors h-32 resize-none text-sm"})]}),N.jsxs("button",{onClick:w,disabled:p||!d,className:"ai-button relative overflow-hidden group w-full py-4 rounded-xl bg-gradient-to-r from-brand-accent to-brand-glow text-white font-bold shadow-lg shadow-brand-accent/20 transition-all hover:shadow-brand-accent/40 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[N.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),N.jsx("div",{className:"relative flex items-center justify-center gap-2",children:p?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),N.jsx("span",{children:"Generating..."})]}):N.jsxs(N.Fragment,{children:[N.jsx(cN,{size:18}),N.jsx("span",{children:"Generate Magic"})]})})]})]}),N.jsxs("div",{className:"bg-white/50 dark:bg-white/5 border border-white/50 dark:border-white/10 rounded-3xl p-6",children:[N.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-3 text-sm",children:"Pro Tips"}),N.jsxs("ul",{className:"space-y-3 text-sm text-gray-500 dark:text-gray-400",children:[N.jsxs("li",{className:"flex gap-2",children:[N.jsx("span",{className:"text-brand-accent",children:""}),"Use active voice for better engagement"]}),N.jsxs("li",{className:"flex gap-2",children:[N.jsx("span",{className:"text-brand-accent",children:""}),"Include 3-5 relevant hashtags"]}),N.jsxs("li",{className:"flex gap-2",children:[N.jsx("span",{className:"text-brand-accent",children:""}),"Ask a question to drive comments"]})]})]})]})]})};function SB(){const[t,e]=O.useState("admin");return N.jsx($O,{children:N.jsx(xM,{children:N.jsx(WO,{userRole:t,setUserRole:e,children:N.jsxs(XD,{children:[N.jsx(uh,{path:"/",element:N.jsx(xB,{})}),N.jsx(uh,{path:"/campaigns",element:N.jsx(EB,{})}),N.jsx(uh,{path:"/editor/:id?",element:N.jsx(bB,{})})]})})})})}ng.createRoot(document.getElementById("root")).render(N.jsx(BP.StrictMode,{children:N.jsx(SB,{})}));
